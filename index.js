var Wt=Object['defineProperty'];var Jt=(_0x1127aa,_0x221c9c,_0x2fe821)=>_0x221c9c in _0x1127aa?Wt(_0x1127aa,_0x221c9c,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x2fe821}):_0x1127aa[_0x221c9c]=_0x2fe821;var o=(_0x591def,_0x555dd0,_0x3343bc)=>(Jt(_0x591def,typeof _0x555dd0!='symbol'?_0x555dd0+'':_0x555dd0,_0x3343bc),_0x3343bc);(function(){const _0x3797a9=document['createElement']('link')['relList'];if(_0x3797a9&&_0x3797a9['supports']&&_0x3797a9['supports']('modulepreload'))return;for(const _0x277d15 of document['querySelectorAll']('link[rel=\x22modulepreload\x22]'))_0x11084a(_0x277d15);new MutationObserver(_0x579dfc=>{for(const _0x5b5e96 of _0x579dfc)if(_0x5b5e96['type']==='childList')for(const _0x202c37 of _0x5b5e96['addedNodes'])_0x202c37['tagName']==='LINK'&&_0x202c37['rel']==='modulepreload'&&_0x11084a(_0x202c37);})['observe'](document,{'childList':!0x0,'subtree':!0x0});function _0x4dfb16(_0x19eb29){const _0x4e861f={};return _0x19eb29['integrity']&&(_0x4e861f['integrity']=_0x19eb29['integrity']),_0x19eb29['referrerpolicy']&&(_0x4e861f['referrerPolicy']=_0x19eb29['referrerpolicy']),_0x19eb29['crossorigin']==='use-credentials'?_0x4e861f['credentials']='include':_0x19eb29['crossorigin']==='anonymous'?_0x4e861f['credentials']='omit':_0x4e861f['credentials']='same-origin',_0x4e861f;}function _0x11084a(_0x141c43){if(_0x141c43['ep'])return;_0x141c43['ep']=!0x0;const _0x4613a9=_0x4dfb16(_0x141c43);fetch(_0x141c43['href'],_0x4613a9);}}());const z=class{constructor(_0x4abbbf=0x0,_0x3f95db=0x0,_0x292088=0x0,_0x58d400=0x1){o(this,'r');o(this,'g');o(this,'b');o(this,'a');this['r']=_0x4abbbf,this['g']=_0x3f95db,this['b']=_0x292088,this['a']=_0x58d400;}static['copy'](_0xd3a094){const _0xbf954e=new z();return _0xbf954e['r']=_0xd3a094['r'],_0xbf954e['g']=_0xd3a094['g'],_0xbf954e['b']=_0xd3a094['b'],_0xbf954e['a']=_0xd3a094['a'],_0xbf954e;}static['lerp'](_0x146acc,_0x42fac7,_0x3f955c){return new z(_0x146acc['r']*(0x1-_0x3f955c)+_0x42fac7['r']*_0x3f955c,_0x146acc['g']*(0x1-_0x3f955c)+_0x42fac7['g']*_0x3f955c,_0x146acc['b']*(0x1-_0x3f955c)+_0x42fac7['b']*_0x3f955c,_0x146acc['a']*(0x1-_0x3f955c)+_0x42fac7['a']*_0x3f955c);}static['add'](_0x143d44,_0x49f4a8){return new z(_0x143d44['r']+_0x49f4a8['r'],_0x143d44['g']+_0x49f4a8['g'],_0x143d44['b']+_0x49f4a8['b']);}static['subtract'](_0x2f6c15,_0x3182df){return new z(_0x2f6c15['r']-_0x3182df['r'],_0x2f6c15['g']-_0x3182df['g'],_0x2f6c15['b']-_0x3182df['b']);}static['multiply'](_0x38eaa2,_0x3bcfef){return new z(_0x38eaa2['r']*_0x3bcfef['r'],_0x38eaa2['g']*_0x3bcfef['g'],_0x38eaa2['b']*_0x3bcfef['b']);}static['divide'](_0x25fdcc,_0x54c20b){return new z(_0x25fdcc['r']/_0x54c20b['r'],_0x25fdcc['g']/_0x54c20b['g'],_0x25fdcc['b']/_0x54c20b['b']);}static['multiplyScalar'](_0xa58b49,_0x25ad84){return new z(_0xa58b49['r']*_0x25ad84,_0xa58b49['g']*_0x25ad84,_0xa58b49['b']*_0x25ad84);}static['divideScalar'](_0xd8a61a,_0xd7d031){return new z(_0xd8a61a['r']/_0xd7d031,_0xd8a61a['g']/_0xd7d031,_0xd8a61a['b']/_0xd7d031);}['set'](_0x1f1ebc=0x0,_0x3468f7=0x0,_0x5b6c68=0x0,_0x59ea85=0x1){this['r']=_0x1f1ebc,this['g']=_0x3468f7,this['b']=_0x5b6c68,this['a']=_0x59ea85;}['copy'](_0x14b429){this['r']=_0x14b429['r'],this['g']=_0x14b429['g'],this['b']=_0x14b429['b'],this['a']=_0x14b429['a'];}['clone'](){return new z(this['r'],this['g'],this['b'],this['a']);}['lerp'](_0x44d68a,_0x4c284e,_0x47c0c2){this['r']=_0x44d68a['r']*(0x1-_0x47c0c2)+_0x4c284e['r']*_0x47c0c2,this['g']=_0x44d68a['g']*(0x1-_0x47c0c2)+_0x4c284e['g']*_0x47c0c2,this['b']=_0x44d68a['b']*(0x1-_0x47c0c2)+_0x4c284e['b']*_0x47c0c2,this['a']=_0x44d68a['b']*(0x1-_0x47c0c2)+_0x4c284e['a']*_0x47c0c2;}['add'](_0x581bb0){this['r']+=_0x581bb0['r'],this['g']+=_0x581bb0['g'],this['b']+=_0x581bb0['b'];}['subtract'](_0x2c1eb8){this['r']-=_0x2c1eb8['r'],this['g']-=_0x2c1eb8['g'],this['b']-=_0x2c1eb8['b'];}['multiply'](_0x5b4947){this['r']*=_0x5b4947['r'],this['g']*=_0x5b4947['g'],this['b']*=_0x5b4947['b'];}['divide'](_0xdff98a){this['r']/=_0xdff98a['r'],this['g']/=_0xdff98a['g'],this['b']/=_0xdff98a['b'];}['multiplyScalar'](_0x29e91e){this['r']*=_0x29e91e,this['g']*=_0x29e91e,this['b']*=_0x29e91e;}['divideScalar'](_0x2ca164){this['r']/=_0x2ca164,this['g']/=_0x2ca164,this['b']/=_0x2ca164;}};let M=z;o(M,'WHITE',new z(0x1,0x1,0x1)),o(M,'BLACK',new z(0x0,0x0,0x0)),o(M,'RED',new z(0x1,0x0,0x0)),o(M,'GREEN',new z(0x0,0x1,0x0)),o(M,'BLUE',new z(0x0,0x0,0x1)),o(M,'YELLOW',new z(0x1,0x1,0x0)),o(M,'PURPLE',new z(0x1,0x0,0x1)),o(M,'CYAN',new z(0x0,0x1,0x1));const T=class{constructor(_0x240fda=0x0,_0x1d1935=0x0){o(this,'x');o(this,'y');this['x']=_0x240fda,this['y']=_0x1d1935;}static['copy'](_0xc402f1){return new T(_0xc402f1['x'],_0xc402f1['y']);}static['inverse'](_0x50c1cd){return new T(-_0x50c1cd['x'],-_0x50c1cd['y']);}static['add'](_0x46fc96,_0x36a9d6){return new T(_0x46fc96['x']+_0x36a9d6['x'],_0x46fc96['y']+_0x36a9d6['y']);}static['subtract'](_0x3d7da6,_0x21a732){return new T(_0x3d7da6['x']-_0x21a732['x'],_0x3d7da6['y']-_0x21a732['y']);}static['multiply'](_0x27faa0,_0x1b9be6){return new T(_0x27faa0['x']*_0x1b9be6['x'],_0x27faa0['y']*_0x1b9be6['y']);}static['divide'](_0x29bc3c,_0x53b943){return new T(_0x29bc3c['x']/_0x53b943['x'],_0x29bc3c['y']/_0x53b943['y']);}static['multiplyScalar'](_0x480498,_0x450aad){return new T(_0x480498['x']*_0x450aad,_0x480498['y']*_0x450aad);}static['divideScalar'](_0x41b182,_0xccee7e){return new T(_0x41b182['x']/_0xccee7e,_0x41b182['y']/_0xccee7e);}static['distanceBetween'](_0xf3ed35,_0x220525){return _0xf3ed35['distanceTo'](_0x220525);}static['angleBetween'](_0x42ce73,_0x2cac6f){return _0x42ce73['angleBetween'](_0x2cac6f);}static['angleBetweenSigned'](_0x36f761,_0x5a316e){return _0x36f761['angleBetweenSigned'](_0x5a316e);}static['dot'](_0x30f05b,_0x11b71d){return _0x30f05b['x']*_0x11b71d['x']+_0x30f05b['y']*_0x11b71d['y'];}static['normalize'](_0x18563a){const _0x1cec93=_0x18563a['x']*_0x18563a['x']+_0x18563a['y']*_0x18563a['y'];if(_0x1cec93<1e-8)return new T();const _0x32e06f=0x1/Math['sqrt'](_0x1cec93);return new T(_0x18563a['x']*_0x32e06f,_0x18563a['y']*_0x32e06f);}static['rotate'](_0x1f4bef,_0x2980b4){return new T(Math['cos'](_0x2980b4)*_0x1f4bef['x']-Math['sin'](_0x2980b4)*_0x1f4bef['y'],Math['sin'](_0x2980b4)*_0x1f4bef['x']+Math['cos'](_0x2980b4)*_0x1f4bef['y']);}static['transform'](_0x72d91d,_0x1f8d40){const _0x1a4a57=new T(_0x72d91d['x'],_0x72d91d['y']);return _0x1a4a57['transform'](_0x1f8d40),_0x1a4a57;}static['transformVector'](_0x42b505,_0x4b07ac){const _0x5f38ec=new T(_0x42b505['x'],_0x42b505['y']);return _0x5f38ec['transformVector'](_0x4b07ac),_0x5f38ec;}['set'](_0x5e6774,_0x8840d6){this['x']=_0x5e6774,this['y']=_0x8840d6;}['copy'](_0x3f3dd1){this['x']=_0x3f3dd1['x'],this['y']=_0x3f3dd1['y'];}['clone'](){return new T(this['x'],this['y']);}['equals'](_0x1be972){return this['x']==_0x1be972['x']&&this['y']==_0x1be972['y'];}['add'](_0x5c4a9d){this['x']+=_0x5c4a9d['x'],this['y']+=_0x5c4a9d['y'];}['subtract'](_0x5ca288){this['x']-=_0x5ca288['x'],this['y']-=_0x5ca288['y'];}['multiply'](_0x2793f4){this['x']*=_0x2793f4['x'],this['y']*=_0x2793f4['y'];}['divide'](_0x4e68e2){this['x']/=_0x4e68e2['x'],this['y']/=_0x4e68e2['y'];}['multiplyScalar'](_0x2ae408){this['x']*=_0x2ae408,this['y']*=_0x2ae408;}['divideScalar'](_0x28890e){this['x']/=_0x28890e,this['y']/=_0x28890e;}['distanceTo'](_0x140c6a){return Math['sqrt']((this['x']-_0x140c6a['x'])*(this['x']-_0x140c6a['x'])+(this['y']-_0x140c6a['y'])*(this['y']-_0x140c6a['y']));}['setPositionFromMatrix'](_0x50f765){this['x']=_0x50f765['mat'][0x6],this['y']=_0x50f765['mat'][0x7];}['setScaleFromMatrix'](_0x35ae5e){this['x']=Math['sqrt'](_0x35ae5e['mat'][0x0]*_0x35ae5e['mat'][0x0]+_0x35ae5e['mat'][0x1]*_0x35ae5e['mat'][0x1]),this['y']=Math['sqrt'](_0x35ae5e['mat'][0x3]*_0x35ae5e['mat'][0x3]+_0x35ae5e['mat'][0x4]*_0x35ae5e['mat'][0x4]);}['transform'](_0x2d4770){const _0x229eec=this['clone'](),_0x18025e=0x1/(_0x2d4770['mat'][0x2]*_0x229eec['x']+_0x2d4770['mat'][0x5]*_0x229eec['y']+_0x2d4770['mat'][0x8]);this['x']=_0x18025e*(_0x2d4770['mat'][0x0]*_0x229eec['x']+_0x2d4770['mat'][0x3]*_0x229eec['y']+_0x2d4770['mat'][0x6]),this['y']=_0x18025e*(_0x2d4770['mat'][0x1]*_0x229eec['x']+_0x2d4770['mat'][0x4]*_0x229eec['y']+_0x2d4770['mat'][0x7]);}['transformVector'](_0x2897eb){const _0x3536bc=this['clone'](),_0x29d03d=0x1/(_0x2897eb['mat'][0x2]*_0x3536bc['x']+_0x2897eb['mat'][0x5]*_0x3536bc['y']);this['x']=_0x29d03d*(_0x2897eb['mat'][0x0]*_0x3536bc['x']+_0x2897eb['mat'][0x3]*_0x3536bc['y']),this['y']=_0x29d03d*(_0x2897eb['mat'][0x1]*_0x3536bc['x']+_0x2897eb['mat'][0x4]*_0x3536bc['y']);}['dot'](_0x4559e0){return this['x']*_0x4559e0['x']+this['y']*_0x4559e0['y'];}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['normalize'](){const _0xaa481a=this['x']*this['x']+this['y']*this['y'];if(_0xaa481a<1e-8)return;const _0x4b11fe=0x1/Math['sqrt'](_0xaa481a);this['x']*=_0x4b11fe,this['y']*=_0x4b11fe;}['invert'](){this['x']=-this['x'],this['y']=-this['y'];}['angleBetween'](_0x363a8e){const _0x5d4de2=T['normalize'](this),_0x2d6f5b=T['normalize'](_0x363a8e);return Math['acos'](_0x5d4de2['dot'](_0x2d6f5b));}['angleBetweenSigned'](_0x44a23e){const _0x795219=T['normalize'](this),_0x18d219=T['normalize'](_0x44a23e);return Math['atan2'](_0x18d219['y'],_0x18d219['x'])-Math['atan2'](_0x795219['y'],_0x795219['x']);}['rotate'](_0x4db89b){const _0x1728f4=this['x'],_0x49329e=this['y'];this['x']=Math['cos'](_0x4db89b)*_0x1728f4-Math['sin'](_0x4db89b)*_0x49329e,this['y']=Math['sin'](_0x4db89b)*_0x1728f4+Math['cos'](_0x4db89b)*_0x49329e;}};let x=T;o(x,'ZERO',new T(0x0,0x0)),o(x,'ONE',new T(0x1,0x1)),o(x,'UP',new T(0x0,0x1)),o(x,'DOWN',new T(0x0,-0x1)),o(x,'LEFT',new T(-0x1,0x0)),o(x,'RIGHT',new T(0x1,0x0)),o(x,'X_AXIS',T['RIGHT']),o(x,'Y_AXIS',T['UP']);class X{static['degreesToRadians'](_0x40176d){return _0x40176d*Math['PI']/0xb4;}static['radiansToDegrees'](_0x4ba3a0){return _0x4ba3a0*0xb4/Math['PI'];}static['rescale'](_0x14b44c,_0x41f09c,_0x8f275d,_0x42e6b8,_0x127904){return _0x42e6b8+(_0x127904-_0x42e6b8)*(_0x14b44c-_0x41f09c)/(_0x8f275d-_0x41f09c);}static['clamp'](_0x56ee13,_0x1574c1,_0x2e501b){return Math['max'](_0x1574c1,Math['min'](_0x2e501b,_0x56ee13));}static['lerp'](_0x69cfff,_0x1b267d,_0x5ed746){return _0x69cfff*(0x1-_0x5ed746)+_0x1b267d*_0x5ed746;}}class Zt{constructor(_0x24f67d=!0x1){o(this,'background');o(this,'viewport');o(this,'gfxCanvas');o(this,'gl');this['gfxCanvas']=document['getElementById']('gfxCanvas'),this['gfxCanvas']||alert('Unable\x20to\x20find\x20gfxCanvas.'),this['gfxCanvas']['width']=window['innerWidth'],this['gfxCanvas']['height']=window['innerHeight'];const _0x130182=this['gfxCanvas']['getContext']('webgl2',{'alpha':!0x1,'stencil':_0x24f67d});_0x130182||alert('Unable\x20to\x20initialize\x20WebGL.\x20Your\x20browser\x20or\x20machine\x20may\x20not\x20support\x20it.'),this['gl']=_0x130182,_0x130182['enable'](_0x130182['DEPTH_TEST']),_0x130182['depthFunc'](_0x130182['LEQUAL']),_0x130182['enable'](_0x130182['CULL_FACE']),_0x130182['cullFace'](_0x130182['BACK']),_0x130182['enable'](this['gl']['BLEND']),_0x130182['blendFuncSeparate'](_0x130182['SRC_ALPHA'],_0x130182['ONE_MINUS_SRC_ALPHA'],_0x130182['ONE'],_0x130182['ONE_MINUS_SRC_ALPHA']),this['background']=new M(),this['viewport']=0x0;}['resize'](_0x2c73d6,_0x449449,_0x1ae8c4){this['gfxCanvas']['width']=_0x2c73d6,this['gfxCanvas']['height']=_0x449449,this['viewport']==0x0?_0x1ae8c4>window['innerWidth']/window['innerHeight']?this['gl']['viewport'](0x0,(window['innerHeight']-window['innerWidth']/_0x1ae8c4)/0x2,window['innerWidth'],window['innerWidth']/_0x1ae8c4):this['gl']['viewport']((window['innerWidth']-window['innerHeight']*_0x1ae8c4)/0x2,0x0,window['innerHeight']*_0x1ae8c4,window['innerHeight']):this['viewport']==0x1?_0x1ae8c4>window['innerWidth']/window['innerHeight']?this['gl']['viewport']((window['innerWidth']-window['innerHeight']*_0x1ae8c4)/0x2,0x0,window['innerHeight']*_0x1ae8c4,window['innerHeight']):this['gl']['viewport'](0x0,(window['innerHeight']-window['innerWidth']/_0x1ae8c4)/0x2,window['innerWidth'],window['innerWidth']/_0x1ae8c4):this['gl']['viewport'](0x0,0x0,window['innerWidth'],window['innerHeight']);}['render'](_0xc3da18,_0x3905e1){_0x3905e1['projectionMatrixDirty']&&(this['resize'](this['gfxCanvas']['width'],this['gfxCanvas']['height'],_0x3905e1['getAspectRatio']()),_0x3905e1['projectionMatrixDirty']=!0x1),this['gl']['clearColor'](this['background']['r'],this['background']['g'],this['background']['b'],this['background']['a']),this['gl']['clear'](this['gl']['COLOR_BUFFER_BIT']|this['gl']['DEPTH_BUFFER_BIT']),_0xc3da18['draw'](_0x3905e1);}['getNormalizedDeviceCoordinates'](_0x578db4,_0x3684c5){const _0xd1d52d=this['gl']['getParameter'](this['gl']['VIEWPORT']);return new x(X['clamp']((_0x578db4-_0xd1d52d[0x0])/_0xd1d52d[0x2]*0x2-0x1,-0x1,0x1),X['clamp']((_0x3684c5-_0xd1d52d[0x1])/_0xd1d52d[0x3]*-0x2+0x1,-0x1,0x1));}}const v=class{constructor(_0x4e52eb=0x0,_0x1c3db2=0x0,_0x1ec4a0=0x0){o(this,'x');o(this,'y');o(this,'z');this['x']=_0x4e52eb,this['y']=_0x1c3db2,this['z']=_0x1ec4a0;}static['copy'](_0x251429){return new v(_0x251429['x'],_0x251429['y'],_0x251429['z']);}static['inverse'](_0x42ec11){return new v(-_0x42ec11['x'],-_0x42ec11['y'],-_0x42ec11['z']);}static['add'](_0x398319,_0x5833fd){return new v(_0x398319['x']+_0x5833fd['x'],_0x398319['y']+_0x5833fd['y'],_0x398319['z']+_0x5833fd['z']);}static['subtract'](_0x352e91,_0x19511e){return new v(_0x352e91['x']-_0x19511e['x'],_0x352e91['y']-_0x19511e['y'],_0x352e91['z']-_0x19511e['z']);}static['multiply'](_0xeb073c,_0x2c83e){return new v(_0xeb073c['x']*_0x2c83e['x'],_0xeb073c['y']*_0x2c83e['y'],_0xeb073c['z']*_0x2c83e['z']);}static['divide'](_0x301427,_0x24c9fa){return new v(_0x301427['x']/_0x24c9fa['x'],_0x301427['y']/_0x24c9fa['y'],_0x301427['z']/_0x24c9fa['z']);}static['dot'](_0x3004b3,_0x59445c){return _0x3004b3['x']*_0x59445c['x']+_0x3004b3['y']*_0x59445c['y']+_0x3004b3['z']*_0x59445c['z'];}static['cross'](_0x464705,_0x1bb72d){return new v(_0x464705['y']*_0x1bb72d['z']-_0x464705['z']*_0x1bb72d['y'],_0x464705['z']*_0x1bb72d['x']-_0x464705['x']*_0x1bb72d['z'],_0x464705['x']*_0x1bb72d['y']-_0x464705['y']*_0x1bb72d['x']);}static['multiplyScalar'](_0x159dfa,_0x3e8539){return new v(_0x159dfa['x']*_0x3e8539,_0x159dfa['y']*_0x3e8539,_0x159dfa['z']*_0x3e8539);}static['divideScalar'](_0x4456db,_0xcc7dd0){return new v(_0x4456db['x']/_0xcc7dd0,_0x4456db['y']/_0xcc7dd0,_0x4456db['z']/_0xcc7dd0);}static['normalize'](_0x302ec){const _0xc21a84=_0x302ec['x']*_0x302ec['x']+_0x302ec['y']*_0x302ec['y']+_0x302ec['z']*_0x302ec['z'];if(_0xc21a84<1e-8)return new v();const _0xc63305=0x1/Math['sqrt'](_0xc21a84);return new v(_0x302ec['x']*_0xc63305,_0x302ec['y']*_0xc63305,_0x302ec['z']*_0xc63305);}static['angleBetween'](_0x1eef7b,_0x513100){return _0x1eef7b['angleBetween'](_0x513100);}static['distanceBetween'](_0x28e20c,_0x45a4e3){return _0x28e20c['distanceTo'](_0x45a4e3);}static['rotate'](_0x586f4d,_0x5152bf){const _0x551551=new v(_0x5152bf['x'],_0x5152bf['y'],_0x5152bf['z']),_0x1a1652=v['multiplyScalar'](_0x551551,0x2*_0x551551['dot'](_0x586f4d));_0x1a1652['add'](v['multiplyScalar'](_0x586f4d,_0x5152bf['w']*_0x5152bf['w']-_0x551551['dot'](_0x551551)));const _0x33ddff=_0x551551['cross'](_0x586f4d);return _0x33ddff['multiplyScalar'](0x2*_0x5152bf['w']),_0x1a1652['add'](_0x33ddff),_0x1a1652;}static['lerp'](_0x240af5,_0x97c2e0,_0x2284bc){return new v(_0x240af5['x']*(0x1-_0x2284bc)+_0x97c2e0['x']*_0x2284bc,_0x240af5['y']*(0x1-_0x2284bc)+_0x97c2e0['y']*_0x2284bc,_0x240af5['z']*(0x1-_0x2284bc)+_0x97c2e0['z']*_0x2284bc);}static['transform'](_0x19aed9,_0x371d5e){const _0xc18544=new v(_0x19aed9['x'],_0x19aed9['y'],_0x19aed9['z']);return _0xc18544['transform'](_0x371d5e),_0xc18544;}static['transformVector'](_0xd17662,_0x4e471b){const _0xe57bd7=new v(_0xd17662['x'],_0xd17662['y'],_0xd17662['z']);return _0xe57bd7['transformVector'](_0x4e471b),_0xe57bd7;}['set'](_0x2a89e9,_0x2bdbe6,_0x125fbc){this['x']=_0x2a89e9,this['y']=_0x2bdbe6,this['z']=_0x125fbc;}['copy'](_0x2d8ded){this['x']=_0x2d8ded['x'],this['y']=_0x2d8ded['y'],this['z']=_0x2d8ded['z'];}['clone'](){return new v(this['x'],this['y'],this['z']);}['equals'](_0x4241fb){return this['x']==_0x4241fb['x']&&this['y']==_0x4241fb['y']&&this['z']==_0x4241fb['z'];}['add'](_0x3b4c96){this['x']+=_0x3b4c96['x'],this['y']+=_0x3b4c96['y'],this['z']+=_0x3b4c96['z'];}['subtract'](_0x56761b){this['x']-=_0x56761b['x'],this['y']-=_0x56761b['y'],this['z']-=_0x56761b['z'];}['multiply'](_0x27c7e8){this['x']*=_0x27c7e8['x'],this['y']*=_0x27c7e8['y'],this['z']*=_0x27c7e8['z'];}['divide'](_0x212db2){this['x']/=_0x212db2['x'],this['y']/=_0x212db2['y'],this['z']/=_0x212db2['z'];}['dot'](_0x382c9b){return this['x']*_0x382c9b['x']+this['y']*_0x382c9b['y']+this['z']*_0x382c9b['z'];}['cross'](_0x24d482){return new v(this['y']*_0x24d482['z']-this['z']*_0x24d482['y'],this['z']*_0x24d482['x']-this['x']*_0x24d482['z'],this['x']*_0x24d482['y']-this['y']*_0x24d482['x']);}['multiplyScalar'](_0x251094){this['x']*=_0x251094,this['y']*=_0x251094,this['z']*=_0x251094;}['divideScalar'](_0x2433cc){this['x']/=_0x2433cc,this['y']/=_0x2433cc,this['z']/=_0x2433cc;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['normalize'](){const _0x8d761e=this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];if(_0x8d761e<1e-8)return;const _0x4f9693=0x1/Math['sqrt'](_0x8d761e);this['x']*=_0x4f9693,this['y']*=_0x4f9693,this['z']*=_0x4f9693;}['invert'](){this['x']=-this['x'],this['y']=-this['y'],this['z']=-this['z'];}['transform'](_0x463dcb){const _0x4138db=this['clone'](),_0x17070b=0x1/(_0x463dcb['mat'][0x3]*_0x4138db['x']+_0x463dcb['mat'][0x7]*_0x4138db['y']+_0x463dcb['mat'][0xb]*_0x4138db['z']+_0x463dcb['mat'][0xf]);this['x']=_0x17070b*(_0x463dcb['mat'][0x0]*_0x4138db['x']+_0x463dcb['mat'][0x4]*_0x4138db['y']+_0x463dcb['mat'][0x8]*_0x4138db['z']+_0x463dcb['mat'][0xc]),this['y']=_0x17070b*(_0x463dcb['mat'][0x1]*_0x4138db['x']+_0x463dcb['mat'][0x5]*_0x4138db['y']+_0x463dcb['mat'][0x9]*_0x4138db['z']+_0x463dcb['mat'][0xd]),this['z']=_0x17070b*(_0x463dcb['mat'][0x2]*_0x4138db['x']+_0x463dcb['mat'][0x6]*_0x4138db['y']+_0x463dcb['mat'][0xa]*_0x4138db['z']+_0x463dcb['mat'][0xe]);}['transformVector'](_0x30592f){const _0x4e6802=this['clone'](),_0x5e64c3=0x1/(_0x30592f['mat'][0x3]*_0x4e6802['x']+_0x30592f['mat'][0x7]*_0x4e6802['y']+_0x30592f['mat'][0xb]*_0x4e6802['z']);this['x']=_0x5e64c3*(_0x30592f['mat'][0x0]*_0x4e6802['x']+_0x30592f['mat'][0x4]*_0x4e6802['y']+_0x30592f['mat'][0x8]*_0x4e6802['z']),this['y']=_0x5e64c3*(_0x30592f['mat'][0x1]*_0x4e6802['x']+_0x30592f['mat'][0x5]*_0x4e6802['y']+_0x30592f['mat'][0x9]*_0x4e6802['z']),this['z']=_0x5e64c3*(_0x30592f['mat'][0x2]*_0x4e6802['x']+_0x30592f['mat'][0x6]*_0x4e6802['y']+_0x30592f['mat'][0xa]*_0x4e6802['z']);}['rotate'](_0x1d9933){this['copy'](v['rotate'](this,_0x1d9933));}['angleBetween'](_0x59fc26){const _0x31751c=v['normalize'](this),_0x2bc1e8=v['normalize'](_0x59fc26);return Math['acos'](_0x31751c['dot'](_0x2bc1e8));}['distanceTo'](_0x43c4ca){return Math['sqrt']((this['x']-_0x43c4ca['x'])*(this['x']-_0x43c4ca['x'])+(this['y']-_0x43c4ca['y'])*(this['y']-_0x43c4ca['y'])+(this['z']-_0x43c4ca['z'])*(this['z']-_0x43c4ca['z']));}['setPositionFromMatrix'](_0xfc5691){this['x']=_0xfc5691['mat'][0xc],this['y']=_0xfc5691['mat'][0xd],this['z']=_0xfc5691['mat'][0xe];}['setScaleFromMatrix'](_0x3a8819){this['x']=Math['sqrt'](_0x3a8819['mat'][0x0]*_0x3a8819['mat'][0x0]+_0x3a8819['mat'][0x1]*_0x3a8819['mat'][0x1]+_0x3a8819['mat'][0x2]*_0x3a8819['mat'][0x2]),this['y']=Math['sqrt'](_0x3a8819['mat'][0x4]*_0x3a8819['mat'][0x4]+_0x3a8819['mat'][0x5]*_0x3a8819['mat'][0x5]+_0x3a8819['mat'][0x6]*_0x3a8819['mat'][0x6]),this['z']=Math['sqrt'](_0x3a8819['mat'][0x8]*_0x3a8819['mat'][0x8]+_0x3a8819['mat'][0x9]*_0x3a8819['mat'][0x9]+_0x3a8819['mat'][0xa]*_0x3a8819['mat'][0xa]);}['lerp'](_0x14bcbb,_0x5d4fe4,_0xffa821){this['x']=_0x14bcbb['x']*(0x1-_0xffa821)+_0x5d4fe4['x']*_0xffa821,this['y']=_0x14bcbb['y']*(0x1-_0xffa821)+_0x5d4fe4['y']*_0xffa821,this['z']=_0x14bcbb['z']*(0x1-_0xffa821)+_0x5d4fe4['z']*_0xffa821;}};let m=v;o(m,'ZERO',new v(0x0,0x0,0x0)),o(m,'ONE',new v(0x1,0x1,0x1)),o(m,'UP',new v(0x0,0x1,0x0)),o(m,'DOWN',new v(0x0,-0x1,0x0)),o(m,'LEFT',new v(-0x1,0x0,0x0)),o(m,'RIGHT',new v(0x1,0x0,0x0)),o(m,'FORWARD',new v(0x0,0x0,-0x1)),o(m,'BACK',new v(0x0,0x0,0x1)),o(m,'X_AXIS',v['RIGHT']),o(m,'Y_AXIS',v['UP']),o(m,'Z_AXIS',v['FORWARD']);const I=class{constructor(_0xa10c9b=0x0,_0x2b5eb4=0x0,_0x85f44f=0x0,_0x55d992=0x1){o(this,'x');o(this,'y');o(this,'z');o(this,'w');this['x']=_0xa10c9b,this['y']=_0x2b5eb4,this['z']=_0x85f44f,this['w']=_0x55d992;}static['copy'](_0x2c6818){return new I(_0x2c6818['x'],_0x2c6818['y'],_0x2c6818['z'],_0x2c6818['w']);}static['multiply'](_0x55236d,_0xd71362){const _0x5ae631=new I();return _0x5ae631['w']=_0x55236d['w']*_0xd71362['w']-_0x55236d['x']*_0xd71362['x']-_0x55236d['y']*_0xd71362['y']-_0x55236d['z']*_0xd71362['z'],_0x5ae631['x']=_0x55236d['w']*_0xd71362['x']+_0x55236d['x']*_0xd71362['w']+_0x55236d['y']*_0xd71362['z']-_0x55236d['z']*_0xd71362['y'],_0x5ae631['y']=_0x55236d['w']*_0xd71362['y']+_0x55236d['y']*_0xd71362['w']+_0x55236d['z']*_0xd71362['x']-_0x55236d['x']*_0xd71362['z'],_0x5ae631['z']=_0x55236d['w']*_0xd71362['z']+_0x55236d['z']*_0xd71362['w']+_0x55236d['x']*_0xd71362['y']-_0x55236d['y']*_0xd71362['x'],_0x5ae631;}static['normalize'](_0xc0a82){const _0x5b9cb2=_0xc0a82['clone']();return _0x5b9cb2['normalize'](),_0x5b9cb2;}static['inverse'](_0x525eb3){const _0x12ccf3=_0x525eb3['clone']();return _0x12ccf3['invert'](),_0x12ccf3;}['makeIdentity'](){return new I(0x0,0x0,0x0,0x1);}static['makeRotationX'](_0x2fa5c3){const _0x4ead0b=new I();return _0x4ead0b['setRotationX'](_0x2fa5c3),_0x4ead0b;}static['makeRotationY'](_0x46fed8){const _0x4e8300=new I();return _0x4e8300['setRotationY'](_0x46fed8),_0x4e8300;}static['makeRotationZ'](_0x1fbfe3){const _0xcd5e7f=new I();return _0xcd5e7f['setRotationZ'](_0x1fbfe3),_0xcd5e7f;}static['makeAxisAngle'](_0x1e2a05,_0x581255){const _0x471ac7=new I();return _0x471ac7['setAxisAngle'](_0x1e2a05,_0x581255),_0x471ac7;}static['makeEulerAngles'](_0x92ce75,_0x572860,_0x4fe208,_0x51b411='YZX'){const _0x3f5d2=new I();return _0x3f5d2['setEulerAngles'](_0x92ce75,_0x572860,_0x4fe208,_0x51b411),_0x3f5d2;}static['makeMatrix'](_0x7b6699){const _0x59c435=new I();return _0x59c435['setMatrix'](_0x7b6699),_0x59c435;}static['slerp'](_0x30bcc5,_0x83d03f,_0x1cc262){const _0x50b610=new I();return _0x50b610['slerp'](_0x30bcc5,_0x83d03f,_0x1cc262),_0x50b610;}['set'](_0x38c8dd,_0xd62af,_0x1e7760,_0x42524d){this['x']=_0x38c8dd,this['y']=_0xd62af,this['z']=_0x1e7760,this['w']=_0x42524d;}['setIdentity'](){this['x']=0x0,this['y']=0x0,this['z']=0x0,this['w']=0x1;}['setRotationX'](_0x553baa){this['w']=Math['cos'](_0x553baa/0x2),this['x']=Math['sin'](_0x553baa/0x2),this['y']=0x0,this['z']=0x0;}['setRotationY'](_0x3857d0){this['w']=Math['cos'](_0x3857d0/0x2),this['x']=0x0,this['y']=Math['sin'](_0x3857d0/0x2),this['z']=0x0;}['setRotationZ'](_0x4cd48f){this['w']=Math['cos'](_0x4cd48f/0x2),this['x']=0x0,this['y']=0x0,this['z']=Math['sin'](_0x4cd48f/0x2);}['setAxisAngle'](_0x1decd8,_0x527ea2){const _0x14cd04=Math['sin'](_0x527ea2/0x2);this['w']=Math['cos'](_0x527ea2/0x2),this['x']=_0x14cd04*_0x1decd8['x'],this['y']=_0x14cd04*_0x1decd8['y'],this['z']=_0x14cd04*_0x1decd8['z'];}['setEulerAngles'](_0x56c836,_0x2e517c,_0x59b821,_0x5c174f='YZX'){const _0x5bc19d=Math['cos'],_0x434fa3=Math['sin'],_0xbfbf4d=_0x5bc19d(_0x56c836/0x2),_0x4cd1a4=_0x5bc19d(_0x2e517c/0x2),_0x1c43d2=_0x5bc19d(_0x59b821/0x2),_0x5e8bbf=_0x434fa3(_0x56c836/0x2),_0x32ba8b=_0x434fa3(_0x2e517c/0x2),_0x57aed0=_0x434fa3(_0x59b821/0x2);switch(_0x5c174f){case'XYZ':this['x']=_0x5e8bbf*_0x4cd1a4*_0x1c43d2+_0xbfbf4d*_0x32ba8b*_0x57aed0,this['y']=_0xbfbf4d*_0x32ba8b*_0x1c43d2-_0x5e8bbf*_0x4cd1a4*_0x57aed0,this['z']=_0xbfbf4d*_0x4cd1a4*_0x57aed0+_0x5e8bbf*_0x32ba8b*_0x1c43d2,this['w']=_0xbfbf4d*_0x4cd1a4*_0x1c43d2-_0x5e8bbf*_0x32ba8b*_0x57aed0;break;case'YXZ':this['x']=_0x5e8bbf*_0x4cd1a4*_0x1c43d2+_0xbfbf4d*_0x32ba8b*_0x57aed0,this['y']=_0xbfbf4d*_0x32ba8b*_0x1c43d2-_0x5e8bbf*_0x4cd1a4*_0x57aed0,this['z']=_0xbfbf4d*_0x4cd1a4*_0x57aed0-_0x5e8bbf*_0x32ba8b*_0x1c43d2,this['w']=_0xbfbf4d*_0x4cd1a4*_0x1c43d2+_0x5e8bbf*_0x32ba8b*_0x57aed0;break;case'ZXY':this['x']=_0x5e8bbf*_0x4cd1a4*_0x1c43d2-_0xbfbf4d*_0x32ba8b*_0x57aed0,this['y']=_0xbfbf4d*_0x32ba8b*_0x1c43d2+_0x5e8bbf*_0x4cd1a4*_0x57aed0,this['z']=_0xbfbf4d*_0x4cd1a4*_0x57aed0+_0x5e8bbf*_0x32ba8b*_0x1c43d2,this['w']=_0xbfbf4d*_0x4cd1a4*_0x1c43d2-_0x5e8bbf*_0x32ba8b*_0x57aed0;break;case'ZYX':this['x']=_0x5e8bbf*_0x4cd1a4*_0x1c43d2-_0xbfbf4d*_0x32ba8b*_0x57aed0,this['y']=_0xbfbf4d*_0x32ba8b*_0x1c43d2+_0x5e8bbf*_0x4cd1a4*_0x57aed0,this['z']=_0xbfbf4d*_0x4cd1a4*_0x57aed0-_0x5e8bbf*_0x32ba8b*_0x1c43d2,this['w']=_0xbfbf4d*_0x4cd1a4*_0x1c43d2+_0x5e8bbf*_0x32ba8b*_0x57aed0;break;case'YZX':this['x']=_0x5e8bbf*_0x4cd1a4*_0x1c43d2+_0xbfbf4d*_0x32ba8b*_0x57aed0,this['y']=_0xbfbf4d*_0x32ba8b*_0x1c43d2+_0x5e8bbf*_0x4cd1a4*_0x57aed0,this['z']=_0xbfbf4d*_0x4cd1a4*_0x57aed0-_0x5e8bbf*_0x32ba8b*_0x1c43d2,this['w']=_0xbfbf4d*_0x4cd1a4*_0x1c43d2-_0x5e8bbf*_0x32ba8b*_0x57aed0;break;case'XZY':this['x']=_0x5e8bbf*_0x4cd1a4*_0x1c43d2-_0xbfbf4d*_0x32ba8b*_0x57aed0,this['y']=_0xbfbf4d*_0x32ba8b*_0x1c43d2-_0x5e8bbf*_0x4cd1a4*_0x57aed0,this['z']=_0xbfbf4d*_0x4cd1a4*_0x57aed0+_0x5e8bbf*_0x32ba8b*_0x1c43d2,this['w']=_0xbfbf4d*_0x4cd1a4*_0x1c43d2+_0x5e8bbf*_0x32ba8b*_0x57aed0;break;}}['setMatrix'](_0x37b77){const _0x252cb4=_0x37b77['mat'][0x0]+_0x37b77['mat'][0x5]+_0x37b77['mat'][0xa];if(_0x252cb4>0x0){const _0x36e884=Math['sqrt'](_0x252cb4+0x1)*0x2;this['w']=0.25*_0x36e884,this['x']=(_0x37b77['mat'][0x6]-_0x37b77['mat'][0x9])/_0x36e884,this['y']=(_0x37b77['mat'][0x8]-_0x37b77['mat'][0x2])/_0x36e884,this['z']=(_0x37b77['mat'][0x1]-_0x37b77['mat'][0x4])/_0x36e884;}else if(_0x37b77['mat'][0x0]>_0x37b77['mat'][0x5]&&_0x37b77['mat'][0x0]>_0x37b77['mat'][0xa]){const _0x90a7fa=Math['sqrt'](0x1+_0x37b77['mat'][0x0]-_0x37b77['mat'][0x5]-_0x37b77['mat'][0xa])*0x2;this['w']=(_0x37b77['mat'][0x6]-_0x37b77['mat'][0x9])/_0x90a7fa,this['x']=0.25*_0x90a7fa,this['y']=(_0x37b77['mat'][0x4]+_0x37b77['mat'][0x1])/_0x90a7fa,this['z']=(_0x37b77['mat'][0x8]+_0x37b77['mat'][0x2])/_0x90a7fa;}else if(_0x37b77['mat'][0x5]>_0x37b77['mat'][0xa]){const _0x2dce83=Math['sqrt'](0x1+_0x37b77['mat'][0x5]-_0x37b77['mat'][0x0]-_0x37b77['mat'][0xa])*0x2;this['w']=(_0x37b77['mat'][0x8]-_0x37b77['mat'][0x2])/_0x2dce83,this['x']=(_0x37b77['mat'][0x4]+_0x37b77['mat'][0x1])/_0x2dce83,this['y']=0.25*_0x2dce83,this['z']=(_0x37b77['mat'][0x9]+_0x37b77['mat'][0x6])/_0x2dce83;}else{const _0x50c900=Math['sqrt'](0x1+_0x37b77['mat'][0xa]-_0x37b77['mat'][0x0]-_0x37b77['mat'][0x5])*0x2;this['w']=(_0x37b77['mat'][0x1]-_0x37b77['mat'][0x4])/_0x50c900,this['x']=(_0x37b77['mat'][0x8]+_0x37b77['mat'][0x2])/_0x50c900,this['y']=(_0x37b77['mat'][0x9]+_0x37b77['mat'][0x6])/_0x50c900,this['z']=0.25*_0x50c900;}}['copy'](_0x7c933a){this['x']=_0x7c933a['x'],this['y']=_0x7c933a['y'],this['z']=_0x7c933a['z'],this['w']=_0x7c933a['w'];}['clone'](){return new I(this['x'],this['y'],this['z'],this['w']);}['multiply'](_0x2d02a0){this['copy'](I['multiply'](this,_0x2d02a0));}['premultiply'](_0x14681b){this['copy'](I['multiply'](_0x14681b,this));}['normalize'](){const _0x5ce572=0x1/Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);this['x']*=_0x5ce572,this['y']*=_0x5ce572,this['z']*=_0x5ce572,this['w']*=_0x5ce572;}['invert'](){const _0xd7d2eb=0x1/Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);this['x']*=-_0xd7d2eb,this['y']*=-_0xd7d2eb,this['z']*=-_0xd7d2eb,this['w']*=_0xd7d2eb;}['inverse'](){return I['inverse'](this);}['getMatrix'](){const _0x4fb7e8=this['w']*this['w'],_0x5ed67e=this['x']*this['x'],_0x151568=this['y']*this['y'],_0x255d52=this['z']*this['z'],_0x39d62f=0x1/(_0x5ed67e+_0x151568+_0x255d52+_0x4fb7e8),_0x4ecfa9=this['x']*this['y'],_0x5dd24b=this['z']*this['w'],_0x153937=this['x']*this['z'],_0x3ab6f8=this['y']*this['w'],_0x544fea=this['y']*this['z'],_0x5eeef7=this['x']*this['w'];return j['fromRowMajor']((_0x5ed67e-_0x151568-_0x255d52+_0x4fb7e8)*_0x39d62f,0x2*(_0x4ecfa9-_0x5dd24b)*_0x39d62f,0x2*(_0x153937+_0x3ab6f8)*_0x39d62f,0x0,0x2*(_0x4ecfa9+_0x5dd24b)*_0x39d62f,(-_0x5ed67e+_0x151568-_0x255d52+_0x4fb7e8)*_0x39d62f,0x2*(_0x544fea-_0x5eeef7)*_0x39d62f,0x0,0x2*(_0x153937-_0x3ab6f8)*_0x39d62f,0x2*(_0x544fea+_0x5eeef7)*_0x39d62f,-_0x5ed67e-_0x151568+_0x255d52+_0x4fb7e8,0x0,0x0,0x0,0x0,0x1);}['lookAt'](_0x12f86d,_0xb0b325,_0x3ba161=m['UP']){const _0x59a09f=m['subtract'](_0x12f86d,_0xb0b325);_0x59a09f['normalize']();const _0x1c6cfe=m['cross'](_0x3ba161,_0x59a09f);_0x1c6cfe['normalize']();const _0x18974f=m['cross'](_0x59a09f,_0x1c6cfe);_0x18974f['normalize']();const _0xa60dde=new j();_0xa60dde['setRowMajor'](_0x1c6cfe['x'],_0x18974f['x'],_0x59a09f['x'],0x0,_0x1c6cfe['y'],_0x18974f['y'],_0x59a09f['y'],0x0,_0x1c6cfe['z'],_0x18974f['z'],_0x59a09f['z'],0x0,0x0,0x0,0x0,0x1),this['setMatrix'](_0xa60dde);}['slerp'](_0x374f4a,_0xba4afa,_0x2a4737){const _0x3be05b=_0x374f4a['clone']();let _0xca141d=_0x374f4a['x']*_0xba4afa['x']+_0x374f4a['y']*_0xba4afa['y']+_0x374f4a['z']*_0xba4afa['z']+_0x374f4a['w']*_0xba4afa['w'],_0x4121b7,_0x5dab7e,_0x331021,_0x488beb;_0xca141d<0x0&&(_0xca141d*=-0x1,_0x3be05b['x']*=-0x1,_0x3be05b['y']*=-0x1,_0x3be05b['z']*=-0x1,_0x3be05b['w']*=-0x1),0x1+_0xca141d>0.00001?(0x1-_0xca141d>0.00001?(_0x4121b7=Math['acos'](_0xca141d),_0x5dab7e=Math['sin'](_0x4121b7),_0x331021=Math['sin']((0x1-_0x2a4737)*_0x4121b7)/_0x5dab7e,_0x488beb=Math['sin'](_0x2a4737*_0x4121b7)/_0x5dab7e):(_0x331021=0x1-_0x2a4737,_0x488beb=_0x2a4737),this['x']=_0x331021*_0x3be05b['x']+_0x488beb*_0xba4afa['x'],this['y']=_0x331021*_0x3be05b['y']+_0x488beb*_0xba4afa['y'],this['z']=_0x331021*_0x3be05b['z']+_0x488beb*_0xba4afa['z'],this['w']=_0x331021*_0x3be05b['w']+_0x488beb*_0xba4afa['w']):(this['x']=-_0x3be05b['y'],this['y']=_0x3be05b['x'],this['z']=-_0x3be05b['w'],this['w']=_0x3be05b['z'],_0x331021=Math['sin']((0.5-_0x2a4737)*Math['PI']),_0x488beb=Math['sin'](_0x2a4737*Math['PI']),this['x']=_0x331021*_0x3be05b['x']+_0x488beb*this['x'],this['y']=_0x331021*_0x3be05b['y']+_0x488beb*this['y'],this['z']=_0x331021*_0x3be05b['y']+_0x488beb*this['z']);}};let D=I;o(D,'IDENTITY',new I());const B=class{constructor(){o(this,'mat');this['mat']=[0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1];}static['multiply'](_0x210346,_0x2a461a){const _0x236599=new B();_0x236599['mat'][0x0]=0x0,_0x236599['mat'][0x5]=0x0,_0x236599['mat'][0xa]=0x0,_0x236599['mat'][0xf]=0x0;for(let _0x3983dd=0x0;_0x3983dd<0x4;_0x3983dd++)for(let _0x5d76d5=0x0;_0x5d76d5<0x4;_0x5d76d5++)for(let _0x520f39=0x0;_0x520f39<0x4;_0x520f39++)_0x236599['mat'][_0x3983dd*0x4+_0x5d76d5]+=_0x210346['mat'][_0x3983dd*0x4+_0x520f39]*_0x2a461a['mat'][_0x520f39*0x4+_0x5d76d5];return _0x236599;}static['copy'](_0x3b0e61){const _0x545d6f=new B();return _0x545d6f['copy'](_0x3b0e61),_0x545d6f;}static['fromRowMajor'](_0x2f27a0,_0x576adb,_0x3f79ed,_0x52c186,_0x1b4111,_0x145dd4,_0x51f24c,_0x54aa34,_0x4bcde1,_0x2d9b65,_0x1078fd,_0xf891bb,_0x5183a5,_0x5ad8e8,_0x1ee43e,_0x15887e){const _0x5637b1=new B();return _0x5637b1['setRowMajor'](_0x2f27a0,_0x576adb,_0x3f79ed,_0x52c186,_0x1b4111,_0x145dd4,_0x51f24c,_0x54aa34,_0x4bcde1,_0x2d9b65,_0x1078fd,_0xf891bb,_0x5183a5,_0x5ad8e8,_0x1ee43e,_0x15887e),_0x5637b1;}static['fromColumnMajor'](_0x4bfe5e,_0x2d02ba,_0xde3028,_0x335564,_0x2bc192,_0x8518b6,_0x181451,_0xba5aaf,_0x4b1cc0,_0x418009,_0x2ef816,_0xcaa216,_0x97d2b3,_0x2c6446,_0x1735a6,_0x5dc07d){const _0xfafc11=new B();return _0xfafc11['setColumnMajor'](_0x4bfe5e,_0x2d02ba,_0xde3028,_0x335564,_0x2bc192,_0x8518b6,_0x181451,_0xba5aaf,_0x4b1cc0,_0x418009,_0x2ef816,_0xcaa216,_0x97d2b3,_0x2c6446,_0x1735a6,_0x5dc07d),_0xfafc11;}static['makeIdentity'](){return B['fromRowMajor'](0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}static['makeTranslation'](_0x2df936){return B['fromRowMajor'](0x1,0x0,0x0,_0x2df936['x'],0x0,0x1,0x0,_0x2df936['y'],0x0,0x0,0x1,_0x2df936['z'],0x0,0x0,0x0,0x1);}static['makeRotationX'](_0x209bb3){const _0x1458cc=new B();return _0x1458cc['setRotationX'](_0x209bb3),_0x1458cc;}static['makeRotationY'](_0x3d77dd){const _0x56ba68=new B();return _0x56ba68['setRotationY'](_0x3d77dd),_0x56ba68;}static['makeRotationZ'](_0x416d13){const _0x595c5d=new B();return _0x595c5d['setRotationZ'](_0x416d13),_0x595c5d;}static['makeAxisAngle'](_0x57ea17,_0x19435c){const _0x51d075=new B();return _0x51d075['setAxisAngle'](_0x57ea17,_0x19435c),_0x51d075;}static['makeEulerAngles'](_0x196df2,_0x2a0d5b,_0x24a74b,_0x5f1a14='YZX'){const _0x59d629=new B();return _0x59d629['setEulerAngles'](_0x196df2,_0x2a0d5b,_0x24a74b,_0x5f1a14),_0x59d629;}static['makeScale'](_0x28e9bc){const _0x409fe1=new B();return _0x409fe1['setScale'](_0x28e9bc),_0x409fe1;}static['compose'](_0x30424b=m['ZERO'],_0x5c0045=D['IDENTITY'],_0x46e93f=m['UP']){const _0x46bd99=new B();return _0x46bd99['compose'](_0x30424b,_0x5c0045,_0x46e93f),_0x46bd99;}static['lookAt'](_0x8eea56,_0xfe0503,_0x3d97cf){const _0x1788ac=new B();return _0x1788ac['lookAt'](_0x8eea56,_0xfe0503,_0x3d97cf),_0x1788ac;}static['makeOrthographic'](_0x24ba90,_0x416a6a,_0x4fe1d5,_0x140d41,_0x7aa896,_0x1e8582){const _0x124e4b=new B();return _0x124e4b['setOrthographic'](_0x24ba90,_0x416a6a,_0x4fe1d5,_0x140d41,_0x7aa896,_0x1e8582),_0x124e4b;}static['makePerspective'](_0x240409,_0x59f82c,_0x4ac0fe,_0x4fd46b){const _0x28fc17=new B();return _0x28fc17['setPerspective'](_0x240409,_0x59f82c,_0x4ac0fe,_0x4fd46b),_0x28fc17;}static['makeFrustum'](_0x981dc,_0x5e5858,_0x4e12fc,_0x9ca7fe,_0x4ce094,_0x48dece){const _0x2060e5=new B();return _0x2060e5['setFrustum'](_0x981dc,_0x5e5858,_0x4e12fc,_0x9ca7fe,_0x4ce094,_0x48dece),_0x2060e5;}['setColumnMajor'](_0x32cb57,_0x115044,_0x4971b8,_0x34c08b,_0x5b3ccc,_0x303167,_0x41a086,_0x443769,_0x20484a,_0xe65f30,_0x370ba4,_0x131890,_0x307490,_0x3680d0,_0x361dc0,_0x213e26){this['mat'][0x0]=_0x32cb57,this['mat'][0x1]=_0x115044,this['mat'][0x2]=_0x4971b8,this['mat'][0x3]=_0x34c08b,this['mat'][0x4]=_0x5b3ccc,this['mat'][0x5]=_0x303167,this['mat'][0x6]=_0x41a086,this['mat'][0x7]=_0x443769,this['mat'][0x8]=_0x20484a,this['mat'][0x9]=_0xe65f30,this['mat'][0xa]=_0x370ba4,this['mat'][0xb]=_0x131890,this['mat'][0xc]=_0x307490,this['mat'][0xd]=_0x3680d0,this['mat'][0xe]=_0x361dc0,this['mat'][0xf]=_0x213e26;}['setRowMajor'](_0x207828,_0x1c1d15,_0x4b3269,_0x3f1c9f,_0x148db4,_0x533053,_0x2619ed,_0x2c5e34,_0x4d344d,_0x3d9569,_0x59a90e,_0x1fe06f,_0x865c3,_0xa38c40,_0x401f25,_0x44ccda){this['mat'][0x0]=_0x207828,this['mat'][0x1]=_0x148db4,this['mat'][0x2]=_0x4d344d,this['mat'][0x3]=_0x865c3,this['mat'][0x4]=_0x1c1d15,this['mat'][0x5]=_0x533053,this['mat'][0x6]=_0x3d9569,this['mat'][0x7]=_0xa38c40,this['mat'][0x8]=_0x4b3269,this['mat'][0x9]=_0x2619ed,this['mat'][0xa]=_0x59a90e,this['mat'][0xb]=_0x401f25,this['mat'][0xc]=_0x3f1c9f,this['mat'][0xd]=_0x2c5e34,this['mat'][0xe]=_0x1fe06f,this['mat'][0xf]=_0x44ccda;}['copy'](_0x3193b9){for(let _0x557b97=0x0;_0x557b97<0x10;_0x557b97++)this['mat'][_0x557b97]=_0x3193b9['mat'][_0x557b97];}['clone'](){const _0x364a31=new B();for(let _0x5c90e6=0x0;_0x5c90e6<0x10;_0x5c90e6++)_0x364a31['mat'][_0x5c90e6]=this['mat'][_0x5c90e6];return _0x364a31;}['element'](_0x260bd4,_0x5292f4){return this['mat'][_0x5292f4*0x4+_0x260bd4];}['set'](_0x2ed8ea,_0x430d03,_0x47a48f){this['mat'][_0x47a48f*0x4+_0x430d03]=_0x2ed8ea;}['multiply'](_0x1b92d3){const _0x22fc27=B['multiply'](_0x1b92d3,this);this['copy'](_0x22fc27);}['premultiply'](_0x313b87){const _0x37a4bc=B['multiply'](this,_0x313b87);this['copy'](_0x37a4bc);}['setIdentity'](){this['setRowMajor'](0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}['setTranslation'](_0x433605){this['setRowMajor'](0x1,0x0,0x0,_0x433605['x'],0x0,0x1,0x0,_0x433605['y'],0x0,0x0,0x1,_0x433605['z'],0x0,0x0,0x0,0x1);}['setRotationX'](_0x487b22){const _0x253590=Math['cos'](_0x487b22),_0x1e57ea=Math['sin'](_0x487b22);this['setRowMajor'](0x1,0x0,0x0,0x0,0x0,_0x253590,-_0x1e57ea,0x0,0x0,_0x1e57ea,_0x253590,0x0,0x0,0x0,0x0,0x1);}['setRotationY'](_0x4ccd8e){const _0x16cdc0=Math['cos'](_0x4ccd8e),_0x655404=Math['sin'](_0x4ccd8e);this['setRowMajor'](_0x16cdc0,0x0,_0x655404,0x0,0x0,0x1,0x0,0x0,-_0x655404,0x0,_0x16cdc0,0x0,0x0,0x0,0x0,0x1);}['setRotationZ'](_0x347260){const _0x40973a=Math['cos'](_0x347260),_0x2d435d=Math['sin'](_0x347260);this['setRowMajor'](_0x40973a,-_0x2d435d,0x0,0x0,_0x2d435d,_0x40973a,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}['setAxisAngle'](_0x13cfcd,_0x30dbd7){const _0x3731c6=Math['cos'](_0x30dbd7),_0x397664=Math['sin'](_0x30dbd7),_0x34e2fc=0x1-_0x3731c6,_0x54c872=_0x13cfcd['x'],_0x5e6fad=_0x13cfcd['y'],_0x19a93c=_0x13cfcd['z'],_0x556b1d=_0x34e2fc*_0x54c872,_0x311d0d=_0x34e2fc*_0x5e6fad;this['setRowMajor'](_0x556b1d*_0x54c872+_0x3731c6,_0x556b1d*_0x5e6fad-_0x397664*_0x19a93c,_0x556b1d*_0x19a93c+_0x397664*_0x5e6fad,0x0,_0x556b1d*_0x5e6fad+_0x397664*_0x19a93c,_0x311d0d*_0x5e6fad+_0x3731c6,_0x311d0d*_0x19a93c-_0x397664*_0x54c872,0x0,_0x556b1d*_0x19a93c-_0x397664*_0x5e6fad,_0x311d0d*_0x19a93c+_0x397664*_0x54c872,_0x34e2fc*_0x19a93c*_0x19a93c+_0x3731c6,0x0,0x0,0x0,0x0,0x1);}['setScale'](_0x133e1c){this['setRowMajor'](_0x133e1c['x'],0x0,0x0,0x0,0x0,_0x133e1c['y'],0x0,0x0,0x0,0x0,_0x133e1c['z'],0x0,0x0,0x0,0x0,0x1);}['getTranslation'](){return new m(this['mat'][0xc],this['mat'][0xd],this['mat'][0xe]);}['getRotation'](){return D['makeMatrix'](this);}['getScale'](){return new m(Math['sqrt'](this['mat'][0x0]*this['mat'][0x0]+this['mat'][0x1]*this['mat'][0x1]+this['mat'][0x2]*this['mat'][0x2]),Math['sqrt'](this['mat'][0x4]*this['mat'][0x4]+this['mat'][0x5]*this['mat'][0x5]+this['mat'][0x6]*this['mat'][0x6]),Math['sqrt'](this['mat'][0x8]*this['mat'][0x8]+this['mat'][0x9]*this['mat'][0x9]+this['mat'][0xa]*this['mat'][0xa]));}['setOrthographic'](_0x2d2acd,_0x330292,_0x1c3ee0,_0x5d6cbf,_0x38dc08,_0x453432){this['setRowMajor'](0x2/(_0x330292-_0x2d2acd),0x0,0x0,-(_0x330292+_0x2d2acd)/(_0x330292-_0x2d2acd),0x0,0x2/(_0x5d6cbf-_0x1c3ee0),0x0,-(_0x5d6cbf+_0x1c3ee0)/(_0x5d6cbf-_0x1c3ee0),0x0,0x0,-0x2/(_0x453432-_0x38dc08),-(_0x453432+_0x38dc08)/(_0x453432-_0x38dc08),0x0,0x0,0x0,0x1);}['setPerspective'](_0x35666a,_0x5638a1,_0x2c9ad3,_0x4e7ff1){const _0x8b59ad=_0x2c9ad3*Math['tan'](_0x35666a*Math['PI']/0x168),_0x238620=_0x8b59ad*_0x5638a1;this['setFrustum'](-_0x238620,_0x238620,-_0x8b59ad,_0x8b59ad,_0x2c9ad3,_0x4e7ff1);}['setFrustum'](_0x43cd1a,_0x4cad7a,_0x449b60,_0x14ea0a,_0x219f3f,_0x40d194){this['setRowMajor'](0x2*_0x219f3f/(_0x4cad7a-_0x43cd1a),0x0,(_0x4cad7a+_0x43cd1a)/(_0x4cad7a-_0x43cd1a),0x0,0x0,0x2*_0x219f3f/(_0x14ea0a-_0x449b60),(_0x14ea0a+_0x449b60)/(_0x14ea0a-_0x449b60),0x0,0x0,0x0,-(_0x40d194+_0x219f3f)/(_0x40d194-_0x219f3f),-0x2*_0x40d194*_0x219f3f/(_0x40d194-_0x219f3f),0x0,0x0,-0x1,0x0);}['lookAt'](_0x2d872e,_0x461cf6,_0x535f1b=m['UP']){const _0x462ec8=m['subtract'](_0x2d872e,_0x461cf6);_0x462ec8['normalize']();const _0x10a107=m['cross'](_0x535f1b,_0x462ec8);_0x10a107['normalize']();const _0x2ee033=m['cross'](_0x462ec8,_0x10a107);_0x2ee033['normalize']();const _0x3f1f94=B['fromRowMajor'](_0x10a107['x'],_0x2ee033['x'],_0x462ec8['x'],0x0,_0x10a107['y'],_0x2ee033['y'],_0x462ec8['y'],0x0,_0x10a107['z'],_0x2ee033['z'],_0x462ec8['z'],0x0,0x0,0x0,0x0,0x1),_0x605065=B['makeTranslation'](_0x2d872e);this['copy'](B['multiply'](_0x3f1f94,_0x605065));}['multiplyScalar'](_0x20c00d){for(let _0x5d15a1=0x0;_0x5d15a1<0x10;_0x5d15a1++)this['mat'][_0x5d15a1]*=_0x20c00d;}['determinant'](){return this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x1]*this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xf];}['inverse'](){const _0x4250f8=this['determinant']();if(Math['abs'](_0x4250f8)<1e-8)return new B();const _0x498bf7=new B();return _0x498bf7['mat'][0x0]=(this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xd]+this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xe]-this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xf]+this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0x1]=(this['mat'][0x3]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x2]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x3]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x1]*this['mat'][0xb]*this['mat'][0xe]+this['mat'][0x2]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x1]*this['mat'][0xa]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0x2]=(this['mat'][0x2]*this['mat'][0x7]*this['mat'][0xd]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xe]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xf]+this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0x3]=(this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x9]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x9]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xa]+this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xa]+this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xb]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xb])/_0x4250f8,_0x498bf7['mat'][0x4]=(this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xe]+this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xe]+this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xf]-this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0x5]=(this['mat'][0x2]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x3]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0xa]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0x6]=(this['mat'][0x3]*this['mat'][0x6]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xe]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0x7]=(this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x8]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x8]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xa]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xa]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xb]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xb])/_0x4250f8,_0x498bf7['mat'][0x8]=(this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xc]+this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xd]-this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0x9]=(this['mat'][0x3]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x1]*this['mat'][0x8]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x9]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0xa]=(this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xc]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xd]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xf])/_0x4250f8,_0x498bf7['mat'][0xb]=(this['mat'][0x3]*this['mat'][0x5]*this['mat'][0x8]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0x8]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0x9]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0x9]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xb]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xb])/_0x4250f8,_0x498bf7['mat'][0xc]=(this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xd]+this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xe])/_0x4250f8,_0x498bf7['mat'][0xd]=(this['mat'][0x1]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x9]*this['mat'][0xc]+this['mat'][0x2]*this['mat'][0x8]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x1]*this['mat'][0x8]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x9]*this['mat'][0xe])/_0x4250f8,_0x498bf7['mat'][0xe]=(this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xd]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xe])/_0x4250f8,_0x498bf7['mat'][0xf]=(this['mat'][0x1]*this['mat'][0x6]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0x8]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x9]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0x9]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xa]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xa])/_0x4250f8,_0x498bf7;}['invert'](){const _0xf26fc4=this['inverse']();this['copy'](_0xf26fc4);}['transpose'](){return B['fromRowMajor'](this['mat'][0x0],this['mat'][0x1],this['mat'][0x2],this['mat'][0x3],this['mat'][0x4],this['mat'][0x5],this['mat'][0x6],this['mat'][0x7],this['mat'][0x8],this['mat'][0x9],this['mat'][0xa],this['mat'][0xb],this['mat'][0xc],this['mat'][0xd],this['mat'][0xe],this['mat'][0xf]);}['setEulerAngles'](_0x3b50e8,_0x11ecae,_0x4d6ef7,_0x12006e='YZX'){const _0xf7b03=Math['cos'](_0x3b50e8),_0xec9fa9=Math['sin'](_0x3b50e8),_0xa72bd1=Math['cos'](_0x11ecae),_0x3cbc9f=Math['sin'](_0x11ecae),_0x4e07a2=Math['cos'](_0x4d6ef7),_0x4c9307=Math['sin'](_0x4d6ef7);if(_0x12006e=='XYZ'){const _0x2cfd5b=_0xf7b03*_0x4e07a2,_0x1eb378=_0xf7b03*_0x4c9307,_0x1359f2=_0xec9fa9*_0x4e07a2,_0x267aca=_0xec9fa9*_0x4c9307;this['mat'][0x0]=_0xa72bd1*_0x4e07a2,this['mat'][0x4]=-_0xa72bd1*_0x4c9307,this['mat'][0x8]=_0x3cbc9f,this['mat'][0x1]=_0x1eb378+_0x1359f2*_0x3cbc9f,this['mat'][0x5]=_0x2cfd5b-_0x267aca*_0x3cbc9f,this['mat'][0x9]=-_0xec9fa9*_0xa72bd1,this['mat'][0x2]=_0x267aca-_0x2cfd5b*_0x3cbc9f,this['mat'][0x6]=_0x1359f2+_0x1eb378*_0x3cbc9f,this['mat'][0xa]=_0xf7b03*_0xa72bd1;}else if(_0x12006e=='YXZ'){const _0x102748=_0xa72bd1*_0x4e07a2,_0x551bfd=_0xa72bd1*_0x4c9307,_0x3c6e77=_0x3cbc9f*_0x4e07a2,_0x401555=_0x3cbc9f*_0x4c9307;this['mat'][0x0]=_0x102748+_0x401555*_0xec9fa9,this['mat'][0x4]=_0x3c6e77*_0xec9fa9-_0x551bfd,this['mat'][0x8]=_0xf7b03*_0x3cbc9f,this['mat'][0x1]=_0xf7b03*_0x4c9307,this['mat'][0x5]=_0xf7b03*_0x4e07a2,this['mat'][0x9]=-_0xec9fa9,this['mat'][0x2]=_0x551bfd*_0xec9fa9-_0x3c6e77,this['mat'][0x6]=_0x401555+_0x102748*_0xec9fa9,this['mat'][0xa]=_0xf7b03*_0xa72bd1;}else if(_0x12006e=='ZXY'){const _0x5db117=_0xa72bd1*_0x4e07a2,_0x4170f0=_0xa72bd1*_0x4c9307,_0x276ebb=_0x3cbc9f*_0x4e07a2,_0x13741d=_0x3cbc9f*_0x4c9307;this['mat'][0x0]=_0x5db117-_0x13741d*_0xec9fa9,this['mat'][0x4]=-_0xf7b03*_0x4c9307,this['mat'][0x8]=_0x276ebb+_0x4170f0*_0xec9fa9,this['mat'][0x1]=_0x4170f0+_0x276ebb*_0xec9fa9,this['mat'][0x5]=_0xf7b03*_0x4e07a2,this['mat'][0x9]=_0x13741d-_0x5db117*_0xec9fa9,this['mat'][0x2]=-_0xf7b03*_0x3cbc9f,this['mat'][0x6]=_0xec9fa9,this['mat'][0xa]=_0xf7b03*_0xa72bd1;}else if(_0x12006e==='ZYX'){const _0x2c12bd=_0xf7b03*_0x4e07a2,_0x5879d5=_0xf7b03*_0x4c9307,_0x5b38e9=_0xec9fa9*_0x4e07a2,_0xd0ba03=_0xec9fa9*_0x4c9307;this['mat'][0x0]=_0xa72bd1*_0x4e07a2,this['mat'][0x4]=_0x5b38e9*_0x3cbc9f-_0x5879d5,this['mat'][0x8]=_0x2c12bd*_0x3cbc9f+_0xd0ba03,this['mat'][0x1]=_0xa72bd1*_0x4c9307,this['mat'][0x5]=_0xd0ba03*_0x3cbc9f+_0x2c12bd,this['mat'][0x9]=_0x5879d5*_0x3cbc9f-_0x5b38e9,this['mat'][0x2]=-_0x3cbc9f,this['mat'][0x6]=_0xec9fa9*_0xa72bd1,this['mat'][0xa]=_0xf7b03*_0xa72bd1;}else if(_0x12006e==='YZX'){const _0x4f30b0=_0xf7b03*_0xa72bd1,_0x25e508=_0xf7b03*_0x3cbc9f,_0x33f659=_0xec9fa9*_0xa72bd1,_0x6df4eb=_0xec9fa9*_0x3cbc9f;this['mat'][0x0]=_0xa72bd1*_0x4e07a2,this['mat'][0x4]=_0x6df4eb-_0x4f30b0*_0x4c9307,this['mat'][0x8]=_0x33f659*_0x4c9307+_0x25e508,this['mat'][0x1]=_0x4c9307,this['mat'][0x5]=_0xf7b03*_0x4e07a2,this['mat'][0x9]=-_0xec9fa9*_0x4e07a2,this['mat'][0x2]=-_0x3cbc9f*_0x4e07a2,this['mat'][0x6]=_0x25e508*_0x4c9307+_0x33f659,this['mat'][0xa]=_0x4f30b0-_0x6df4eb*_0x4c9307;}else if(_0x12006e==='XZY'){const _0x299d61=_0xf7b03*_0xa72bd1,_0x39fb88=_0xf7b03*_0x3cbc9f,_0x5d9883=_0xec9fa9*_0xa72bd1,_0x3a40bb=_0xec9fa9*_0x3cbc9f;this['mat'][0x0]=_0xa72bd1*_0x4e07a2,this['mat'][0x4]=-_0x4c9307,this['mat'][0x8]=_0x3cbc9f*_0x4e07a2,this['mat'][0x1]=_0x299d61*_0x4c9307+_0x3a40bb,this['mat'][0x5]=_0xf7b03*_0x4e07a2,this['mat'][0x9]=_0x39fb88*_0x4c9307-_0x5d9883,this['mat'][0x2]=_0x5d9883*_0x4c9307-_0x39fb88,this['mat'][0x6]=_0xec9fa9*_0x4e07a2,this['mat'][0xa]=_0x3a40bb*_0x4c9307+_0x299d61;}this['mat'][0x3]=0x0,this['mat'][0x7]=0x0,this['mat'][0xb]=0x0,this['mat'][0xc]=0x0,this['mat'][0xd]=0x0,this['mat'][0xe]=0x0,this['mat'][0xf]=0x1;}['compose'](_0x31c340=m['ZERO'],_0x2da3f7=D['IDENTITY'],_0x38c5a4=m['ONE']){this['setTranslation'](_0x31c340),this['multiply'](_0x2da3f7['getMatrix']()),this['multiply'](B['makeScale'](_0x38c5a4));}['decompose'](){const _0x3d92e7=new m(),_0x591541=new D(),_0x2e74ff=new m();_0x3d92e7['setPositionFromMatrix'](this),_0x2e74ff['setScaleFromMatrix'](this);const _0xa04c30=new B();return _0xa04c30['mat'][0x0]=this['mat'][0x0]/_0x2e74ff['x'],_0xa04c30['mat'][0x1]=this['mat'][0x1]/_0x2e74ff['x'],_0xa04c30['mat'][0x2]=this['mat'][0x2]/_0x2e74ff['x'],_0xa04c30['mat'][0x3]=0x0,_0xa04c30['mat'][0x4]=this['mat'][0x4]/_0x2e74ff['y'],_0xa04c30['mat'][0x5]=this['mat'][0x5]/_0x2e74ff['y'],_0xa04c30['mat'][0x6]=this['mat'][0x6]/_0x2e74ff['y'],_0xa04c30['mat'][0x7]=0x0,_0xa04c30['mat'][0x8]=this['mat'][0x8]/_0x2e74ff['z'],_0xa04c30['mat'][0x9]=this['mat'][0x9]/_0x2e74ff['z'],_0xa04c30['mat'][0xa]=this['mat'][0xa]/_0x2e74ff['z'],_0xa04c30['mat'][0xb]=0x0,_0xa04c30['mat'][0xc]=0x0,_0xa04c30['mat'][0xd]=0x0,_0xa04c30['mat'][0xe]=0x0,_0xa04c30['mat'][0xf]=0x1,_0x591541['setMatrix'](_0xa04c30),[_0x3d92e7,_0x591541,_0x2e74ff];}};let j=B;o(j,'IDENTITY',new B());class wt{constructor(){o(this,'min');o(this,'max');this['min']=new m(),this['max']=new m();}['copy'](_0x2fd333){this['min']['copy'](_0x2fd333['min']),this['max']['copy'](_0x2fd333['max']);}['transform'](_0x1330ec,_0x417b19,_0x5add61){this['min']['multiply'](_0x5add61),this['max']['multiply'](_0x5add61);const _0x43a8d0=[];_0x43a8d0['push'](new m(this['min']['x'],this['min']['y'],this['min']['z'])),_0x43a8d0['push'](new m(this['min']['x'],this['min']['y'],this['max']['z'])),_0x43a8d0['push'](new m(this['min']['x'],this['max']['y'],this['min']['z'])),_0x43a8d0['push'](new m(this['min']['x'],this['max']['y'],this['max']['z'])),_0x43a8d0['push'](new m(this['max']['x'],this['min']['y'],this['min']['z'])),_0x43a8d0['push'](new m(this['max']['x'],this['min']['y'],this['max']['z'])),_0x43a8d0['push'](new m(this['max']['x'],this['max']['y'],this['min']['z'])),_0x43a8d0['push'](new m(this['max']['x'],this['max']['y'],this['max']['z'])),_0x43a8d0['forEach'](_0x40801d=>{_0x40801d['rotate'](_0x417b19);}),this['min']['copy'](_0x43a8d0[0x0]),this['max']['copy'](_0x43a8d0[0x0]);for(let _0x559397=0x1;_0x559397<_0x43a8d0['length'];_0x559397++)this['min']['x']=Math['min'](this['min']['x'],_0x43a8d0[_0x559397]['x']),this['min']['y']=Math['min'](this['min']['y'],_0x43a8d0[_0x559397]['y']),this['min']['z']=Math['min'](this['min']['z'],_0x43a8d0[_0x559397]['z']),this['max']['x']=Math['max'](this['max']['x'],_0x43a8d0[_0x559397]['x']),this['max']['y']=Math['max'](this['max']['y'],_0x43a8d0[_0x559397]['y']),this['max']['z']=Math['max'](this['max']['z'],_0x43a8d0[_0x559397]['z']);this['min']['add'](_0x1330ec),this['max']['add'](_0x1330ec);}['intersects'](_0x5c2e3b){const _0x54dbc0=m['add'](this['max'],this['min']);_0x54dbc0['multiplyScalar'](0.5);const _0x186194=m['add'](_0x5c2e3b['max'],_0x5c2e3b['min']);_0x186194['multiplyScalar'](0.5);const _0x117bf3=m['subtract'](this['max'],this['min']);_0x117bf3['multiplyScalar'](0.5);const _0x5bde4a=m['subtract'](_0x5c2e3b['max'],_0x5c2e3b['min']);return _0x5bde4a['multiplyScalar'](0.5),Math['abs'](_0x54dbc0['x']-_0x186194['x'])>_0x117bf3['x']+_0x5bde4a['x']||Math['abs'](_0x54dbc0['y']-_0x186194['y'])>_0x117bf3['y']+_0x5bde4a['y']?!0x1:!(Math['abs'](_0x54dbc0['z']-_0x186194['z'])>_0x117bf3['z']+_0x5bde4a['z']);}['computeBounds'](_0x2bd913){if(typeof _0x2bd913[0x0]=='number'){const _0x5b7709=_0x2bd913;this['max']['set'](_0x5b7709[0x0],_0x5b7709[0x1],_0x5b7709[0x2]),this['min']['set'](_0x5b7709[0x0],_0x5b7709[0x1],_0x5b7709[0x2]);for(let _0x275a00=0x0;_0x275a00<_0x5b7709['length'];_0x275a00+=0x3)_0x5b7709[_0x275a00]>this['max']['x']&&(this['max']['x']=_0x5b7709[_0x275a00]),_0x5b7709[_0x275a00]<this['min']['x']&&(this['min']['x']=_0x5b7709[_0x275a00]),_0x5b7709[_0x275a00+0x1]>this['max']['y']&&(this['max']['y']=_0x5b7709[_0x275a00+0x1]),_0x5b7709[_0x275a00+0x1]<this['min']['y']&&(this['min']['y']=_0x5b7709[_0x275a00+0x1]),_0x5b7709[_0x275a00+0x2]>this['max']['z']&&(this['max']['z']=_0x5b7709[_0x275a00+0x2]),_0x5b7709[_0x275a00+0x2]<this['min']['z']&&(this['min']['z']=_0x5b7709[_0x275a00+0x2]);}else this['max']['copy'](_0x2bd913[0x0]),this['min']['copy'](_0x2bd913[0x0]),_0x2bd913['forEach'](_0x1e887c=>{_0x1e887c['x']>this['max']['x']&&(this['max']['x']=_0x1e887c['x']),_0x1e887c['x']<this['min']['x']&&(this['min']['x']=_0x1e887c['x']),_0x1e887c['y']>this['max']['y']&&(this['max']['y']=_0x1e887c['y']),_0x1e887c['y']<this['min']['y']&&(this['min']['y']=_0x1e887c['y']),_0x1e887c['z']>this['max']['z']&&(this['max']['z']=_0x1e887c['z']),_0x1e887c['z']<this['min']['z']&&(this['min']['z']=_0x1e887c['z']);});}}class vt{constructor(){o(this,'center');o(this,'radius');this['center']=new m(),this['radius']=0x0;}['copy'](_0x236704){this['center']['copy'](_0x236704['center']),this['radius']=_0x236704['radius'];}['transform'](_0x3db81f,_0x2b7c2f){this['center']['multiply'](_0x2b7c2f),this['center']['add'](_0x3db81f),_0x2b7c2f['x']>=_0x2b7c2f['y']?this['radius']*=_0x2b7c2f['x']:this['radius']*=_0x2b7c2f['y'];}['intersects'](_0x58a089){return this['center']['distanceTo'](_0x58a089['center'])<this['radius']+_0x58a089['radius'];}['computeBounds'](_0x2fd661,_0x32a1b8){if(this['center']['copy'](_0x32a1b8['min']),this['center']['add'](_0x32a1b8['max']),this['center']['multiplyScalar'](0.5),this['radius']=0x0,typeof _0x2fd661[0x0]=='number'){const _0x2e4bb5=_0x2fd661;for(let _0x1bad64=0x0;_0x1bad64<_0x2e4bb5['length'];_0x1bad64+=0x3){const _0x598d6b=Math['sqrt']((_0x2e4bb5[_0x1bad64]-this['center']['x'])*(_0x2e4bb5[_0x1bad64]-this['center']['x'])+(_0x2e4bb5[_0x1bad64+0x1]-this['center']['y'])*(_0x2e4bb5[_0x1bad64+0x1]-this['center']['y'])+(_0x2e4bb5[_0x1bad64+0x2]-this['center']['z'])*(_0x2e4bb5[_0x1bad64+0x2]-this['center']['z']));_0x598d6b>this['radius']&&(this['radius']=_0x598d6b);}}else _0x2fd661['forEach'](_0x2d0125=>{const _0x3ecf0d=_0x2d0125['distanceTo'](this['center']);_0x3ecf0d>this['radius']&&(this['radius']=_0x3ecf0d);});}}class H{constructor(){o(this,'children');o(this,'position');o(this,'rotation');o(this,'scale');o(this,'visible');o(this,'autoUpdateMatrix');o(this,'matrix');o(this,'worldMatrix');o(this,'parent');o(this,'boundingBox');o(this,'boundingSphere');this['children']=[],this['position']=new m(),this['rotation']=new D(),this['scale']=new m(0x1,0x1,0x1),this['visible']=!0x0,this['autoUpdateMatrix']=!0x0,this['matrix']=new j(),this['worldMatrix']=new j(),this['parent']=null,this['boundingBox']=new wt(),this['boundingSphere']=new vt();}['draw'](_0x1d07dd,_0x1e308d,_0x56b1ad){!this['visible']||this['children']['forEach'](_0x2ba893=>{_0x2ba893['draw'](this,_0x1e308d,_0x56b1ad);});}['traverseSceneGraph'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']),this['children']['forEach'](_0x322643=>{_0x322643['traverseSceneGraph']();});}['updateWorldMatrix'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['parent']['updateWorldMatrix'](),this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']);}['add'](_0x155af6){this['children']['push'](_0x155af6),_0x155af6['parent']=this;}['remove'](){return this['parent']==null?!0x1:this['parent']['removeChild'](this)!=null;}['removeChild'](_0x2049e4){const _0x35a91c=this['children']['indexOf'](_0x2049e4);if(_0x35a91c==-0x1)return null;{const _0x1dcb91=this['children']['splice'](_0x35a91c,0x1);return _0x1dcb91[0x0]['parent']=null,_0x1dcb91[0x0];}}['setLights'](_0x53d304){this['children']['forEach'](_0x255e91=>{_0x255e91['setLights'](_0x53d304);});}['translate'](_0x3f1372){this['position']['add'](m['rotate'](_0x3f1372,this['rotation']));}['translateX'](_0x5bb3b6){this['position']['add'](m['rotate'](new m(_0x5bb3b6,0x0,0x0),this['rotation']));}['translateY'](_0xcf0dd3){this['position']['add'](m['rotate'](new m(0x0,_0xcf0dd3,0x0),this['rotation']));}['translateZ'](_0x20b5b8){this['position']['add'](m['rotate'](new m(0x0,0x0,_0x20b5b8),this['rotation']));}['rotate'](_0x2d8a6c){this['rotation']['multiply'](D['makeEulerAngles'](_0x2d8a6c['x'],_0x2d8a6c['y'],_0x2d8a6c['z']));}['rotateX'](_0x52f64d){this['rotation']['multiply'](D['makeRotationX'](_0x52f64d));}['rotateY'](_0x46b495){this['rotation']['multiply'](D['makeRotationY'](_0x46b495));}['rotateZ'](_0x51d603){this['rotation']['multiply'](D['makeRotationZ'](_0x51d603));}['lookAt'](_0x5a83c4,_0x25d9ce=m['UP']){this['updateWorldMatrix']();const [_0x1ded7d,_0x418876,_0x480576]=this['worldMatrix']['decompose']();this['rotation']['lookAt'](_0x1ded7d,_0x5a83c4,_0x25d9ce);}['intersects'](_0x1d24a4,_0xa5f31=0x0){if(_0xa5f31==0x0){const _0x395a11=new vt();_0x395a11['copy'](this['boundingSphere']),_0x395a11['transform'](this['position'],this['scale']);const _0x2f0133=new vt();return _0x2f0133['copy'](_0x1d24a4['boundingSphere']),_0x2f0133['transform'](_0x1d24a4['position'],_0x1d24a4['scale']),_0x395a11['intersects'](_0x2f0133);}else if(_0xa5f31==0x1){const _0x45bc96=new wt();_0x45bc96['copy'](this['boundingBox']),_0x45bc96['transform'](this['position'],this['rotation'],this['scale']);const _0x24a450=new wt();return _0x24a450['copy'](_0x1d24a4['boundingBox']),_0x24a450['transform'](_0x1d24a4['position'],_0x1d24a4['rotation'],_0x1d24a4['scale']),_0x45bc96['intersects'](_0x24a450);}else return!0x1;}}class $t extends H{constructor(){super();o(this,'aspectRatio');o(this,'fov');o(this,'near');o(this,'far');o(this,'left');o(this,'right');o(this,'projectionMatrix');o(this,'viewMatrix');o(this,'projectionMatrixDirty');this['fov']=0x0,this['aspectRatio']=0x0,this['near']=0x0,this['far']=0x0,this['left']=0x0,this['right']=0x0,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']=new j(),this['viewMatrix']=new j();}['setPerspectiveCamera'](_0x270ee6,_0x32e61a,_0x539b2d,_0x449a9d){this['fov']=_0x270ee6,this['aspectRatio']=_0x32e61a,this['near']=_0x539b2d,this['far']=_0x449a9d,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']['setPerspective'](_0x270ee6,_0x32e61a,_0x539b2d,_0x449a9d);}['setOrthographicCamera'](_0x3cf5c8,_0xc73a6e,_0x281f58,_0x369273,_0x48a16e,_0x211fe3){this['left']=_0x3cf5c8,this['right']=_0xc73a6e,this['aspectRatio']=Math['abs']((_0xc73a6e-_0x3cf5c8)/(_0x369273-_0x281f58)),this['near']=_0x48a16e,this['far']=_0x211fe3,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']['setOrthographic'](_0x3cf5c8,_0xc73a6e,_0x281f58,_0x369273,_0x48a16e,_0x211fe3);}['updateWorldMatrix'](){super['updateWorldMatrix'](),this['viewMatrix']=this['worldMatrix']['inverse']();}['getAspectRatio'](){return this['aspectRatio'];}['getNear'](){return this['near'];}['getFar'](){return this['far'];}['getLeft'](){return this['left'];}['getRight'](){return this['right'];}}const F=class{constructor(){o(this,'mat');this['mat']=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1];}static['multiply'](_0x4e21b2,_0x197ae9){const _0xd429b5=new F();return _0xd429b5['mat'][0x0]=_0x4e21b2['mat'][0x0]*_0x197ae9['mat'][0x0]+_0x4e21b2['mat'][0x1]*_0x197ae9['mat'][0x3]+_0x4e21b2['mat'][0x2]*_0x197ae9['mat'][0x6],_0xd429b5['mat'][0x1]=_0x4e21b2['mat'][0x0]*_0x197ae9['mat'][0x1]+_0x4e21b2['mat'][0x1]*_0x197ae9['mat'][0x4]+_0x4e21b2['mat'][0x2]*_0x197ae9['mat'][0x7],_0xd429b5['mat'][0x2]=_0x4e21b2['mat'][0x0]*_0x197ae9['mat'][0x2]+_0x4e21b2['mat'][0x1]*_0x197ae9['mat'][0x5]+_0x4e21b2['mat'][0x2]*_0x197ae9['mat'][0x8],_0xd429b5['mat'][0x3]=_0x4e21b2['mat'][0x3]*_0x197ae9['mat'][0x0]+_0x4e21b2['mat'][0x4]*_0x197ae9['mat'][0x3]+_0x4e21b2['mat'][0x5]*_0x197ae9['mat'][0x6],_0xd429b5['mat'][0x4]=_0x4e21b2['mat'][0x3]*_0x197ae9['mat'][0x1]+_0x4e21b2['mat'][0x4]*_0x197ae9['mat'][0x4]+_0x4e21b2['mat'][0x5]*_0x197ae9['mat'][0x7],_0xd429b5['mat'][0x5]=_0x4e21b2['mat'][0x3]*_0x197ae9['mat'][0x2]+_0x4e21b2['mat'][0x4]*_0x197ae9['mat'][0x5]+_0x4e21b2['mat'][0x5]*_0x197ae9['mat'][0x8],_0xd429b5['mat'][0x6]=_0x4e21b2['mat'][0x6]*_0x197ae9['mat'][0x0]+_0x4e21b2['mat'][0x7]*_0x197ae9['mat'][0x3]+_0x4e21b2['mat'][0x8]*_0x197ae9['mat'][0x6],_0xd429b5['mat'][0x7]=_0x4e21b2['mat'][0x6]*_0x197ae9['mat'][0x1]+_0x4e21b2['mat'][0x7]*_0x197ae9['mat'][0x4]+_0x4e21b2['mat'][0x8]*_0x197ae9['mat'][0x7],_0xd429b5['mat'][0x8]=_0x4e21b2['mat'][0x6]*_0x197ae9['mat'][0x2]+_0x4e21b2['mat'][0x7]*_0x197ae9['mat'][0x5]+_0x4e21b2['mat'][0x8]*_0x197ae9['mat'][0x8],_0xd429b5;}static['copy'](_0x3c0d73){const _0x6725e2=new F();return _0x6725e2['copy'](_0x3c0d73),_0x6725e2;}static['fromRowMajor'](_0x5e929f,_0x1fbbb6,_0x3d27ff,_0x9d977e,_0x47bd98,_0x3f096a,_0x57d4fa,_0x3adb12,_0x94ceec){const _0x414e8e=new F();return _0x414e8e['setRowMajor'](_0x5e929f,_0x1fbbb6,_0x3d27ff,_0x9d977e,_0x47bd98,_0x3f096a,_0x57d4fa,_0x3adb12,_0x94ceec),_0x414e8e;}static['fromColumnMajor'](_0x1f06af,_0x2952f7,_0x5f424e,_0x3efea0,_0x3e65da,_0xbdf9e5,_0x193f8f,_0x34019c,_0x5a67d6){const _0x5f55c9=new F();return _0x5f55c9['setColumnMajor'](_0x1f06af,_0x2952f7,_0x5f424e,_0x3efea0,_0x3e65da,_0xbdf9e5,_0x193f8f,_0x34019c,_0x5a67d6),_0x5f55c9;}static['makeTranslation'](_0x430402){return F['fromRowMajor'](0x1,0x0,_0x430402['x'],0x0,0x1,_0x430402['y'],0x0,0x0,0x1);}static['makeRotation'](_0x2e02da){const _0x49fc77=Math['cos'](_0x2e02da),_0x379e1e=Math['sin'](_0x2e02da);return F['fromRowMajor'](_0x49fc77,-_0x379e1e,0x0,_0x379e1e,_0x49fc77,0x0,0x0,0x0,0x1);}static['makeScale'](_0x4cfded){return F['fromRowMajor'](_0x4cfded['x'],0x0,0x0,0x0,_0x4cfded['y'],0x0,0x0,0x0,0x1);}static['compose'](_0x1d34a6=x['ZERO'],_0x35d3e9=0x0,_0x27c3cc=x['ONE']){const _0x209dd9=new F();return _0x209dd9['compose'](_0x1d34a6,_0x35d3e9,_0x27c3cc),_0x209dd9;}['setColumnMajor'](_0x4858b6,_0x14207b,_0x5e142e,_0x5e4857,_0x4139ae,_0x10acb5,_0x39b533,_0x509700,_0x411b13){this['mat'][0x0]=_0x4858b6,this['mat'][0x1]=_0x14207b,this['mat'][0x2]=_0x5e142e,this['mat'][0x3]=_0x5e4857,this['mat'][0x4]=_0x4139ae,this['mat'][0x5]=_0x10acb5,this['mat'][0x6]=_0x39b533,this['mat'][0x7]=_0x509700,this['mat'][0x8]=_0x411b13;}['setRowMajor'](_0x214fda,_0x11d87a,_0x4e0e63,_0x4742e9,_0x4e4c63,_0x5d202,_0x243cf7,_0x5c4df1,_0x5a4196){this['mat'][0x0]=_0x214fda,this['mat'][0x1]=_0x4742e9,this['mat'][0x2]=_0x243cf7,this['mat'][0x3]=_0x11d87a,this['mat'][0x4]=_0x4e4c63,this['mat'][0x5]=_0x5c4df1,this['mat'][0x6]=_0x4e0e63,this['mat'][0x7]=_0x5d202,this['mat'][0x8]=_0x5a4196;}['copy'](_0x1bd694){for(let _0x414fc2=0x0;_0x414fc2<0x9;_0x414fc2++)this['mat'][_0x414fc2]=_0x1bd694['mat'][_0x414fc2];}['element'](_0x296f2c,_0xe0d7a1){return this['mat'][_0xe0d7a1*0x3+_0x296f2c];}['set'](_0x5a1958,_0x2fcf42,_0x4fcf5f){this['mat'][_0x4fcf5f*0x3+_0x2fcf42]=_0x5a1958;}['multiply'](_0x363cdf){const _0x3bba8f=F['multiply'](_0x363cdf,this);this['copy'](_0x3bba8f);}['setTranslation'](_0x203f14){this['setRowMajor'](0x1,0x0,_0x203f14['x'],0x0,0x1,_0x203f14['y'],0x0,0x0,0x1);}['setRotation'](_0x44a92d){const _0x2a19db=Math['cos'](_0x44a92d),_0x1de5ae=Math['sin'](_0x44a92d);this['setRowMajor'](_0x2a19db,-_0x1de5ae,0x0,_0x1de5ae,_0x2a19db,0x0,0x0,0x0,0x1);}['setScale'](_0x9d71d2){this['setRowMajor'](_0x9d71d2['x'],0x0,0x0,0x0,_0x9d71d2['y'],0x0,0x0,0x0,0x1);}['multiplyScalar'](_0x8e4756){for(let _0x5d9ce5=0x0;_0x5d9ce5<0x9;_0x5d9ce5++)this['mat'][_0x5d9ce5]*=_0x8e4756;}['inverse'](){const _0x57517a=new F(),_0x4c1ab9=this['mat'][0x0]*this['mat'][0x4]*this['mat'][0x8]+this['mat'][0x1]*this['mat'][0x5]*this['mat'][0x6]+this['mat'][0x2]*this['mat'][0x3]*this['mat'][0x7]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0x7]-this['mat'][0x1]*this['mat'][0x3]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x6];return this['mat'][0x0]=(this['mat'][0x4]*this['mat'][0x8]-this['mat'][0x5]*this['mat'][0x7])/_0x4c1ab9,this['mat'][0x1]=(this['mat'][0x2]*this['mat'][0x7]-this['mat'][0x1]*this['mat'][0x8])/_0x4c1ab9,this['mat'][0x2]=(this['mat'][0x1]*this['mat'][0x5]-this['mat'][0x2]*this['mat'][0x4])/_0x4c1ab9,this['mat'][0x3]=(this['mat'][0x5]*this['mat'][0x6]-this['mat'][0x3]*this['mat'][0x8])/_0x4c1ab9,this['mat'][0x4]=(this['mat'][0x0]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x6])/_0x4c1ab9,this['mat'][0x5]=(this['mat'][0x2]*this['mat'][0x3]-this['mat'][0x0]*this['mat'][0x5])/_0x4c1ab9,this['mat'][0x6]=(this['mat'][0x3]*this['mat'][0x7]-this['mat'][0x4]*this['mat'][0x6])/_0x4c1ab9,this['mat'][0x7]=(this['mat'][0x1]*this['mat'][0x6]-this['mat'][0x0]*this['mat'][0x7])/_0x4c1ab9,this['mat'][0x8]=(this['mat'][0x0]*this['mat'][0x4]-this['mat'][0x1]*this['mat'][0x3])/_0x4c1ab9,_0x57517a;}['invert'](){const _0x209ff2=this['inverse']();this['copy'](_0x209ff2);}['transpose'](){return F['fromRowMajor'](this['mat'][0x0],this['mat'][0x1],this['mat'][0x2],this['mat'][0x3],this['mat'][0x4],this['mat'][0x5],this['mat'][0x6],this['mat'][0x7],this['mat'][0x8]);}['compose'](_0x4b6770=x['ZERO'],_0x1e08c2=0x0,_0x1762ba=x['ONE']){this['setTranslation'](_0x4b6770),this['multiply'](F['makeRotation'](_0x1e08c2)),this['multiply'](F['makeScale'](_0x1762ba));}['decompose'](){const _0x62e89c=new x(),_0x5af5e3=new x();return _0x62e89c['setPositionFromMatrix'](this),_0x5af5e3['setScaleFromMatrix'](this),[_0x62e89c,Math['atan2'](this['mat'][0x1],this['mat'][0x0]),_0x5af5e3];}};let ht=F;o(ht,'IDENTITY',new F());class St{constructor(){o(this,'min');o(this,'max');this['min']=new x(),this['max']=new x();}['copy'](_0x716e1d){this['min']['copy'](_0x716e1d['min']),this['max']['copy'](_0x716e1d['max']);}['transform'](_0xc0e595,_0x9c9d95,_0x3e637d){this['min']['multiply'](_0x3e637d),this['max']['multiply'](_0x3e637d);const _0x3e2610=new x(this['min']['x'],this['max']['y']),_0x3fc970=new x(this['max']['x'],this['max']['y']),_0x5ea0f7=new x(this['min']['x'],this['min']['y']),_0x10d619=new x(this['max']['x'],this['min']['y']);_0x3e2610['rotate'](_0x9c9d95),_0x3fc970['rotate'](_0x9c9d95),_0x5ea0f7['rotate'](_0x9c9d95),_0x10d619['rotate'](_0x9c9d95),this['min']['x']=Math['min'](_0x3e2610['x'],Math['min'](_0x3fc970['x'],Math['min'](_0x5ea0f7['x'],_0x10d619['x']))),this['min']['y']=Math['min'](_0x3e2610['y'],Math['min'](_0x3fc970['y'],Math['min'](_0x5ea0f7['y'],_0x10d619['y']))),this['max']['x']=Math['max'](_0x3e2610['x'],Math['max'](_0x3fc970['x'],Math['max'](_0x5ea0f7['x'],_0x10d619['x']))),this['max']['y']=Math['max'](_0x3e2610['y'],Math['max'](_0x3fc970['y'],Math['max'](_0x5ea0f7['y'],_0x10d619['y']))),this['min']['add'](_0xc0e595),this['max']['add'](_0xc0e595);}['intersects'](_0x3a3e32){const _0x18e6d4=x['add'](this['max'],this['min']);_0x18e6d4['multiplyScalar'](0.5);const _0x5d7675=x['add'](_0x3a3e32['max'],_0x3a3e32['min']);_0x5d7675['multiplyScalar'](0.5);const _0x3e2f5c=x['subtract'](this['max'],this['min']);_0x3e2f5c['multiplyScalar'](0.5);const _0x541243=x['subtract'](_0x3a3e32['max'],_0x3a3e32['min']);return _0x541243['multiplyScalar'](0.5),Math['abs'](_0x18e6d4['x']-_0x5d7675['x'])>_0x3e2f5c['x']+_0x541243['x']?!0x1:!(Math['abs'](_0x18e6d4['y']-_0x5d7675['y'])>_0x3e2f5c['y']+_0x541243['y']);}}class Dt{constructor(){o(this,'center');o(this,'radius');this['center']=new x(),this['radius']=0x0;}['copy'](_0x52235b){this['center']['copy'](_0x52235b['center']),this['radius']=_0x52235b['radius'];}['transform'](_0x40d1a5,_0xf4daa8){this['center']['multiply'](_0xf4daa8),this['center']['add'](_0x40d1a5),_0xf4daa8['x']>=_0xf4daa8['y']?this['radius']*=_0xf4daa8['x']:this['radius']*=_0xf4daa8['y'];}['intersects'](_0x3cf927){return this['center']['distanceTo'](_0x3cf927['center'])<this['radius']+_0x3cf927['radius'];}}class qt{constructor(){o(this,'children');o(this,'parent');o(this,'position');o(this,'rotation');o(this,'scale');o(this,'layer');o(this,'autoUpdateMatrix');o(this,'matrix');o(this,'worldMatrix');o(this,'visible');o(this,'boundingBox');o(this,'boundingCircle');this['children']=[],this['position']=new x(),this['rotation']=0x0,this['scale']=new x(0x1,0x1),this['autoUpdateMatrix']=!0x0,this['matrix']=new ht(),this['worldMatrix']=new ht(),this['layer']=0x0,this['visible']=!0x0,this['parent']=null,this['boundingBox']=new St(),this['boundingCircle']=new Dt();}['draw'](_0x5463e5){!this['visible']||this['children']['forEach'](_0x320d46=>{_0x320d46['draw'](this);});}['traverseSceneGraph'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']),this['children']['forEach'](_0x490bde=>{_0x490bde['traverseSceneGraph']();});}['updateWorldMatrix'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['parent']['updateWorldMatrix'](),this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']);}['add'](_0x534e98){this['children']['push'](_0x534e98),_0x534e98['parent']=this;}['remove'](){return this['parent']==null?!0x1:this['parent']['removeChild'](this)!=null;}['removeChild'](_0x205e9f){const _0x2dfdfa=this['children']['indexOf'](_0x205e9f);if(_0x2dfdfa==-0x1)return null;{const _0x41f172=this['children']['splice'](_0x2dfdfa,0x1);return _0x41f172[0x0]['parent']=null,_0x41f172[0x0];}}['translate'](_0xedd4bc){const _0xaa2a92=x['rotate'](_0xedd4bc,this['rotation']);this['position']['add'](_0xaa2a92);}['translateX'](_0xa03b2f){const _0x5022c6=x['rotate'](new x(_0xa03b2f,0x0),this['rotation']);this['position']['add'](_0x5022c6);}['translateY'](_0x52bd71){const _0x19cabb=x['rotate'](new x(0x0,_0x52bd71),this['rotation']);this['position']['add'](_0x19cabb);}['lookAt'](_0x434850,_0x45af91=x['UP']){this['updateWorldMatrix']();const [_0x10cb6a,_0x1fe2a8,_0x5ec503]=this['worldMatrix']['decompose'](),_0xd6efbf=x['subtract'](_0x434850,_0x10cb6a);if(_0xd6efbf['length']()>0x0){const _0x2bacf9=x['rotate'](_0x45af91,_0x1fe2a8);this['rotation']+=_0x2bacf9['angleBetweenSigned'](_0xd6efbf);}}['intersects'](_0x2219a2,_0x27e7d6=0x0){if(_0x27e7d6==0x0){const _0x301639=new Dt();_0x301639['copy'](this['boundingCircle']),_0x301639['transform'](this['position'],this['scale']);const _0x40f2e7=new Dt();return _0x40f2e7['copy'](_0x2219a2['boundingCircle']),_0x40f2e7['transform'](_0x2219a2['position'],_0x2219a2['scale']),_0x301639['intersects'](_0x40f2e7);}else if(_0x27e7d6==0x1){const _0x58af54=new St();_0x58af54['copy'](this['boundingBox']),_0x58af54['transform'](this['position'],this['rotation'],this['scale']);const _0x2c8a21=new St();return _0x2c8a21['copy'](_0x2219a2['boundingBox']),_0x2c8a21['transform'](_0x2219a2['position'],_0x2219a2['rotation'],_0x2219a2['scale']),_0x58af54['intersects'](_0x2c8a21);}else return!0x1;}}class Kt{constructor(){o(this,'lights');o(this,'lightTypes');o(this,'lightPositions');o(this,'ambientIntensities');o(this,'diffuseIntensities');o(this,'specularIntensities');this['lights']=[],this['lightTypes']=[],this['lightPositions']=[],this['ambientIntensities']=[],this['diffuseIntensities']=[],this['specularIntensities']=[];}['clear'](){this['lights']=[],this['lightTypes']=[],this['lightPositions']=[],this['ambientIntensities']=[],this['diffuseIntensities']=[],this['specularIntensities']=[];}['addLight'](_0x3dc97c){this['lights']['some'](_0x187b0b=>_0x187b0b==_0x3dc97c)||this['lights']['push'](_0x3dc97c);}['getNumLights'](){return this['lights']['length'];}['updateLights'](){this['lights']['forEach'](_0xd45c04=>{const [_0x4eb435,_0x1fc54c,_0x166232]=_0xd45c04['worldMatrix']['decompose']();this['lightPositions']['push'](_0x4eb435['x'],_0x4eb435['y'],_0x4eb435['z']),this['lightTypes']['push'](_0xd45c04['getType']()),_0xd45c04['visible']?(this['ambientIntensities']['push'](_0xd45c04['ambientIntensity']['x'],_0xd45c04['ambientIntensity']['y'],_0xd45c04['ambientIntensity']['z']),this['diffuseIntensities']['push'](_0xd45c04['diffuseIntensity']['x'],_0xd45c04['diffuseIntensity']['y'],_0xd45c04['diffuseIntensity']['z']),this['specularIntensities']['push'](_0xd45c04['specularIntensity']['x'],_0xd45c04['specularIntensity']['y'],_0xd45c04['specularIntensity']['z'])):(this['ambientIntensities']['push'](0x0,0x0,0x0),this['diffuseIntensities']['push'](0x0,0x0,0x0),this['specularIntensities']['push'](0x0,0x0,0x0));});}}class Qt{constructor(){o(this,'root3d');o(this,'root2d');o(this,'lightManager');this['root3d']=new H(),this['root2d']=new qt(),this['lightManager']=new Kt();}['draw'](_0xa76060){_0xa76060['updateWorldMatrix'](),this['lightManager']['clear'](),this['root3d']['setLights'](this['lightManager']),this['lightManager']['updateLights'](),this['root3d']['children']['forEach'](_0x4aa106=>{_0x4aa106['draw'](this['root3d'],_0xa76060,this['lightManager']);}),this['root2d']['children']['forEach'](_0x3d416d=>{_0x3d416d['draw'](this['root2d']);});}['add'](_0x18796f){_0x18796f instanceof H?this['root3d']['add'](_0x18796f):this['root2d']['add'](_0x18796f);}['traverseSceneGraph'](){this['root3d']['children']['forEach'](_0x3efa46=>{_0x3efa46['traverseSceneGraph']();}),this['root2d']['children']['forEach'](_0x1e11cc=>{_0x1e11cc['traverseSceneGraph']();});}}class ti{constructor(){o(this,'requestedAssets');o(this,'loadedAssets');o(this,'errorAssets');this['requestedAssets']=[],this['loadedAssets']=[],this['errorAssets']=[];}['allAssetsLoaded'](){return this['requestedAssets']['length']==this['loadedAssets']['length']+this['errorAssets']['length'];}}const Mt=class{constructor(_0x2bcb27=!0x1){o(this,'renderer');o(this,'camera');o(this,'scene');o(this,'assetManager');o(this,'runInBackground');o(this,'time');o(this,'paused');o(this,'previousTouches');Mt['instance']=this,this['time']=Date['now'](),this['paused']=!0x1,this['camera']=new $t(),this['scene']=new Qt(),this['renderer']=new Zt(_0x2bcb27),this['assetManager']=new ti(),this['runInBackground']=!0x1,this['previousTouches']=[new x()],window['addEventListener']('resize',()=>{this['resize']();},!0x1),window['addEventListener']('mousedown',_0x5c33cd=>{this['onMouseDown'](_0x5c33cd);}),window['addEventListener']('mouseup',_0x1ccf43=>{this['onMouseUp'](_0x1ccf43);}),window['addEventListener']('mousemove',_0x51046c=>{this['onMouseMove'](_0x51046c);}),window['addEventListener']('wheel',_0x279cd=>{this['onMouseWheel'](_0x279cd);}),window['addEventListener']('keydown',_0x3786c7=>{this['onKeyDown'](_0x3786c7);}),window['addEventListener']('keyup',_0x9e71d=>{this['onKeyUp'](_0x9e71d);}),window['addEventListener']('focus',_0x3063e3=>{this['onFocusReceived'](_0x3063e3);}),window['addEventListener']('blur',_0x5d5d7e=>{this['onFocusLost'](_0x5d5d7e);}),window['addEventListener']('touchstart',_0x2aa67f=>{this['onTouchStart'](_0x2aa67f);},{'passive':!0x1}),window['addEventListener']('touchmove',_0x19d0b9=>{this['onTouchMove'](_0x19d0b9);},{'passive':!0x1}),window['addEventListener']('touchend',_0x3a4584=>{this['onTouchEnd'](_0x3a4584);},{'passive':!0x1}),window['addEventListener']('touchcancel',_0x33068c=>{this['onTouchEnd'](_0x33068c);},{'passive':!0x1}),window['addEventListener']('contextmenu',_0x4b11bb=>_0x4b11bb['preventDefault']()),this['camera']['setOrthographicCamera'](0x0,0x1,0x0,0x1,0.01,0x1);}static['getInstance'](){return Mt['instance'];}['start'](){this['createScene'](),this['initializationLoop']();}['initializationLoop'](){this['assetManager']['allAssetsLoaded']()?(this['onAssetsLoaded'](),this['time']=Date['now'](),this['mainLoop']()):window['requestAnimationFrame'](()=>this['initializationLoop']());}['mainLoop'](){(this['runInBackground']||!this['paused'])&&(this['update']((Date['now']()-this['time'])/0x3e8),this['scene']['traverseSceneGraph'](),this['lateUpdate']((Date['now']()-this['time'])/0x3e8),this['renderer']['render'](this['scene'],this['camera']),this['time']=Date['now']()),window['requestAnimationFrame'](()=>this['mainLoop']());}['resize'](){this['renderer']['resize'](window['innerWidth'],window['innerHeight'],this['camera']['getAspectRatio']());}['onTouchStart'](_0xc33231){_0xc33231['touches']['length']==0x1&&this['simulateMouseEvent']('mousedown',_0xc33231);}['onTouchMove'](_0x801ee7){_0x801ee7['preventDefault'](),_0x801ee7['touches']['length']==0x1?this['simulateMouseEvent']('mousemove',_0x801ee7):this['simulateWheelEvent'](_0x801ee7);}['onTouchEnd'](_0x2f989f){_0x2f989f['touches']['length']==0x0&&this['simulateMouseEvent']('mouseup',_0x2f989f);}['onFocusReceived'](_0x5020d4){this['resume']();}['onFocusLost'](_0x57e0cc){this['pause']();}['pause'](){this['paused']=!0x0;}['resume'](){this['time']=Date['now'](),this['paused']=!0x1;}['isPaused'](){return this['paused'];}['getNormalizedDeviceCoordinates'](_0x4b6ef3,_0x33b624){return this['renderer']['getNormalizedDeviceCoordinates'](_0x4b6ef3,_0x33b624);}['simulateMouseEvent'](_0x24aac1,_0x2a5534){if(this['previousTouches']['length']==0x1){const _0x2123db=new MouseEvent(_0x24aac1,{'button':0x0,'buttons':0x1,'clientX':_0x2a5534['changedTouches'][0x0]['clientX'],'clientY':_0x2a5534['changedTouches'][0x0]['clientY'],'screenX':_0x2a5534['changedTouches'][0x0]['screenX'],'screenY':_0x2a5534['changedTouches'][0x0]['screenY'],'movementX':_0x2a5534['changedTouches'][0x0]['clientX']-this['previousTouches'][0x0]['x'],'movementY':_0x2a5534['changedTouches'][0x0]['clientY']-this['previousTouches'][0x0]['y'],'view':_0x2a5534['view'],'cancelable':!0x0,'bubbles':!0x0});_0x2a5534['target']['dispatchEvent'](_0x2123db);}this['previousTouches']=[new x(_0x2a5534['changedTouches'][0x0]['clientX'],_0x2a5534['changedTouches'][0x0]['clientY'])];}['simulateWheelEvent'](_0x1efae6){if(this['previousTouches']['length']>0x1){const _0x2ee3a3=this['previousTouches'][0x0]['distanceTo'](this['previousTouches'][0x1]),_0x46a4a5=Math['sqrt']((_0x1efae6['touches'][0x0]['clientX']-_0x1efae6['touches'][0x1]['clientX'])*(_0x1efae6['touches'][0x0]['clientX']-_0x1efae6['touches'][0x1]['clientX'])+(_0x1efae6['touches'][0x0]['clientY']-_0x1efae6['touches'][0x1]['clientY'])*(_0x1efae6['touches'][0x0]['clientY']-_0x1efae6['touches'][0x1]['clientY']));let _0xfc153c=0x0;_0x46a4a5>_0x2ee3a3?_0xfc153c=-_0x46a4a5/_0x2ee3a3:_0x46a4a5<_0x2ee3a3&&(_0xfc153c=_0x2ee3a3/_0x46a4a5);const _0x1459ad=new WheelEvent('wheel',{'clientX':(_0x1efae6['touches'][0x0]['clientX']+_0x1efae6['touches'][0x1]['clientX'])/0x2,'clientY':(_0x1efae6['touches'][0x0]['clientY']+_0x1efae6['touches'][0x1]['clientY'])/0x2,'screenX':(_0x1efae6['touches'][0x0]['screenX']+_0x1efae6['touches'][0x1]['screenX'])/0x2,'screenY':(_0x1efae6['touches'][0x0]['screenY']+_0x1efae6['touches'][0x1]['screenY'])/0x2,'movementX':(_0x1efae6['touches'][0x0]['clientX']-this['previousTouches'][0x0]['x']+(_0x1efae6['touches'][0x1]['clientX']-this['previousTouches'][0x1]['x']))/0x2,'movementY':(_0x1efae6['touches'][0x0]['clientY']-this['previousTouches'][0x0]['y']+(_0x1efae6['touches'][0x1]['clientY']-this['previousTouches'][0x1]['y']))/0x2,'deltaX':0x0,'deltaY':0x32*_0xfc153c,'deltaZ':0x0,'deltaMode':WheelEvent['DOM_DELTA_PIXEL'],'view':_0x1efae6['view'],'cancelable':!0x0,'bubbles':!0x0});_0x1efae6['target']['dispatchEvent'](_0x1459ad);}this['previousTouches']=[];for(let _0x3e91f9=0x0;_0x3e91f9<_0x1efae6['changedTouches']['length'];_0x3e91f9++)this['previousTouches']['push'](new x(_0x1efae6['touches'][_0x3e91f9]['clientX'],_0x1efae6['touches'][_0x3e91f9]['clientY']));}['lateUpdate'](_0x386415){}['onAssetsLoaded'](){}['onMouseDown'](_0x22875d){}['onMouseUp'](_0x1ea485){}['onMouseMove'](_0x4572db){}['onMouseWheel'](_0x5d4abd){}['onKeyDown'](_0x19b9e1){}['onKeyUp'](_0xba2bc2){}};let S=Mt;o(S,'instance');var ii='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20vec3\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(worldNormal,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20worldNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20vertColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(worldPosition,\x201);\x0a}',ei='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';class lt{constructor(){o(this,'visible');o(this,'side');o(this,'gl');this['visible']=!0x0,this['side']=0x0,this['gl']=S['getInstance']()['renderer']['gl'];}['initialize'](){if(this['side']==0x2){this['gl']['disable'](this['gl']['CULL_FACE']);return;}this['gl']['enable'](this['gl']['CULL_FACE']),this['side']==0x0?this['gl']['cullFace'](this['gl']['BACK']):this['gl']['cullFace'](this['gl']['FRONT']);}}class rt{constructor(_0x374cd6,_0x45d3f7){o(this,'vertexShader');o(this,'fragmentShader');o(this,'shaderProgram');o(this,'vertexSource');o(this,'fragmentSource');o(this,'initialized');this['vertexSource']=_0x374cd6,this['fragmentSource']=_0x45d3f7,this['vertexShader']=null,this['fragmentShader']=null,this['shaderProgram']=null,this['initialized']=!0x1;}['initialize'](_0x4c4868){this['initialized']||(this['initialized']=!0x0,this['vertexShader']=this['createVertexShader'](_0x4c4868,this['vertexSource']),this['fragmentShader']=this['createFragmentShader'](_0x4c4868,this['fragmentSource']),this['vertexShader']&&this['fragmentShader']&&(this['shaderProgram']=this['createShaderProgram'](_0x4c4868,this['vertexShader'],this['fragmentShader'])));}['createVertexShader'](_0x181a25,_0x443c65){const _0x23425a=_0x181a25['createShader'](_0x181a25['VERTEX_SHADER']);return _0x23425a?(_0x181a25['shaderSource'](_0x23425a,_0x443c65),_0x181a25['compileShader'](_0x23425a),_0x181a25['getShaderParameter'](_0x23425a,_0x181a25['COMPILE_STATUS'])||(console['error']('Error:\x20unable\x20to\x20load\x20vertex\x20shader'),console['error'](_0x181a25['getShaderInfoLog'](_0x23425a)))):console['error']('Error:\x20unable\x20to\x20create\x20vertex\x20shader'),_0x23425a;}['createFragmentShader'](_0xf108ae,_0x142c83){const _0x2d17c8=_0xf108ae['createShader'](_0xf108ae['FRAGMENT_SHADER']);return _0x2d17c8?(_0xf108ae['shaderSource'](_0x2d17c8,_0x142c83),_0xf108ae['compileShader'](_0x2d17c8),_0xf108ae['getShaderParameter'](_0x2d17c8,_0xf108ae['COMPILE_STATUS'])||(console['error']('Error:\x20unable\x20to\x20load\x20fragment\x20shader'),console['error'](_0xf108ae['getShaderInfoLog'](_0x2d17c8)))):console['error']('Error:\x20unable\x20to\x20create\x20fragment\x20shader'),_0x2d17c8;}['createShaderProgram'](_0x2844f5,_0x4d18aa,_0x1f3ee7){let _0x52aaaa=null;if(_0x4d18aa&&_0x1f3ee7){if(_0x52aaaa=_0x2844f5['createProgram'](),!_0x52aaaa)return console['error']('Error:\x20could\x20not\x20create\x20shader\x20program'),null;if(_0x2844f5['attachShader'](_0x52aaaa,_0x4d18aa),_0x2844f5['attachShader'](_0x52aaaa,_0x1f3ee7),_0x2844f5['linkProgram'](_0x52aaaa),!_0x2844f5['getProgramParameter'](_0x52aaaa,_0x2844f5['LINK_STATUS']))return console['error']('Error:\x20could\x20not\x20link\x20shader\x20program'),console['error'](_0x2844f5['getProgramInfoLog'](_0x52aaaa)),null;}return _0x52aaaa;}['getProgram'](){return this['shaderProgram'];}['getAttribute'](_0x9a3421,_0x1812e2){return this['shaderProgram']?_0x9a3421['getAttribLocation'](this['shaderProgram'],_0x1812e2):-0x1;}['getUniform'](_0x226aaa,_0x3c09ce){return this['shaderProgram']?_0x226aaa['getUniformLocation'](this['shaderProgram'],_0x3c09ce):null;}}const U=class extends lt{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,U['shader']['initialize'](this['gl']),this['kAmbientUniform']=U['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=U['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=U['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=U['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=U['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=U['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=U['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=U['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=U['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=U['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=U['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=U['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=U['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=U['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=U['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=U['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=U['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=U['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x1c0757,_0x271c82,_0x3baed6,_0x426a72){if(!this['visible']||_0x1c0757['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](U['shader']['getProgram']());const _0x3e7f6a=new m();_0x3e7f6a['transform'](_0x3baed6['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x3e7f6a['x'],_0x3e7f6a['y'],_0x3e7f6a['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x271c82['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x3baed6['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x3baed6['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x271c82['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x426a72['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x426a72['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x426a72['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x426a72['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x426a72['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x426a72['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1c0757['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1c0757['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1c0757['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1c0757['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x1c0757['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x1c0757['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0);}['setColor'](_0x317f2c){this['ambientColor']['copy'](_0x317f2c),this['diffuseColor']['copy'](_0x317f2c),this['specularColor']['copy'](_0x317f2c);}};let Ct=U;o(Ct,'shader',new rt(ii,ei));class Xt extends H{constructor(){super();o(this,'gl');o(this,'positionBuffer');o(this,'normalBuffer');o(this,'colorBuffer');o(this,'indexBuffer');o(this,'texCoordBuffer');o(this,'morphTargetPositionBuffer');o(this,'morphTargetNormalBuffer');o(this,'vertexCount');o(this,'triangleCount');o(this,'material');o(this,'morphTargetBoundingBox');o(this,'morphTargetBoundingSphere');this['gl']=S['getInstance']()['renderer']['gl'],this['positionBuffer']=this['gl']['createBuffer'](),this['normalBuffer']=this['gl']['createBuffer'](),this['colorBuffer']=this['gl']['createBuffer'](),this['indexBuffer']=this['gl']['createBuffer'](),this['texCoordBuffer']=this['gl']['createBuffer'](),this['morphTargetPositionBuffer']=this['gl']['createBuffer'](),this['morphTargetNormalBuffer']=this['gl']['createBuffer'](),this['vertexCount']=0x0,this['triangleCount']=0x0,this['material']=new Ct(),this['morphTargetBoundingBox']=new wt(),this['morphTargetBoundingSphere']=new vt();}['draw'](_0x3e2feb,_0x107f68,_0xd70e20){!this['visible']||(this['material']['draw'](this,this,_0x107f68,_0xd70e20),this['children']['forEach'](_0x4b3135=>{_0x4b3135['draw'](this,_0x107f68,_0xd70e20);}));}['setVertices'](_0x4b00aa,_0x175c4c=!0x1){if(_0x4b00aa['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),typeof _0x4b00aa[0x0]=='number')_0x175c4c?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4b00aa),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4b00aa),this['gl']['STATIC_DRAW']),this['vertexCount']=_0x4b00aa['length']/0x3,this['boundingBox']['computeBounds'](_0x4b00aa),this['boundingSphere']['computeBounds'](_0x4b00aa,this['boundingBox']);else{const _0x218e9e=[];_0x4b00aa['forEach'](_0x5a0c58=>{_0x218e9e['push'](_0x5a0c58['x'],_0x5a0c58['y'],_0x5a0c58['z']);}),_0x175c4c?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x218e9e),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x218e9e),this['gl']['STATIC_DRAW']),this['vertexCount']=_0x4b00aa['length'],this['boundingBox']['computeBounds'](_0x218e9e),this['boundingSphere']['computeBounds'](_0x218e9e,this['boundingBox']);}}['setNormals'](_0x4cbac4,_0x4b8262=!0x1){if(_0x4cbac4['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['normalBuffer']),typeof _0x4cbac4[0x0]=='number')_0x4b8262?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4cbac4),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4cbac4),this['gl']['STATIC_DRAW']);else{const _0x3a7456=[];_0x4cbac4['forEach'](_0x413bb8=>{_0x3a7456['push'](_0x413bb8['x'],_0x413bb8['y'],_0x413bb8['z']);}),_0x4b8262?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3a7456),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3a7456),this['gl']['STATIC_DRAW']);}}['setColors'](_0x2ece6f,_0x4f9434=!0x1){if(_0x2ece6f['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),typeof _0x2ece6f[0x0]=='number')_0x4f9434?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x2ece6f),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x2ece6f),this['gl']['STATIC_DRAW']);else{const _0x199d0e=[];_0x2ece6f['forEach'](_0x184577=>{_0x199d0e['push'](_0x184577['r'],_0x184577['g'],_0x184577['b'],_0x184577['a']);}),_0x4f9434?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x199d0e),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x199d0e),this['gl']['STATIC_DRAW']);}}['setTextureCoordinates'](_0x514420,_0x2aeea1=!0x1){if(_0x514420['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['texCoordBuffer']),typeof _0x514420[0x0]=='number')_0x2aeea1?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x514420),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x514420),this['gl']['STATIC_DRAW']);else{const _0x15faa0=[];_0x514420['forEach'](_0x477074=>{_0x15faa0['push'](_0x477074['x'],_0x477074['y']);}),_0x2aeea1?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x15faa0),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x15faa0),this['gl']['STATIC_DRAW']);}}['setIndices'](_0x25b4fd,_0x189d2c=!0x1){if(_0x25b4fd['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],this['indexBuffer']),typeof _0x25b4fd[0x0]=='number')this['triangleCount']=_0x25b4fd['length']/0x3,_0x189d2c?this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x25b4fd),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x25b4fd),this['gl']['STATIC_DRAW']);else{this['triangleCount']=_0x25b4fd['length'];const _0x545e54=[];_0x25b4fd['forEach'](_0x5fb694=>{_0x545e54['push'](_0x5fb694['x'],_0x5fb694['y'],_0x5fb694['z']);}),_0x189d2c?this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x545e54),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x545e54),this['gl']['STATIC_DRAW']);}}['setArrayBuffer'](_0x1de446,_0x1b3551,_0x192918=!0x1){if(_0x1de446['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1b3551),typeof _0x1de446[0x0]=='number')_0x192918?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1de446),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1de446),this['gl']['STATIC_DRAW']);else{const _0x392ef2=[];_0x1de446['forEach'](_0x4acc2d=>{_0x392ef2['push'](_0x4acc2d['x'],_0x4acc2d['y'],_0x4acc2d['z']);}),_0x192918?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x392ef2),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x392ef2),this['gl']['STATIC_DRAW']);}}['setMorphTargetVertices'](_0x9ea3ff,_0x5abb50=!0x1,_0x3b1da8=!0x0){if(_0x9ea3ff['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['morphTargetPositionBuffer']),typeof _0x9ea3ff[0x0]=='number')_0x5abb50?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x9ea3ff),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x9ea3ff),this['gl']['STATIC_DRAW']),this['morphTargetBoundingBox']['computeBounds'](_0x9ea3ff),this['morphTargetBoundingSphere']['computeBounds'](_0x9ea3ff,this['morphTargetBoundingBox']);else{const _0x5c1daf=[];_0x9ea3ff['forEach'](_0x33e31a=>{_0x5c1daf['push'](_0x33e31a['x'],_0x33e31a['y'],_0x33e31a['z']);}),_0x5abb50?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5c1daf),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5c1daf),this['gl']['STATIC_DRAW']),this['morphTargetBoundingBox']['computeBounds'](_0x5c1daf),this['morphTargetBoundingSphere']['computeBounds'](_0x5c1daf,this['morphTargetBoundingBox']);}}['setMorphTargetNormals'](_0x5d61de,_0x353409=!0x1){if(_0x5d61de['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['morphTargetNormalBuffer']),typeof _0x5d61de[0x0]=='number')_0x353409?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5d61de),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5d61de),this['gl']['STATIC_DRAW']);else{const _0x3666bf=[];_0x5d61de['forEach'](_0xaa9c24=>{_0x3666bf['push'](_0xaa9c24['x'],_0xaa9c24['y'],_0xaa9c24['z']);}),_0x353409?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3666bf),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3666bf),this['gl']['STATIC_DRAW']);}}['getVertices'](){const _0x22c692=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x22c692),[..._0x22c692];}['getNormals'](){const _0x4177bf=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['normalBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x4177bf),[..._0x4177bf];}['getColors'](){const _0x3964f9=new Float32Array(this['vertexCount']*0x4);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x3964f9),[..._0x3964f9];}['getTextureCoordinates'](){const _0xa1968d=new Float32Array(this['vertexCount']*0x2);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['texCoordBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0xa1968d),[..._0xa1968d];}['getIndices'](){const _0x482b2c=new Uint16Array(this['triangleCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],this['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x482b2c),[..._0x482b2c];}['getArrayBuffer'](_0x20db18){const _0x168d31=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x20db18),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x168d31),[..._0x168d31];}['createDefaultVertexColors'](){const _0x530081=[];for(let _0x11cd03=0x0;_0x11cd03<this['vertexCount'];_0x11cd03++)_0x530081['push'](0x1,0x1,0x1,0x1);this['setColors'](_0x530081);}['computeBounds'](_0x5bf745){_0x5bf745||(_0x5bf745=this['getVertices']()),_0x5bf745['length']!=0x0&&(this['boundingBox']['computeBounds'](_0x5bf745),this['boundingSphere']['computeBounds'](_0x5bf745,this['boundingBox']));}['mergeSharedVertices'](){const _0x13cb2d=this['getVertices'](),_0x4f29e6=this['getNormals'](),_0x1c06e6=this['getColors'](),_0x43cc9b=this['getTextureCoordinates'](),_0x2a8632=[],_0x1bfa42=[],_0x147d5d=[],_0x3f9dd6=[],_0x53171a=this['getIndices']();for(let _0x3ae615=0x0;_0x3ae615<_0x13cb2d['length'];_0x3ae615+=0x3)_0x2a8632['push'](new m(_0x13cb2d[_0x3ae615],_0x13cb2d[_0x3ae615+0x1],_0x13cb2d[_0x3ae615+0x2])),_0x1bfa42['push'](new m(_0x4f29e6[_0x3ae615],_0x4f29e6[_0x3ae615+0x1],_0x4f29e6[_0x3ae615+0x2])),_0x147d5d['push'](new M(_0x1c06e6[_0x3ae615],_0x1c06e6[_0x3ae615+0x1],_0x1c06e6[_0x3ae615+0x2]));for(let _0x283f0f=0x0;_0x283f0f<_0x43cc9b['length'];_0x283f0f+=0x2)_0x3f9dd6['push'](new x(_0x43cc9b[_0x283f0f],_0x43cc9b[_0x283f0f+0x1]));const _0x3f5f04=[],_0x2ce117=[],_0xb7c6b1=[],_0x328e82=[],_0x5af61a=_0x53171a['slice'](),_0x4c5add=[];for(let _0x280e4b=0x0;_0x280e4b<_0x2a8632['length'];_0x280e4b++){let _0x95d6a2=!0x1;for(let _0x5aae04=0x0;_0x5aae04<_0x3f5f04['length'];_0x5aae04++)if(_0x2a8632[_0x280e4b]['equals'](_0x3f5f04[_0x5aae04])){for(let _0x10d499=0x0;_0x10d499<_0x53171a['length'];_0x10d499++)_0x53171a[_0x10d499]==_0x280e4b&&(_0x5af61a[_0x10d499]=_0x5aae04);_0x2ce117[_0x5aae04]['add'](_0x1bfa42[_0x280e4b]),_0xb7c6b1[_0x5aae04]['add'](_0x147d5d[_0x280e4b]),_0x328e82[_0x5aae04]['add'](_0x3f9dd6[_0x280e4b]),_0x4c5add[_0x5aae04]++,_0x95d6a2=!0x0;}if(!_0x95d6a2){_0x3f5f04['push'](_0x2a8632[_0x280e4b]),_0x2ce117['push'](_0x1bfa42[_0x280e4b]),_0xb7c6b1['push'](_0x147d5d[_0x280e4b]),_0x328e82['push'](_0x3f9dd6[_0x280e4b]),_0x4c5add['push'](0x1);for(let _0xd46ed8=0x0;_0xd46ed8<_0x53171a['length'];_0xd46ed8++)_0x53171a[_0xd46ed8]==_0x280e4b&&(_0x5af61a[_0xd46ed8]=_0x3f5f04['length']-0x1);}}for(let _0xcfc1f6=0x0;_0xcfc1f6<_0x3f5f04['length'];_0xcfc1f6++)_0x2ce117[_0xcfc1f6]['multiplyScalar'](0x1/_0x4c5add[_0xcfc1f6]),_0xb7c6b1[_0xcfc1f6]['multiplyScalar'](0x1/_0x4c5add[_0xcfc1f6]),_0x328e82[_0xcfc1f6]['multiplyScalar'](0x1/_0x4c5add[_0xcfc1f6]);this['setVertices'](_0x3f5f04),this['setNormals'](_0x2ce117),this['setColors'](_0xb7c6b1),this['setTextureCoordinates'](_0x328e82),this['setIndices'](_0x5af61a);}}class gt extends H{constructor(_0x53298b,_0x15b698=!0x0){super();o(this,'baseMesh');o(this,'material');this['baseMesh']=_0x53298b,this['material']=_0x53298b['material'],_0x15b698&&(this['position']['copy'](_0x53298b['position']),this['rotation']['copy'](_0x53298b['rotation']),this['scale']['copy'](_0x53298b['scale']));}['getBaseMesh'](){return this['baseMesh'];}['draw'](_0x24d9cb,_0xccbef4,_0x2400f7){!this['visible']||(this['material']['draw'](this['baseMesh'],this,_0xccbef4,_0x2400f7),this['children']['forEach'](_0x685ffe=>{_0x685ffe['draw'](this,_0xccbef4,_0x2400f7);}));}}class K extends Xt{constructor(_0x1805e3=0x1,_0x4020f9=0x1,_0x290aad=0x1){super();o(this,'width');o(this,'height');o(this,'depth');this['width']=_0x1805e3,this['height']=_0x4020f9,this['depth']=_0x290aad,this['createVertices'](this['width'],this['height'],this['depth']),this['createNormals'](),this['createTextureCoords'](),this['createIndices'](),this['createDefaultVertexColors']();}['setLine'](_0x6e6072,_0xd07d17,_0x1230e7){this['position']['copy'](_0x6e6072),this['lookAt'](_0xd07d17);const _0x5ec6c4=m['distanceBetween'](_0x6e6072,_0xd07d17);this['translateZ'](-_0x5ec6c4/0x2),this['scale']['x']=_0x1230e7,this['scale']['y']=_0x1230e7,this['scale']['z']=_0x5ec6c4;}['createVertices'](_0x4912c9,_0x217476,_0x3bfe46){const _0x1bdf1d=[];_0x1bdf1d['push'](-_0x4912c9/0x2,-_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,-_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,-_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,-_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,-_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,-_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,-_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,-_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,-_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,-_0x217476/0x2,_0x3bfe46/0x2),_0x1bdf1d['push'](_0x4912c9/0x2,-_0x217476/0x2,-_0x3bfe46/0x2),_0x1bdf1d['push'](-_0x4912c9/0x2,-_0x217476/0x2,-_0x3bfe46/0x2),this['setVertices'](_0x1bdf1d);}['createNormals'](){const _0x5f54b4=[];_0x5f54b4['push'](0x0,0x0,0x1),_0x5f54b4['push'](0x0,0x0,0x1),_0x5f54b4['push'](0x0,0x0,0x1),_0x5f54b4['push'](0x0,0x0,0x1),_0x5f54b4['push'](0x0,0x0,-0x1),_0x5f54b4['push'](0x0,0x0,-0x1),_0x5f54b4['push'](0x0,0x0,-0x1),_0x5f54b4['push'](0x0,0x0,-0x1),_0x5f54b4['push'](-0x1,0x0,0x0),_0x5f54b4['push'](-0x1,0x0,0x0),_0x5f54b4['push'](-0x1,0x0,0x0),_0x5f54b4['push'](-0x1,0x0,0x0),_0x5f54b4['push'](0x1,0x0,0x0),_0x5f54b4['push'](0x1,0x0,0x0),_0x5f54b4['push'](0x1,0x0,0x0),_0x5f54b4['push'](0x1,0x0,0x0),_0x5f54b4['push'](0x0,0x1,0x0),_0x5f54b4['push'](0x0,0x1,0x0),_0x5f54b4['push'](0x0,0x1,0x0),_0x5f54b4['push'](0x0,0x1,0x0),_0x5f54b4['push'](0x0,-0x1,0x0),_0x5f54b4['push'](0x0,-0x1,0x0),_0x5f54b4['push'](0x0,-0x1,0x0),_0x5f54b4['push'](0x0,-0x1,0x0),this['setNormals'](_0x5f54b4);}['createIndices'](){const _0x416478=[];_0x416478['push'](0x0,0x1,0x2),_0x416478['push'](0x2,0x3,0x0),_0x416478['push'](0x4,0x6,0x5),_0x416478['push'](0x6,0x4,0x7),_0x416478['push'](0x8,0x9,0xa),_0x416478['push'](0xa,0xb,0x8),_0x416478['push'](0xc,0xe,0xd),_0x416478['push'](0xe,0xc,0xf),_0x416478['push'](0x10,0x11,0x12),_0x416478['push'](0x12,0x13,0x10),_0x416478['push'](0x14,0x16,0x15),_0x416478['push'](0x16,0x14,0x17),this['setIndices'](_0x416478);}['createTextureCoords'](){const _0x2c5a05=[];_0x2c5a05['push'](0x0,0x1),_0x2c5a05['push'](0x1,0x1),_0x2c5a05['push'](0x1,0x0),_0x2c5a05['push'](0x0,0x0),_0x2c5a05['push'](0x1,0x1),_0x2c5a05['push'](0x0,0x1),_0x2c5a05['push'](0x0,0x0),_0x2c5a05['push'](0x1,0x0),_0x2c5a05['push'](0x0,0x1),_0x2c5a05['push'](0x1,0x1),_0x2c5a05['push'](0x1,0x0),_0x2c5a05['push'](0x0,0x0),_0x2c5a05['push'](0x1,0x1),_0x2c5a05['push'](0x0,0x1),_0x2c5a05['push'](0x0,0x0),_0x2c5a05['push'](0x1,0x0),_0x2c5a05['push'](0x0,0x1),_0x2c5a05['push'](0x1,0x1),_0x2c5a05['push'](0x1,0x0),_0x2c5a05['push'](0x0,0x0),_0x2c5a05['push'](0x1,0x1),_0x2c5a05['push'](0x0,0x1),_0x2c5a05['push'](0x0,0x0),_0x2c5a05['push'](0x1,0x0),this['setTextureCoordinates'](_0x2c5a05);}}class pt extends Xt{constructor(_0x14f3de=0x1,_0xbab45f=0x3){super();o(this,'radius');o(this,'subdivisions');this['radius']=_0x14f3de,this['subdivisions']=_0xbab45f,this['createSphere'](this['radius'],this['subdivisions']);}['createSphere'](_0x55b54f,_0x16f7e5){let _0x74377a=[],_0x44edeb=[];const _0x481eb5=[],_0x5c7b14=[],_0x5caa4a=(0x1+Math['sqrt'](0x5))*0.5,_0xf6410a=0x1,_0x1f53e4=0x1/_0x5caa4a;_0x74377a['push'](new m(0x0,_0x1f53e4,-_0xf6410a)),_0x74377a['push'](new m(_0x1f53e4,_0xf6410a,0x0)),_0x74377a['push'](new m(-_0x1f53e4,_0xf6410a,0x0)),_0x74377a['push'](new m(0x0,_0x1f53e4,_0xf6410a)),_0x74377a['push'](new m(0x0,-_0x1f53e4,_0xf6410a)),_0x74377a['push'](new m(-_0xf6410a,0x0,_0x1f53e4)),_0x74377a['push'](new m(0x0,-_0x1f53e4,-_0xf6410a)),_0x74377a['push'](new m(_0xf6410a,0x0,-_0x1f53e4)),_0x74377a['push'](new m(_0xf6410a,0x0,_0x1f53e4)),_0x74377a['push'](new m(-_0xf6410a,0x0,-_0x1f53e4)),_0x74377a['push'](new m(_0x1f53e4,-_0xf6410a,0x0)),_0x74377a['push'](new m(-_0x1f53e4,-_0xf6410a,0x0));for(let _0x2b9abd=0x0;_0x2b9abd<_0x74377a['length'];_0x2b9abd++)_0x74377a[_0x2b9abd]['normalize']();_0x44edeb['push'](0x2,0x1,0x0),_0x44edeb['push'](0x1,0x2,0x3),_0x44edeb['push'](0x5,0x4,0x3),_0x44edeb['push'](0x4,0x8,0x3),_0x44edeb['push'](0x7,0x6,0x0),_0x44edeb['push'](0x6,0x9,0x0),_0x44edeb['push'](0xb,0xa,0x4),_0x44edeb['push'](0xa,0xb,0x6),_0x44edeb['push'](0x9,0x5,0x2),_0x44edeb['push'](0x5,0x9,0xb),_0x44edeb['push'](0x8,0x7,0x1),_0x44edeb['push'](0x7,0x8,0xa),_0x44edeb['push'](0x2,0x5,0x3),_0x44edeb['push'](0x8,0x1,0x3),_0x44edeb['push'](0x9,0x2,0x0),_0x44edeb['push'](0x1,0x7,0x0),_0x44edeb['push'](0xb,0x9,0x6),_0x44edeb['push'](0x7,0xa,0x6),_0x44edeb['push'](0x5,0xb,0x4),_0x44edeb['push'](0xa,0x8,0x4);for(let _0x5db38e=0x0;_0x5db38e<_0x16f7e5;_0x5db38e++){const _0x5874bf=[];for(let _0x555350=0x0;_0x555350<_0x44edeb['length']/0x3;_0x555350++){const _0x13543e=_0x555350*0x3,_0x43aa5b=this['createCentroids'](_0x74377a,_0x44edeb[_0x13543e],_0x44edeb[_0x13543e+0x1],_0x44edeb[_0x13543e+0x2]);_0x74377a['push'](..._0x43aa5b);const _0x2ddd34=this['subdivide'](_0x44edeb[_0x13543e],_0x44edeb[_0x13543e+0x1],_0x44edeb[_0x13543e+0x2],_0x74377a['length']-0x3,_0x74377a['length']-0x2,_0x74377a['length']-0x1);_0x5874bf['push'](..._0x2ddd34);}_0x44edeb=_0x5874bf;}for(let _0x418048=0x0;_0x418048<_0x74377a['length'];_0x418048++)_0x74377a[_0x418048]['multiplyScalar'](_0x55b54f);[_0x74377a,_0x44edeb]=this['mergeSphereVertices'](_0x74377a,_0x44edeb);for(let _0x58e84c=0x0;_0x58e84c<_0x74377a['length'];_0x58e84c++){_0x481eb5['push'](m['normalize'](_0x74377a[_0x58e84c]));const _0x2bc5db=0x1-(_0x74377a[_0x58e84c]['y']+_0x55b54f)/(0x2*_0x55b54f),_0x5f0dc2=new m(_0x74377a[_0x58e84c]['x'],0x0,_0x74377a[_0x58e84c]['z']);_0x5f0dc2['normalize']();let _0x414b1f=Math['acos'](m['FORWARD']['dot'](_0x5f0dc2));_0x5f0dc2['x']>0x0&&(_0x414b1f=Math['PI']*0x2-_0x414b1f);const _0x27dd5f=_0x414b1f/(Math['PI']*0x2);_0x5c7b14['push'](_0x27dd5f,_0x2bc5db);}const _0x4c127f=_0x44edeb['length'];for(let _0x3078b5=0x0;_0x3078b5<_0x4c127f;_0x3078b5+=0x3)this['isSeamVertex'](_0x3078b5,_0x74377a,_0x44edeb)?this['isEndVertex'](_0x3078b5+0x1,_0x74377a,_0x44edeb)&&this['isEndVertex'](_0x3078b5+0x2,_0x74377a,_0x44edeb)?(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5]*0x2+0x1]),_0x44edeb[_0x3078b5]=_0x74377a['length']-0x1):this['isEndVertex'](_0x3078b5+0x1,_0x74377a,_0x44edeb)?(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5]*0x2+0x1]),_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x2]*0x2+0x1]),_0x44edeb[_0x3078b5]=_0x74377a['length']-0x2,_0x44edeb[_0x3078b5+0x2]=_0x74377a['length']-0x1):this['isEndVertex'](_0x3078b5+0x2,_0x74377a,_0x44edeb)&&(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5]*0x2+0x1]),_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x1]*0x2+0x1]),_0x44edeb[_0x3078b5]=_0x74377a['length']-0x2,_0x44edeb[_0x3078b5+0x1]=_0x74377a['length']-0x1):this['isSeamVertex'](_0x3078b5+0x1,_0x74377a,_0x44edeb)?this['isEndVertex'](_0x3078b5,_0x74377a,_0x44edeb)&&this['isEndVertex'](_0x3078b5+0x2,_0x74377a,_0x44edeb)?(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x1]*0x2+0x1]),_0x44edeb[_0x3078b5+0x1]=_0x74377a['length']-0x1):this['isEndVertex'](_0x3078b5,_0x74377a,_0x44edeb)?(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x1]*0x2+0x1]),_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x2]*0x2+0x1]),_0x44edeb[_0x3078b5+0x1]=_0x74377a['length']-0x2,_0x44edeb[_0x3078b5+0x2]=_0x74377a['length']-0x1):this['isEndVertex'](_0x3078b5+0x2,_0x74377a,_0x44edeb)&&(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5]*0x2+0x1]),_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x1]*0x2+0x1]),_0x44edeb[_0x3078b5]=_0x74377a['length']-0x2,_0x44edeb[_0x3078b5+0x1]=_0x74377a['length']-0x1):this['isSeamVertex'](_0x3078b5+0x2,_0x74377a,_0x44edeb)&&(this['isEndVertex'](_0x3078b5,_0x74377a,_0x44edeb)&&this['isEndVertex'](_0x3078b5+0x1,_0x74377a,_0x44edeb)?(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x2]*0x2+0x1]),_0x44edeb[_0x3078b5+0x2]=_0x74377a['length']-0x1):this['isEndVertex'](_0x3078b5,_0x74377a,_0x44edeb)?(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x1]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x1]*0x2+0x1]),_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x2]*0x2+0x1]),_0x44edeb[_0x3078b5+0x1]=_0x74377a['length']-0x2,_0x44edeb[_0x3078b5+0x2]=_0x74377a['length']-0x1):this['isEndVertex'](_0x3078b5+0x1,_0x74377a,_0x44edeb)&&(_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5]*0x2+0x1]),_0x74377a['push'](m['copy'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x481eb5['push'](m['normalize'](_0x74377a[_0x44edeb[_0x3078b5+0x2]])),_0x5c7b14['push'](0x1,_0x5c7b14[_0x44edeb[_0x3078b5+0x2]*0x2+0x1]),_0x44edeb[_0x3078b5]=_0x74377a['length']-0x2,_0x44edeb[_0x3078b5+0x2]=_0x74377a['length']-0x1));this['setVertices'](_0x74377a),this['setNormals'](_0x481eb5),this['setTextureCoordinates'](_0x5c7b14),this['setIndices'](_0x44edeb),this['createDefaultVertexColors']();}['isEndVertex'](_0xf1209a,_0x5f2d01,_0x27c684){return _0x5f2d01[_0x27c684[_0xf1209a]]['x']>0x0;}['isSeamVertex'](_0x5282f0,_0x100a86,_0x5289ba){return _0x100a86[_0x5289ba[_0x5282f0]]['x']==0x0&&_0x100a86[_0x5289ba[_0x5282f0]]['z']<=0x0;}['createCentroids'](_0x12e0c6,_0x2c8479,_0x590604,_0x434bc6){const _0x3eaf7f=[],_0x2ec327=m['add'](_0x12e0c6[_0x2c8479],_0x12e0c6[_0x590604]);_0x2ec327['divideScalar'](0x2),_0x2ec327['normalize'](),_0x3eaf7f['push'](_0x2ec327);const _0x551600=m['add'](_0x12e0c6[_0x590604],_0x12e0c6[_0x434bc6]);_0x551600['divideScalar'](0x2),_0x551600['normalize'](),_0x3eaf7f['push'](_0x551600);const _0x536e7b=m['add'](_0x12e0c6[_0x434bc6],_0x12e0c6[_0x2c8479]);return _0x536e7b['divideScalar'](0x2),_0x536e7b['normalize'](),_0x3eaf7f['push'](_0x536e7b),_0x3eaf7f;}['subdivide'](_0x2bf8b1,_0x4ce0d2,_0x52747a,_0x3391d9,_0x3ae1bb,_0x3981a4){const _0x28048d=[];return _0x28048d['push'](_0x2bf8b1,_0x3391d9,_0x3981a4),_0x28048d['push'](_0x4ce0d2,_0x3ae1bb,_0x3391d9),_0x28048d['push'](_0x52747a,_0x3981a4,_0x3ae1bb),_0x28048d['push'](_0x3391d9,_0x3ae1bb,_0x3981a4),_0x28048d;}['mergeSphereVertices'](_0x3ea797,_0x1d9c88){const _0x594146=[],_0x2bda14=[];_0x1d9c88['forEach'](_0x51a209=>{_0x2bda14['push'](_0x51a209);});for(let _0x198bf8=0x0;_0x198bf8<_0x3ea797['length'];_0x198bf8++){let _0x2c6fe9=!0x1;for(let _0x34db5d=0x0;_0x34db5d<_0x594146['length'];_0x34db5d++)if(_0x3ea797[_0x198bf8]['equals'](_0x594146[_0x34db5d])){for(let _0x2021e2=0x0;_0x2021e2<_0x1d9c88['length'];_0x2021e2++)_0x1d9c88[_0x2021e2]==_0x198bf8&&(_0x2bda14[_0x2021e2]=_0x34db5d);_0x2c6fe9=!0x0;}if(!_0x2c6fe9){_0x594146['push'](_0x3ea797[_0x198bf8]);for(let _0x257907=0x0;_0x257907<_0x1d9c88['length'];_0x257907++)_0x1d9c88[_0x257907]==_0x198bf8&&(_0x2bda14[_0x257907]=_0x594146['length']-0x1);}}return[_0x594146,_0x2bda14];}}var si='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelViewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201);\x0a}',ni='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20materialColor;\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec2\x20uv;\x0a\x0ain\x20vec4\x20vertColor;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20materialColor\x20*\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const Y=class extends lt{constructor(){super();o(this,'texture');o(this,'color');o(this,'colorUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'modelViewUniform');o(this,'projectionUniform');o(this,'positionAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['color']=new M(0x1,0x1,0x1),Y['shader']['initialize'](this['gl']),this['colorUniform']=Y['shader']['getUniform'](this['gl'],'materialColor'),this['textureUniform']=Y['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=Y['shader']['getUniform'](this['gl'],'useTexture'),this['modelViewUniform']=Y['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform']=Y['shader']['getUniform'](this['gl'],'projectionMatrix'),this['positionAttribute']=Y['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute']=Y['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=Y['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x2828c8,_0x56a8ee,_0x44e004,_0x5c4302){!this['visible']||_0x2828c8['triangleCount']==0x0||(this['initialize'](),this['gl']['useProgram'](Y['shader']['getProgram']()),this['gl']['uniformMatrix4fv'](this['modelViewUniform'],!0x1,j['multiply'](_0x56a8ee['worldMatrix'],_0x44e004['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x44e004['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2828c8['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2828c8['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2828c8['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x2828c8['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x2828c8['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x525cbb){this['color']['copy'](_0x525cbb);}};let O=Y;o(O,'shader',new rt(si,ni));var ri='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat3\x20modelMatrix;\x0auniform\x20float\x20layer;\x0a\x0ain\x20vec2\x20position;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec3(position,\x201);\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(worldPosition.x,\x20worldPosition.y,\x20layer,\x201);\x0a}',oi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20materialColor;\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20materialColor\x20*\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const _=class{constructor(){o(this,'visible');o(this,'color');o(this,'drawMode');o(this,'texture');o(this,'gl');o(this,'colorUniform');o(this,'modelUniform');o(this,'layerUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'positionAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['gl']=S['getInstance']()['renderer']['gl'],this['visible']=!0x0,this['color']=new M(0x1,0x1,0x1),this['drawMode']=this['gl']['LINE_LOOP'],this['texture']=null,_['shader']['initialize'](this['gl']),this['colorUniform']=_['shader']['getUniform'](this['gl'],'materialColor'),this['modelUniform']=_['shader']['getUniform'](this['gl'],'modelMatrix'),this['layerUniform']=_['shader']['getUniform'](this['gl'],'layer'),this['textureUniform']=_['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=_['shader']['getUniform'](this['gl'],'useTexture'),this['positionAttribute']=_['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute']=_['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=_['shader']['getAttribute'](this['gl'],'texCoord');}['copy'](_0x3a7ded){this['visible']=_0x3a7ded['visible'],this['color']['copy'](_0x3a7ded['color']),this['drawMode']=_0x3a7ded['drawMode'],this['texture']=_0x3a7ded['texture'];}['draw'](_0x2807aa,_0x24926a){!this['visible']||_0x2807aa['vertexCount']==0x0||(this['gl']['useProgram'](_['shader']['getProgram']()),this['gl']['uniformMatrix3fv'](this['modelUniform'],!0x1,_0x24926a['worldMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['uniform1f'](this['layerUniform'],_0x24926a['layer']),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2807aa['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2807aa['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2807aa['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['drawArrays'](this['drawMode'],0x0,_0x2807aa['vertexCount']));}};let N=_;o(N,'shader',new rt(ri,oi));class ai{constructor(){o(this,'visible');o(this,'color');o(this,'colorUniform3d');o(this,'useTextureUniform3d');o(this,'textureUniform3d');o(this,'modelViewUniform3d');o(this,'projectionUniform3d');o(this,'positionAttribute3d');o(this,'colorAttribute3d');o(this,'texCoordAttribute3d');o(this,'colorUniform2d');o(this,'useTextureUniform2d');o(this,'textureUniform2d');o(this,'modelUniform2d');o(this,'layerUniform2d');o(this,'positionAttribute2d');o(this,'colorAttribute2d');o(this,'texCoordAttribute2d');o(this,'gl');this['visible']=!0x0,this['color']=new M(0x1,0x1,0x1),this['gl']=S['getInstance']()['renderer']['gl'],O['shader']['initialize'](this['gl']),this['colorUniform3d']=O['shader']['getUniform'](this['gl'],'materialColor'),this['modelViewUniform3d']=O['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform3d']=O['shader']['getUniform'](this['gl'],'projectionMatrix'),this['useTextureUniform3d']=O['shader']['getUniform'](this['gl'],'useTexture'),this['textureUniform3d']=O['shader']['getUniform'](this['gl'],'textureImage'),this['positionAttribute3d']=O['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute3d']=O['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute3d']=O['shader']['getAttribute'](this['gl'],'texCoord'),N['shader']['initialize'](this['gl']),this['colorUniform2d']=N['shader']['getUniform'](this['gl'],'materialColor'),this['modelUniform2d']=N['shader']['getUniform'](this['gl'],'modelMatrix'),this['layerUniform2d']=N['shader']['getUniform'](this['gl'],'layer'),this['useTextureUniform2d']=N['shader']['getUniform'](this['gl'],'useTexture'),this['textureUniform2d']=N['shader']['getUniform'](this['gl'],'textureImage'),this['positionAttribute2d']=N['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute2d']=N['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute2d']=N['shader']['getAttribute'](this['gl'],'texCoord');}['draw3d'](_0x1ff287,_0x461221){!this['visible']||_0x1ff287['vertexCount']<0x2||(this['gl']['useProgram'](O['shader']['getProgram']()),this['gl']['uniform1i'](this['useTextureUniform3d'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute3d']),this['gl']['uniformMatrix4fv'](this['modelViewUniform3d'],!0x1,j['multiply'](_0x1ff287['worldMatrix'],_0x461221['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform3d'],!0x1,_0x461221['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform3d'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['colorAttribute3d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1ff287['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute3d'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute3d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1ff287['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute3d'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['drawArrays'](_0x1ff287['glLineMode'](),0x0,_0x1ff287['vertexCount']));}['draw2d'](_0x3b9605){!this['visible']||_0x3b9605['vertexCount']<0x2||(this['gl']['useProgram'](N['shader']['getProgram']()),this['gl']['uniform1i'](this['useTextureUniform2d'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute2d']),this['gl']['uniformMatrix3fv'](this['modelUniform2d'],!0x1,_0x3b9605['worldMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform2d'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['uniform1f'](this['layerUniform2d'],_0x3b9605['layer']),this['gl']['enableVertexAttribArray'](this['colorAttribute2d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3b9605['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute2d'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute2d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3b9605['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute2d'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['drawArrays'](_0x3b9605['glLineMode'](),0x0,_0x3b9605['vertexCount']));}}var Ot=(_0x427846=>(_0x427846[_0x427846['LINES']=0x0]='LINES',_0x427846[_0x427846['LINE_STRIP']=0x1]='LINE_STRIP',_0x427846[_0x427846['LINE_LOOP']=0x2]='LINE_LOOP',_0x427846))(Ot||{});class Ht extends H{constructor(_0xff513e=0x1){super();o(this,'gl');o(this,'positionBuffer');o(this,'colorBuffer');o(this,'vertexCount');o(this,'material');o(this,'lineMode');this['gl']=S['getInstance']()['renderer']['gl'],this['positionBuffer']=this['gl']['createBuffer'](),this['colorBuffer']=this['gl']['createBuffer'](),this['vertexCount']=0x0,this['material']=new ai(),this['lineMode']=_0xff513e;}['createFromBox'](_0x3aacc9){const _0x3e7072=[];_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['min']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['min']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['min']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['min']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['min']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['min']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['min']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['min']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['max']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['max']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['max']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['max']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['max']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['max']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['max']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['max']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['min']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['max']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['min']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['max']['x'],_0x3aacc9['max']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['min']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['max']['y'],_0x3aacc9['min']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['min']['y'],_0x3aacc9['max']['z']),_0x3e7072['push'](_0x3aacc9['min']['x'],_0x3aacc9['max']['y'],_0x3aacc9['max']['z']),this['setVertices'](_0x3e7072),this['createDefaultVertexColors'](),this['lineMode']=0x0;}['draw'](_0x378990,_0x188421,_0x33c1b1){!this['visible']||(this['material']['draw3d'](this,_0x188421),this['children']['forEach'](_0x8878b7=>{_0x8878b7['draw'](this,_0x188421,_0x33c1b1);}));}['setVertices'](_0x1a931e,_0xe5f3dd=this['gl']['STATIC_DRAW']){if(_0x1a931e['length']>0x0){this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']);let _0x4ce434;typeof _0x1a931e[0x0]=='number'?_0x4ce434=_0x1a931e:(_0x4ce434=[],_0x1a931e['forEach'](_0x14c65a=>{_0x4ce434['push'](_0x14c65a['x'],_0x14c65a['y'],_0x14c65a['z']);})),this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4ce434),_0xe5f3dd),this['vertexCount']=_0x4ce434['length']/0x3,this['boundingBox']['computeBounds'](_0x4ce434),this['boundingSphere']['computeBounds'](_0x4ce434,this['boundingBox']);}}['setColors'](_0x19e1d4,_0x9ba63e=this['gl']['STATIC_DRAW']){if(_0x19e1d4['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),typeof _0x19e1d4[0x0]=='number')this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x19e1d4),_0x9ba63e);else{const _0x4735a6=[];_0x19e1d4['forEach'](_0x421446=>{_0x4735a6['push'](_0x421446['r'],_0x421446['g'],_0x421446['b'],_0x421446['a']);}),this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4735a6),_0x9ba63e);}}['getVertices'](){const _0x5b4772=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x5b4772),[..._0x5b4772];}['getColors'](){const _0x5e7326=new Float32Array(this['vertexCount']*0x4);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x5e7326),[..._0x5e7326];}['createDefaultVertexColors'](){const _0x3ce394=[];for(let _0x47c2f5=0x0;_0x47c2f5<this['vertexCount'];_0x47c2f5++)_0x3ce394['push'](0x1,0x1,0x1,0x1);this['setColors'](_0x3ce394);}['glLineMode'](){return this['lineMode']==0x0?this['gl']['LINES']:this['lineMode']==0x1?this['gl']['LINE_STRIP']:this['gl']['LINE_LOOP'];}}class hi extends Ht{constructor(_0x551594=0x1){super(Ot['LINES']);const _0x12fd82=[],_0x19a8f5=[];_0x12fd82['push'](0x0,0x0,0x0),_0x12fd82['push'](_0x551594,0x0,0x0),_0x19a8f5['push'](0x1,0x0,0x0,0x1),_0x19a8f5['push'](0x1,0x0,0x0,0x1),_0x12fd82['push'](0x0,0x0,0x0),_0x12fd82['push'](0x0,_0x551594,0x0),_0x19a8f5['push'](0x0,0x1,0x0,0x1),_0x19a8f5['push'](0x0,0x1,0x0,0x1),_0x12fd82['push'](0x0,0x0,0x0),_0x12fd82['push'](0x0,0x0,_0x551594),_0x19a8f5['push'](0x0,0x0,0x1,0x1),_0x19a8f5['push'](0x0,0x0,0x1,0x1),this['setVertices'](_0x12fd82),this['setColors'](_0x19a8f5);}}class li{constructor(_0x338c2b,_0x339c02=0x1,_0x19c63a=!0x0){o(this,'camera');o(this,'zoomable');o(this,'rotationSpeedX');o(this,'rotationSpeedY');o(this,'zoomSpeed');o(this,'targetPoint');o(this,'distance');o(this,'cameraOrbitX');o(this,'cameraOrbitY');o(this,'rotationDirection');o(this,'zoomDirection');o(this,'mouseDrag');o(this,'mouseMovement');this['camera']=_0x338c2b,this['zoomable']=_0x19c63a,this['distance']=_0x339c02,this['rotationSpeedX']=Math['PI']/0x4,this['rotationSpeedY']=Math['PI']/0x4,this['zoomSpeed']=0.25,this['targetPoint']=new m(),this['cameraOrbitX']=new D(),this['cameraOrbitY']=new D(),this['rotationDirection']=new m(),this['zoomDirection']=0x0,this['mouseDrag']=!0x1,this['mouseMovement']=new x(),window['addEventListener']('mousedown',_0x591f1d=>{this['onMouseDown'](_0x591f1d);}),window['addEventListener']('mouseup',_0x44b3be=>{this['onMouseUp'](_0x44b3be);}),window['addEventListener']('mousemove',_0x364104=>{this['onMouseMove'](_0x364104);}),window['addEventListener']('wheel',_0x371b6c=>{this['onMouseWheel'](_0x371b6c);}),this['updateCamera']();}['setTargetPoint'](_0x270dd3){this['targetPoint']['copy'](_0x270dd3),this['updateCamera']();}['setDistance'](_0x1197d7){this['distance']=_0x1197d7,this['updateCamera']();}['setOrbit'](_0x52e62c,_0x3c9dcc){this['cameraOrbitX']['setRotationX'](_0x52e62c),this['cameraOrbitY']['setRotationY'](_0x3c9dcc),this['updateCamera']();}['onMouseDown'](_0x348b44){_0x348b44['target']['localName']=='canvas'&&(this['mouseDrag']=!0x0);}['onMouseUp'](_0x331b3b){this['mouseDrag']=!0x1;}['onMouseMove'](_0x2cb08d){this['mouseDrag']&&(this['mouseMovement']['x']=-_0x2cb08d['movementY'],this['mouseMovement']['y']=-_0x2cb08d['movementX']);}['onMouseWheel'](_0x464b93){this['zoomable']&&(this['zoomDirection']+=_0x464b93['deltaY']);}['update'](_0x1ffc6b){this['rotationDirection']['x']+=this['mouseMovement']['x'],this['rotationDirection']['y']+=this['mouseMovement']['y'],this['mouseMovement']['x']=0x0,this['mouseMovement']['y']=0x0,this['cameraOrbitX']['multiply'](D['makeRotationX'](this['rotationDirection']['x']*this['rotationSpeedX']*_0x1ffc6b)),this['cameraOrbitY']['multiply'](D['makeRotationY'](this['rotationDirection']['y']*this['rotationSpeedY']*_0x1ffc6b)),this['distance']+=this['zoomDirection']*this['zoomSpeed']*_0x1ffc6b,this['rotationDirection']['set'](0x0,0x0,0x0),this['zoomDirection']=0x0,this['updateCamera']();}['updateCamera'](){this['camera']['rotation']['copy'](this['cameraOrbitY']),this['camera']['rotation']['multiply'](this['cameraOrbitX']),this['camera']['position']['set'](0x0,0x0,this['distance']),this['camera']['position']['rotate'](this['camera']['rotation']),this['camera']['position']['add'](this['targetPoint']);}['freeze'](){this['mouseDrag']=!0x1,this['mouseMovement']['x']=0x0,this['mouseMovement']['y']=0x0;}}class st{constructor(_0x30f48c=new m(),_0x30b22f=new m(0x0,0x0,-0x1)){o(this,'point');o(this,'normal');this['point']=_0x30f48c,this['normal']=_0x30b22f;}}class Tt{constructor(_0x814db7=new m(),_0x341981=new m(0x0,0x0,-0x1)){o(this,'origin');o(this,'direction');this['origin']=_0x814db7,this['direction']=_0x341981;}['set'](_0x2d09ea,_0x5a26e0){this['origin']=_0x2d09ea,this['direction']=_0x5a26e0;}['setPickRay'](_0x5839a7,_0x42be06){const [_0x1f2902,_0x1bb05d,_0x4c5985]=_0x42be06['worldMatrix']['decompose']();this['origin']['copy'](_0x1f2902),this['direction']['set'](_0x5839a7['x'],_0x5839a7['y'],-0x1),this['direction']['transform'](_0x42be06['projectionMatrix']['inverse']()),this['direction']['rotate'](_0x1bb05d),this['direction']['normalize']();}['intersectsPlane'](_0x8ae182){const _0x4c4196=this['direction']['dot'](_0x8ae182['normal']);if(Math['abs'](_0x4c4196)>0.000001){const _0x312b97=m['subtract'](_0x8ae182['point'],this['origin'])['dot'](_0x8ae182['normal'])/_0x4c4196;if(_0x312b97>0x0){const _0x37bc18=m['multiplyScalar'](this['direction'],_0x312b97);return _0x37bc18['add'](this['origin']),_0x37bc18;}}return null;}['intersectsSphere'](_0x468333){const _0x37bb59=m['subtract'](_0x468333['center'],this['origin']),_0x5b792e=_0x37bb59['dot'](this['direction']),_0x582926=_0x468333['radius']*_0x468333['radius'],_0x38b63f=_0x37bb59['dot'](_0x37bb59)-_0x5b792e*_0x5b792e;if(_0x38b63f>_0x582926)return null;const _0x439d9d=Math['sqrt'](_0x582926-_0x38b63f),_0x53d834=_0x5b792e-_0x439d9d,_0x58bcc2=_0x5b792e+_0x439d9d;if(_0x53d834<0x0&&_0x58bcc2<0x0)return null;const _0x49a53a=this['direction']['clone']();return _0x53d834<_0x58bcc2?_0x49a53a['multiplyScalar'](_0x53d834):_0x49a53a['multiplyScalar'](_0x58bcc2),_0x49a53a['add'](this['origin']),_0x49a53a;}['intersectsBox'](_0x1bf819){let _0x29dd1b=(_0x1bf819['min']['x']-this['origin']['x'])/this['direction']['x'],_0x2774d5=(_0x1bf819['max']['x']-this['origin']['x'])/this['direction']['x'];if(_0x29dd1b>_0x2774d5){const _0x29386b=_0x29dd1b;_0x29dd1b=_0x2774d5,_0x2774d5=_0x29386b;}let _0x52e846=(_0x1bf819['min']['y']-this['origin']['y'])/this['direction']['y'],_0x21d751=(_0x1bf819['max']['y']-this['origin']['y'])/this['direction']['y'];if(_0x52e846>_0x21d751){const _0x46fc6e=_0x52e846;_0x52e846=_0x21d751,_0x21d751=_0x46fc6e;}if(_0x29dd1b>_0x21d751||_0x52e846>_0x2774d5)return null;_0x52e846>_0x29dd1b&&(_0x29dd1b=_0x52e846),_0x21d751<_0x2774d5&&(_0x2774d5=_0x21d751);let _0x13b216=(_0x1bf819['min']['z']-this['origin']['z'])/this['direction']['z'],_0x4fa5b6=(_0x1bf819['max']['z']-this['origin']['z'])/this['direction']['z'];if(_0x13b216>_0x4fa5b6){const _0xaa9f03=_0x13b216;_0x13b216=_0x4fa5b6,_0x4fa5b6=_0xaa9f03;}if(_0x29dd1b>_0x4fa5b6||_0x13b216>_0x2774d5)return null;_0x13b216>_0x29dd1b&&(_0x29dd1b=_0x13b216),_0x4fa5b6<_0x2774d5&&(_0x2774d5=_0x4fa5b6);const _0x355bef=m['multiplyScalar'](this['direction'],_0x29dd1b);return _0x355bef['add'](this['origin']),_0x355bef;}['intersectsOrientedBoundingBox'](_0x31c36b){const _0x2e8ab0=this['createLocalRay'](_0x31c36b)['intersectsBox'](_0x31c36b['boundingBox']);return _0x2e8ab0&&_0x2e8ab0['transform'](_0x31c36b['worldMatrix']),_0x2e8ab0;}['intersectsOrientedBoundingSphere'](_0x2639d5){const _0x2b7928=this['createLocalRay'](_0x2639d5)['intersectsSphere'](_0x2639d5['boundingSphere']);return _0x2b7928&&_0x2b7928['transform'](_0x2639d5['worldMatrix']),_0x2b7928;}['intersectsMesh'](_0x1c585b){if(!this['intersectsOrientedBoundingBox'](_0x1c585b))return null;const _0x5a88f8=_0x1c585b['getVertices'](),_0x5a127e=_0x1c585b['getIndices'](),_0x23987a=this['createLocalRay'](_0x1c585b),_0x2fb70d=[];for(let _0x36e34f=0x0;_0x36e34f<_0x5a127e['length'];_0x36e34f+=0x3){const _0x2574df=this['intersectsTriangle'](_0x23987a,new m(_0x5a88f8[_0x5a127e[_0x36e34f]*0x3],_0x5a88f8[_0x5a127e[_0x36e34f]*0x3+0x1],_0x5a88f8[_0x5a127e[_0x36e34f]*0x3+0x2]),new m(_0x5a88f8[_0x5a127e[_0x36e34f+0x1]*0x3],_0x5a88f8[_0x5a127e[_0x36e34f+0x1]*0x3+0x1],_0x5a88f8[_0x5a127e[_0x36e34f+0x1]*0x3+0x2]),new m(_0x5a88f8[_0x5a127e[_0x36e34f+0x2]*0x3],_0x5a88f8[_0x5a127e[_0x36e34f+0x2]*0x3+0x1],_0x5a88f8[_0x5a127e[_0x36e34f+0x2]*0x3+0x2]));_0x2574df&&(_0x2574df['transform'](_0x1c585b['worldMatrix']),_0x2fb70d['push'](_0x2574df));}if(_0x2fb70d['length']==0x0)return null;{let _0x431d0a=0x0,_0x2fe8b3=this['origin']['distanceTo'](_0x2fb70d[0x0]);for(let _0x5034b8=0x1;_0x5034b8<_0x2fb70d['length'];_0x5034b8++){const _0x216329=this['origin']['distanceTo'](_0x2fb70d[_0x5034b8]);_0x216329<_0x2fe8b3&&(_0x431d0a=_0x5034b8,_0x2fe8b3=_0x216329);}return _0x2fb70d[_0x431d0a];}}['intersectsTriangle'](_0x2194ef,_0x4918af,_0x45a1ed,_0x18a5e4){const _0x14fa40=m['subtract'](_0x45a1ed,_0x4918af),_0x2333b2=m['subtract'](_0x18a5e4,_0x4918af),_0x1ff2d1=m['cross'](_0x2194ef['direction'],_0x2333b2),_0x5e5823=_0x14fa40['dot'](_0x1ff2d1);if(_0x5e5823>-1e-7&&_0x5e5823<1e-7)return null;const _0x1240b0=0x1/_0x5e5823,_0x60748b=m['subtract'](_0x2194ef['origin'],_0x4918af),_0x4a04dd=_0x1240b0*_0x60748b['dot'](_0x1ff2d1);if(_0x4a04dd<0x0||_0x4a04dd>0x1)return null;const _0x530684=m['cross'](_0x60748b,_0x14fa40),_0x1b5377=_0x1240b0*_0x2194ef['direction']['dot'](_0x530684);if(_0x1b5377<0x0||_0x4a04dd+_0x1b5377>0x1)return null;const _0x4b4b67=_0x1240b0*_0x2333b2['dot'](_0x530684);if(_0x4b4b67>1e-7){const _0x43c62d=_0x2194ef['direction']['clone']();return _0x43c62d['multiplyScalar'](_0x4b4b67),_0x43c62d['add'](_0x2194ef['origin']),_0x43c62d;}return null;}['createLocalRay'](_0x24a5d0){const _0x53fac4=new Tt(this['origin']['clone'](),this['direction']['clone']()),[_0x9f45c8,_0x517978,_0x45bcbb]=_0x24a5d0['worldMatrix']['decompose']();_0x53fac4['origin']['subtract'](_0x9f45c8);const _0x277fb7=_0x517978['inverse']();_0x53fac4['origin']['rotate'](_0x277fb7),_0x53fac4['direction']['rotate'](_0x277fb7);const _0x3a476f=_0x45bcbb,_0x336f9b=new m();return _0x336f9b['x']=0x1/_0x3a476f['x'],_0x336f9b['y']=0x1/_0x3a476f['y'],_0x336f9b['z']=0x1/_0x3a476f['z'],_0x53fac4['origin']['multiply'](_0x336f9b),_0x53fac4['direction']['multiply'](_0x336f9b),_0x53fac4['direction']['normalize'](),_0x53fac4;}}class ui extends H{constructor(_0x28fb07=0x1,_0x3763e3=0.01,_0x1406c7=0.05){super();o(this,'axes');o(this,'thickAxes');o(this,'deviceCoords');o(this,'currentAxis');o(this,'selectionPoint');this['currentAxis']=-0x1,this['deviceCoords']=new x(),this['selectionPoint']=new m(),this['axes']=new hi(_0x28fb07),this['add'](this['axes']),this['thickAxes']=[],this['thickAxes']['push'](new K(_0x28fb07,_0x3763e3,_0x3763e3)),this['thickAxes']['push'](new K(_0x3763e3,_0x28fb07,_0x3763e3)),this['thickAxes']['push'](new K(_0x3763e3,_0x3763e3,_0x28fb07)),this['thickAxes'][0x0]['position']['set'](_0x28fb07/0x2,0x0,0x0),this['thickAxes'][0x1]['position']['set'](0x0,_0x28fb07/0x2,0x0),this['thickAxes'][0x2]['position']['set'](0x0,0x0,_0x28fb07/0x2),this['thickAxes'][0x0]['material']=new O(),this['thickAxes'][0x1]['material']=new O(),this['thickAxes'][0x2]['material']=new O(),this['thickAxes'][0x0]['material']['setColor'](new M(0x1,0x0,0x0)),this['thickAxes'][0x1]['material']['setColor'](new M(0x0,0x1,0x0)),this['thickAxes'][0x2]['material']['setColor'](new M(0x0,0x0,0x1)),this['thickAxes'][0x0]['boundingBox']['max']['y']=_0x1406c7,this['thickAxes'][0x0]['boundingBox']['max']['z']=_0x1406c7,this['thickAxes'][0x1]['boundingBox']['max']['x']=_0x1406c7,this['thickAxes'][0x1]['boundingBox']['max']['z']=_0x1406c7,this['thickAxes'][0x2]['boundingBox']['max']['x']=_0x1406c7,this['thickAxes'][0x2]['boundingBox']['max']['y']=_0x1406c7,this['add'](this['thickAxes'][0x0]),this['add'](this['thickAxes'][0x1]),this['add'](this['thickAxes'][0x2]),window['addEventListener']('mousedown',_0x10e707=>{this['onMouseDown'](_0x10e707);}),window['addEventListener']('mouseup',_0x62eeb5=>{this['onMouseUp'](_0x62eeb5);}),window['addEventListener']('mousemove',_0x3040aa=>{this['onMouseMove'](_0x3040aa);});}['update'](_0x39cfb6){const _0x3ec9d8=new Tt();if(_0x3ec9d8['setPickRay'](this['deviceCoords'],S['getInstance']()['camera']),this['currentAxis']==-0x1)this['thickAxes'][0x0]['visible']=!0x1,this['thickAxes'][0x1]['visible']=!0x1,this['thickAxes'][0x2]['visible']=!0x1,_0x3ec9d8['intersectsOrientedBoundingBox'](this['thickAxes'][0x0])?this['thickAxes'][0x0]['visible']=!0x0:_0x3ec9d8['intersectsOrientedBoundingBox'](this['thickAxes'][0x1])?this['thickAxes'][0x1]['visible']=!0x0:_0x3ec9d8['intersectsOrientedBoundingBox'](this['thickAxes'][0x2])&&(this['thickAxes'][0x2]['visible']=!0x0);else if(this['currentAxis']==0x0){const [_0x280d2b,_0x356bdd,_0x136266]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x5bd031=_0x3ec9d8['intersectsPlane'](new st(m['ZERO'],new m(0x0,_0x280d2b['y'],_0x280d2b['z'])));_0x5bd031&&(this['translateX'](_0x5bd031['x']-this['selectionPoint']['x']),this['selectionPoint']=_0x5bd031);}else if(this['currentAxis']==0x1){const [_0x14f053,_0x2e0341,_0x3f0fea]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x13cf76=_0x3ec9d8['intersectsPlane'](new st(m['ZERO'],new m(_0x14f053['x'],0x0,_0x14f053['z'])));_0x13cf76&&(this['translateY'](_0x13cf76['y']-this['selectionPoint']['y']),this['selectionPoint']=_0x13cf76);}else if(this['currentAxis']==0x2){const [_0x2205b5,_0x26a687,_0x524bcc]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x575133=_0x3ec9d8['intersectsPlane'](new st(m['ZERO'],new m(_0x2205b5['x'],_0x2205b5['y'],0x0)));_0x575133&&(this['translateZ'](_0x575133['z']-this['selectionPoint']['z']),this['selectionPoint']=_0x575133);}}['onMouseDown'](_0x3afd9d){this['deviceCoords']=S['getInstance']()['getNormalizedDeviceCoordinates'](_0x3afd9d['x'],_0x3afd9d['y']);const _0x3ef766=new Tt();if(_0x3ef766['setPickRay'](this['deviceCoords'],S['getInstance']()['camera']),this['currentAxis']==-0x1){if(_0x3ef766['intersectsOrientedBoundingBox'](this['thickAxes'][0x0])){const [_0x5b7dff,_0x151ef2,_0x2108c7]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x1a7aa0=_0x3ef766['intersectsPlane'](new st(m['ZERO'],new m(0x0,_0x5b7dff['y'],_0x5b7dff['z'])));_0x1a7aa0&&(this['selectionPoint']=_0x1a7aa0,this['currentAxis']=0x0);return;}if(_0x3ef766['intersectsOrientedBoundingBox'](this['thickAxes'][0x1])){const [_0x2c481a,_0x364629,_0x4da05d]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x559d8a=_0x3ef766['intersectsPlane'](new st(m['ZERO'],new m(_0x2c481a['x'],0x0,_0x2c481a['z'])));_0x559d8a&&(this['selectionPoint']=_0x559d8a,this['currentAxis']=0x1);return;}if(_0x3ef766['intersectsOrientedBoundingBox'](this['thickAxes'][0x2])){const [_0x230105,_0x5791a9,_0x2c0acc]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x3c1ba4=_0x3ef766['intersectsPlane'](new st(m['ZERO'],new m(_0x230105['x'],_0x230105['y'],0x0)));_0x3c1ba4&&(this['selectionPoint']=_0x3c1ba4,this['currentAxis']=0x2);return;}}}['onMouseUp'](_0x4623aa){this['currentAxis']=-0x1;}['onMouseMove'](_0x4d883b){this['deviceCoords']=S['getInstance']()['getNormalizedDeviceCoordinates'](_0x4d883b['x'],_0x4d883b['y']);}['isSelected'](){return this['currentAxis']>=0x0;}}var Vt=(_0x50ac2c=>(_0x50ac2c[_0x50ac2c['POINT']=0x0]='POINT',_0x50ac2c[_0x50ac2c['DIRECTIONAL']=0x1]='DIRECTIONAL',_0x50ac2c))(Vt||{});class Gt extends H{constructor(_0x5ee9d0,_0x377921,_0x27f9c2,_0x21a86e){super();o(this,'ambientIntensity');o(this,'diffuseIntensity');o(this,'specularIntensity');o(this,'type');this['type']=_0x5ee9d0,_0x377921 instanceof m?this['ambientIntensity']=new m(_0x377921['x'],_0x377921['y'],_0x377921['z']):this['ambientIntensity']=new m(_0x377921['r'],_0x377921['g'],_0x377921['b']),_0x27f9c2 instanceof m?this['diffuseIntensity']=new m(_0x27f9c2['x'],_0x27f9c2['y'],_0x27f9c2['z']):this['diffuseIntensity']=new m(_0x27f9c2['r'],_0x27f9c2['g'],_0x27f9c2['b']),_0x21a86e instanceof m?this['specularIntensity']=new m(_0x21a86e['x'],_0x21a86e['y'],_0x21a86e['z']):this['specularIntensity']=new m(_0x21a86e['r'],_0x21a86e['g'],_0x21a86e['b']);}['getType'](){return this['type'];}['setLights'](_0x21dcaf){_0x21dcaf['addLight'](this),super['setLights'](_0x21dcaf);}}class ci extends Gt{constructor(_0x4c8a86=new m(0.5,0.5,0.5)){super(Vt['POINT'],_0x4c8a86,m['ZERO'],m['ZERO']);}}class mi extends Gt{constructor(_0x532596=new m(0.5,0.5,0.5)){super(Vt['DIRECTIONAL'],m['ZERO'],_0x532596,_0x532596);}}var fi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec3\x20vertPosition;\x0aout\x20vec3\x20vertNormal;\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vertPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20vertNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(vertPosition,\x201);\x0a}',di='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec3\x20vertPosition;\x0ain\x20vec3\x20vertNormal;\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20normalize(vertNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20vertPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(n,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20vertPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20n);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x20\x20\x20\x20fragColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const R=class extends lt{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,R['shader']['initialize'](this['gl']),this['kAmbientUniform']=R['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=R['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=R['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=R['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=R['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=R['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=R['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=R['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=R['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=R['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=R['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=R['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=R['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=R['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=R['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=R['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=R['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=R['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x2e56d4,_0x38902d,_0x44f8df,_0x4afec5){if(!this['visible']||_0x2e56d4['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](R['shader']['getProgram']());const _0x44f390=new m();_0x44f390['transform'](_0x44f8df['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x44f390['x'],_0x44f390['y'],_0x44f390['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x38902d['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x44f8df['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x44f8df['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x38902d['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x4afec5['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x4afec5['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x4afec5['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x4afec5['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x4afec5['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x4afec5['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2e56d4['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2e56d4['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2e56d4['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2e56d4['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x2e56d4['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x2e56d4['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0);}['setColor'](_0x24ba30){this['ambientColor']['copy'](_0x24ba30),this['diffuseColor']['copy'](_0x24ba30),this['specularColor']['copy'](_0x24ba30);}};let Pt=R;o(Pt,'shader',new rt(fi,di));var gi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelViewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0a\x0ain\x20vec3\x20position;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201);\x0a}',pi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20color;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20color;\x0a}';const k=class extends lt{constructor(){super();o(this,'color');o(this,'positionAttribute');o(this,'modelViewUniform');o(this,'projectionUniform');o(this,'colorUniform');this['color']=new M(0x1,0x1,0x1,0x1),k['shader']['initialize'](this['gl']),this['positionAttribute']=k['shader']['getAttribute'](this['gl'],'position'),this['modelViewUniform']=k['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform']=k['shader']['getUniform'](this['gl'],'projectionMatrix'),this['colorUniform']=k['shader']['getUniform'](this['gl'],'color');}['draw'](_0x4f4129,_0x4eb1e9,_0x4b239e,_0x442df5){!this['visible']||_0x4f4129['triangleCount']==0x0||(this['initialize'](),this['gl']['useProgram'](k['shader']['getProgram']()),this['gl']['uniformMatrix4fv'](this['modelViewUniform'],!0x1,j['multiply'](_0x4eb1e9['worldMatrix'],_0x4b239e['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x4b239e['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x4f4129['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),k['wireframeBuffers']['get'](_0x4f4129)||this['updateWireframeBuffer'](_0x4f4129),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],k['wireframeBuffers']['get'](_0x4f4129)),this['gl']['drawElements'](this['gl']['LINES'],_0x4f4129['triangleCount']*0x6,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x4c0f90){this['color']['copy'](_0x4c0f90);}['updateWireframeBuffer'](_0x5d6d82){let _0xc4d74f;_0xc4d74f=k['wireframeBuffers']['get'](_0x5d6d82),_0xc4d74f||(_0xc4d74f=this['gl']['createBuffer'](),_0xc4d74f&&k['wireframeBuffers']['set'](_0x5d6d82,_0xc4d74f));const _0x34f35b=new Uint16Array(_0x5d6d82['triangleCount']*0x3);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x5d6d82['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x34f35b);const _0x989c8b=[..._0x34f35b],_0x5154f1=[];for(let _0xfc5764=0x0;_0xfc5764<_0x5d6d82['triangleCount'];_0xfc5764++)_0x5154f1['push'](_0x989c8b[_0xfc5764*0x3]),_0x5154f1['push'](_0x989c8b[_0xfc5764*0x3+0x1]),_0x5154f1['push'](_0x989c8b[_0xfc5764*0x3+0x1]),_0x5154f1['push'](_0x989c8b[_0xfc5764*0x3+0x2]),_0x5154f1['push'](_0x989c8b[_0xfc5764*0x3+0x2]),_0x5154f1['push'](_0x989c8b[_0xfc5764*0x3]);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0xc4d74f),this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x5154f1),this['gl']['STATIC_DRAW']);}};let yt=k;o(yt,'shader',new rt(gi,pi)),o(yt,'wireframeBuffers',new Map());var yi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0auniform\x20float\x20morphAlpha;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0ain\x20vec3\x20morphTargetPosition;\x0ain\x20vec3\x20morphTargetNormal;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition,\x20worldNormal;\x0a\x20\x20\x20\x20if(morphAlpha\x20>\x200.0f)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20mix(position,\x20morphTargetPosition,\x20morphAlpha);\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(worldPosition,\x201)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20mix(normal,\x20morphTargetNormal,\x20morphAlpha);\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(worldNormal,\x200)).xyz);\x0a\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20else\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(worldNormal,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20worldNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20vertColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(worldPosition,\x201);\x0a}',xi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const C=class extends lt{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');o(this,'morphAlpha');o(this,'morphAlphaUniform');o(this,'morphTargetPositionAttribute');o(this,'morphTargetNormalAttribute');o(this,'wireframe');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,C['shader']['initialize'](this['gl']),this['kAmbientUniform']=C['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=C['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=C['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=C['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=C['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=C['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=C['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=C['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=C['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=C['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=C['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=C['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=C['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=C['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=C['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=C['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=C['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=C['shader']['getAttribute'](this['gl'],'texCoord'),this['morphAlpha']=0x0,this['morphAlphaUniform']=C['shader']['getUniform'](this['gl'],'morphAlpha'),this['morphTargetPositionAttribute']=C['shader']['getAttribute'](this['gl'],'morphTargetPosition'),this['morphTargetNormalAttribute']=C['shader']['getAttribute'](this['gl'],'morphTargetNormal'),this['wireframe']=!0x1;}['draw'](_0x41381f,_0x410728,_0x2fe830,_0x88f7e8){if(!this['visible']||_0x41381f['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](C['shader']['getProgram']());const _0x5d179c=new m();_0x5d179c['transform'](_0x2fe830['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x5d179c['x'],_0x5d179c['y'],_0x5d179c['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x410728['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x2fe830['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x2fe830['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x410728['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x88f7e8['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x88f7e8['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x88f7e8['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x88f7e8['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x88f7e8['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x88f7e8['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x41381f['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x41381f['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x41381f['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['uniform1f'](this['morphAlphaUniform'],this['morphAlpha']),this['morphAlpha']>0x0?(this['gl']['enableVertexAttribArray'](this['morphTargetPositionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x41381f['morphTargetPositionBuffer']),this['gl']['vertexAttribPointer'](this['morphTargetPositionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['morphTargetNormalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x41381f['morphTargetNormalBuffer']),this['gl']['vertexAttribPointer'](this['morphTargetNormalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['disableVertexAttribArray'](this['morphTargetPositionAttribute']),this['gl']['disableVertexAttribArray'](this['morphTargetNormalAttribute'])),this['wireframe']?(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute']),C['wireframeBuffers']['get'](_0x41381f)||this['updateWireframeBuffer'](_0x41381f),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],C['wireframeBuffers']['get'](_0x41381f)),this['gl']['drawElements'](this['gl']['LINES'],_0x41381f['triangleCount']*0x6,this['gl']['UNSIGNED_SHORT'],0x0)):(this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x41381f['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x41381f['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x41381f['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x44b4cc){this['ambientColor']['copy'](_0x44b4cc),this['diffuseColor']['copy'](_0x44b4cc),this['specularColor']['copy'](_0x44b4cc);}['updateWireframeBuffer'](_0x56c07e){let _0x35c06e;_0x35c06e=C['wireframeBuffers']['get'](_0x56c07e),_0x35c06e||(_0x35c06e=this['gl']['createBuffer'](),_0x35c06e&&C['wireframeBuffers']['set'](_0x56c07e,_0x35c06e));const _0x59c5dc=new Uint16Array(_0x56c07e['triangleCount']*0x3);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x56c07e['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x59c5dc);const _0xa7c28d=[..._0x59c5dc],_0x2f6ca5=[];for(let _0x1d0963=0x0;_0x1d0963<_0x56c07e['triangleCount'];_0x1d0963++)_0x2f6ca5['push'](_0xa7c28d[_0x1d0963*0x3]),_0x2f6ca5['push'](_0xa7c28d[_0x1d0963*0x3+0x1]),_0x2f6ca5['push'](_0xa7c28d[_0x1d0963*0x3+0x1]),_0x2f6ca5['push'](_0xa7c28d[_0x1d0963*0x3+0x2]),_0x2f6ca5['push'](_0xa7c28d[_0x1d0963*0x3+0x2]),_0x2f6ca5['push'](_0xa7c28d[_0x1d0963*0x3]);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x35c06e),this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x2f6ca5),this['gl']['STATIC_DRAW']);}};let xt=C;o(xt,'shader',new rt(yi,xi)),o(xt,'wireframeBuffers',new Map());var bt=typeof globalThis<'u'?globalThis:typeof window<'u'?window:typeof global<'u'?global:typeof self<'u'?self:{},Bt={};Number['EPSILON']===void 0x0&&(Number['EPSILON']=Math['pow'](0x2,-0x34));Math['sign']===void 0x0&&(Math['sign']=function(_0x193f5b){return _0x193f5b<0x0?-0x1:_0x193f5b>0x0?0x1:+_0x193f5b;});Function['prototype']['name']===void 0x0&&Object['defineProperty'](Function['prototype'],'name',{'get':function(){return this['toString']()['match'](/^\s*function\s*([^(\s]*)/)[0x1];}});Object['assign']===void 0x0&&(function(){Object['assign']=function(_0x2241fc){if(_0x2241fc==null)throw new TypeError('Cannot\x20convert\x20undefined\x20or\x20null\x20to\x20object');for(var _0x491f6b=Object(_0x2241fc),_0x4c5443=0x1;_0x4c5443<arguments['length'];_0x4c5443++){var _0x3c5b66=arguments[_0x4c5443];if(_0x3c5b66!=null)for(var _0x35d384 in _0x3c5b66)Object['prototype']['hasOwnProperty']['call'](_0x3c5b66,_0x35d384)&&(_0x491f6b[_0x35d384]=_0x3c5b66[_0x35d384]);}return _0x491f6b;};}());var Ut={},it={};Object['defineProperty'](it,'__esModule',{'value':!0x0});it['Tools']=void 0x0;var bi={'error':function(_0x563631){console['error'](_0x563631);}};it['Tools']=bi;var G={};Object['defineProperty'](G,'__esModule',{'value':!0x0});G['V3']=void 0x0;var Ai=(function(){function _0x3857ae(_0x67548d,_0x1a54a4,_0x4faa92){this['x']=_0x67548d||0x0,this['y']=_0x1a54a4||0x0,this['z']=_0x4faa92||0x0;}return _0x3857ae['prototype']['set']=function(_0x73469,_0x154703,_0x5eabcd){return this['x']=_0x73469||0x0,this['y']=_0x154703||0x0,this['z']=_0x5eabcd||0x0,this;},_0x3857ae['prototype']['distanceTo']=function(_0x29fd64){return Math['sqrt'](this['distanceToSquared'](_0x29fd64));},_0x3857ae['prototype']['distanceToSquared']=function(_0xb57e47){var _0x1ec5df=this['x']-_0xb57e47['x'],_0x1f6405=this['y']-_0xb57e47['y'],_0x18d205=this['z']-_0xb57e47['z'];return _0x1ec5df*_0x1ec5df+_0x1f6405*_0x1f6405+_0x18d205*_0x18d205;},_0x3857ae['prototype']['abs']=function(){return new _0x3857ae(this['x']<0x0?-this['x']:this['x'],this['y']<0x0?-this['y']:this['y'],this['z']<0x0?-this['z']:this['z']);},_0x3857ae['prototype']['dot']=function(_0x33edbc){return this['x']*_0x33edbc['x']+this['y']*_0x33edbc['y']+this['z']*_0x33edbc['z'];},_0x3857ae['prototype']['length']=function(){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);},_0x3857ae['prototype']['lengthSq']=function(){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];},_0x3857ae['prototype']['normalize']=function(){return this['divideScalar'](this['length']()||0x1);},_0x3857ae['prototype']['normalised']=function(){return new _0x3857ae(this['x'],this['y'],this['z'])['normalize']();},_0x3857ae['prototype']['add']=function(_0x522f59){return this['x']+=_0x522f59['x'],this['y']+=_0x522f59['y'],this['z']+=_0x522f59['z'],this;},_0x3857ae['prototype']['min']=function(_0x391c35){return this['x']-=_0x391c35['x'],this['y']-=_0x391c35['y'],this['z']-=_0x391c35['z'],this;},_0x3857ae['prototype']['plus']=function(_0x263e63){return new _0x3857ae(this['x']+_0x263e63['x'],this['y']+_0x263e63['y'],this['z']+_0x263e63['z']);},_0x3857ae['prototype']['minus']=function(_0x5f5501){return new _0x3857ae(this['x']-_0x5f5501['x'],this['y']-_0x5f5501['y'],this['z']-_0x5f5501['z']);},_0x3857ae['prototype']['divideBy']=function(_0x2ec557){return new _0x3857ae(this['x']/_0x2ec557,this['y']/_0x2ec557,this['z']/_0x2ec557);},_0x3857ae['prototype']['multiply']=function(_0x25db53){return new _0x3857ae(this['x']*_0x25db53,this['y']*_0x25db53,this['z']*_0x25db53);},_0x3857ae['prototype']['multiplyScalar']=function(_0x4397f8){return this['x']*=_0x4397f8,this['y']*=_0x4397f8,this['z']*=_0x4397f8,this;},_0x3857ae['prototype']['divideScalar']=function(_0x17b3e7){return this['multiplyScalar'](0x1/_0x17b3e7);},_0x3857ae['prototype']['cross']=function(_0x27db9b){return new _0x3857ae(this['y']*_0x27db9b['z']-this['z']*_0x27db9b['y'],this['z']*_0x27db9b['x']-this['x']*_0x27db9b['z'],this['x']*_0x27db9b['y']-this['y']*_0x27db9b['x']);},_0x3857ae['prototype']['crossVectors']=function(_0x44cc68,_0x555dcf){var _0x38847b=_0x44cc68['x'],_0x11aca2=_0x44cc68['y'],_0x51acbb=_0x44cc68['z'],_0x452f46=_0x555dcf['x'],_0x4e5696=_0x555dcf['y'],_0x5e1ac3=_0x555dcf['z'];return this['x']=_0x11aca2*_0x5e1ac3-_0x51acbb*_0x4e5696,this['y']=_0x51acbb*_0x452f46-_0x38847b*_0x5e1ac3,this['z']=_0x38847b*_0x4e5696-_0x11aca2*_0x452f46,this;},_0x3857ae['prototype']['negate']=function(){return this['x']=-this['x'],this['y']=-this['y'],this['z']=-this['z'],this;},_0x3857ae['prototype']['negated']=function(){return new _0x3857ae(-this['x'],-this['y'],-this['z']);},_0x3857ae['prototype']['clone']=function(){return new _0x3857ae(this['x'],this['y'],this['z']);},_0x3857ae['prototype']['copy']=function(_0x2d5cf7){return this['x']=_0x2d5cf7['x'],this['y']=_0x2d5cf7['y'],this['z']=_0x2d5cf7['z'],this;},_0x3857ae['prototype']['approximatelyEquals']=function(_0x13f157,_0x236957){if(_0x236957<0x0)return!0x1;var _0x25f30c=Math['abs'](this['x']-_0x13f157['x']),_0x4de2c9=Math['abs'](this['y']-_0x13f157['y']),_0x2dc6f9=Math['abs'](this['z']-_0x13f157['z']);return _0x25f30c<_0x236957&&_0x4de2c9<_0x236957&&_0x2dc6f9<_0x236957;},_0x3857ae['prototype']['zero']=function(){return this['x']=0x0,this['y']=0x0,this['z']=0x0,this;},_0x3857ae['prototype']['rotate']=function(_0x10afdd,_0x4cdfab){var _0x100cda=Math['cos'](_0x10afdd),_0x4a2573=Math['sin'](_0x10afdd),_0x1d56d3,_0x87e14,_0x5a016f;switch(_0x4cdfab){case'X':_0x1d56d3=this['x'],_0x87e14=this['y']*_0x100cda-this['z']*_0x4a2573,_0x5a016f=this['y']*_0x4a2573+this['z']*_0x100cda;break;case'Y':_0x1d56d3=this['z']*_0x4a2573+this['x']*_0x100cda,_0x87e14=this['y'],_0x5a016f=this['z']*_0x100cda-this['x']*_0x4a2573;break;case'Z':_0x1d56d3=this['x']*_0x100cda-this['y']*_0x4a2573,_0x87e14=this['x']*_0x4a2573+this['y']*_0x100cda,_0x5a016f=this['z'];break;}return this['x']=_0x1d56d3,this['y']=_0x87e14,this['z']=_0x5a016f,this;},_0x3857ae['prototype']['projectOnVector']=function(_0x3b06ce){var _0x204f53=_0x3b06ce['dot'](this)/_0x3b06ce['lengthSq']();return this['copy'](_0x3b06ce)['multiplyScalar'](_0x204f53);},Object['defineProperty'](_0x3857ae['prototype'],'projectOnPlane',{'get':function(){var _0x20f2b2=this,_0x5491a5=new _0x3857ae();return function(_0x6b29a0){return _0x5491a5['copy'](_0x20f2b2)['projectOnVector'](_0x6b29a0['normalised']()),_0x20f2b2['min'](_0x5491a5)['normalize']();};},'enumerable':!0x1,'configurable':!0x0}),_0x3857ae['prototype']['applyM3']=function(_0x492443){var _0x3ad1c7=this['x'],_0x54d537=this['y'],_0x4f82bb=this['z'],_0x264967=_0x492443['elements'];return this['x']=_0x264967[0x0]*_0x3ad1c7+_0x264967[0x1]*_0x54d537+_0x264967[0x2]*_0x4f82bb,this['y']=_0x264967[0x3]*_0x3ad1c7+_0x264967[0x4]*_0x54d537+_0x264967[0x5]*_0x4f82bb,this['z']=_0x264967[0x6]*_0x3ad1c7+_0x264967[0x7]*_0x54d537+_0x264967[0x8]*_0x4f82bb,this['normalize']();},_0x3857ae['prototype']['applyMatrix3']=function(_0x97a5e7){var _0x2276bf=this['x'],_0x5cdc39=this['y'],_0x4c4e51=this['z'],_0x3735a5=_0x97a5e7['elements'];return this['x']=_0x3735a5[0x0]*_0x2276bf+_0x3735a5[0x3]*_0x5cdc39+_0x3735a5[0x6]*_0x4c4e51,this['y']=_0x3735a5[0x1]*_0x2276bf+_0x3735a5[0x4]*_0x5cdc39+_0x3735a5[0x7]*_0x4c4e51,this['z']=_0x3735a5[0x2]*_0x2276bf+_0x3735a5[0x5]*_0x5cdc39+_0x3735a5[0x8]*_0x4c4e51,this;},_0x3857ae['prototype']['applyQuaternion']=function(_0x5162ee){var _0x1e8438=this['x'],_0x5ab77e=this['y'],_0x184c74=this['z'],_0xa74986=_0x5162ee['x'],_0x2c943b=_0x5162ee['y'],_0xc881ce=_0x5162ee['z'],_0x529642=_0x5162ee['w'],_0x2192f2=_0x529642*_0x1e8438+_0x2c943b*_0x184c74-_0xc881ce*_0x5ab77e,_0x30d70e=_0x529642*_0x5ab77e+_0xc881ce*_0x1e8438-_0xa74986*_0x184c74,_0xddc74=_0x529642*_0x184c74+_0xa74986*_0x5ab77e-_0x2c943b*_0x1e8438,_0x520e33=-_0xa74986*_0x1e8438-_0x2c943b*_0x5ab77e-_0xc881ce*_0x184c74;return this['x']=_0x2192f2*_0x529642+_0x520e33*-_0xa74986+_0x30d70e*-_0xc881ce-_0xddc74*-_0x2c943b,this['y']=_0x30d70e*_0x529642+_0x520e33*-_0x2c943b+_0xddc74*-_0xa74986-_0x2192f2*-_0xc881ce,this['z']=_0xddc74*_0x529642+_0x520e33*-_0xc881ce+_0x2192f2*-_0x2c943b-_0x30d70e*-_0xa74986,this;},_0x3857ae['prototype']['sign']=function(_0x569006,_0x4e3146){var _0x167a0e=this['cross'](_0x569006)['dot'](_0x4e3146);return _0x167a0e>=0x0?0x1:-0x1;},_0x3857ae['prototype']['angleTo']=function(_0xc64ee0){var _0x3a0f3b=this['dot'](_0xc64ee0)/Math['sqrt'](this['lengthSq']()*_0xc64ee0['lengthSq']());return _0x3a0f3b<=-0x1?Math['PI']:_0x3a0f3b>=0x1?0x0:Math['acos'](_0x3a0f3b);},_0x3857ae['prototype']['getSignedAngle']=function(_0x1d2fa4,_0x239658){var _0x20c664=this['angleTo'](_0x1d2fa4),_0x17687e=this['sign'](_0x1d2fa4,_0x239658);return _0x17687e===0x1?_0x20c664:-_0x20c664;},_0x3857ae['prototype']['constrainedUV']=function(_0x94ec5c,_0x2fa4af,_0x41ad32,_0x3b91cf,_0x24a0f7){var _0x5fe9b5=_0x94ec5c['getSignedAngle'](this,_0x2fa4af);return _0x5fe9b5>_0x24a0f7&&this['copy'](_0x41ad32['rotateAboutAxis'](_0x94ec5c,_0x24a0f7,_0x2fa4af)),_0x5fe9b5<_0x3b91cf&&this['copy'](_0x41ad32['rotateAboutAxis'](_0x94ec5c,_0x3b91cf,_0x2fa4af)),this;},_0x3857ae['prototype']['limitAngle']=function(_0x43bacf,_0x4596e8,_0x1a421c){var _0x1875ae=_0x43bacf['angleTo'](this);if(_0x1875ae>_0x1a421c){var _0x56da90=_0x43bacf['normalised']()['cross'](this)['normalize']();this['copy'](_0x4596e8['rotateAboutAxis'](_0x43bacf,_0x1a421c,_0x56da90));}return this;},_0x3857ae['isVector3']=!0x0,_0x3857ae;}());G['V3']=Ai;(function(_0x49ee09){Object['defineProperty'](_0x49ee09,'__esModule',{'value':!0x0}),_0x49ee09['_Math']=void 0x0;var _0x4fc76e=it,_0x1431a0=G;_0x49ee09['_Math']={'toRad':Math['PI']/0xb4,'toDeg':0xb4/Math['PI'],'pi90':Math['PI']*0.5,'findAngle':function(_0x49857a,_0x1ca4ce){var _0x1be5ea=_0x49857a['end']['minus'](_0x1ca4ce['end'])['lengthSq'](),_0x389d32=_0x49857a['end']['minus'](_0x49857a['start'])['lengthSq'](),_0x42568e=_0x1ca4ce['end']['minus'](_0x49857a['start'])['lengthSq'](),_0x5d1ad6,_0xdd95a0=(_0x1be5ea+_0x389d32-_0x42568e)/Math['sqrt'](0x4*_0x1be5ea*_0x389d32);_0xdd95a0<=-0x1?_0x5d1ad6=Math['PI']:_0xdd95a0>=0x1?_0x5d1ad6=0x0:_0x5d1ad6=Math['acos'](_0xdd95a0);var _0x375974=_0x49857a['end']['x']*_0x1ca4ce['end']['y']-_0x49857a['end']['y']*_0x1ca4ce['end']['x'];return _0x375974>=0x0?_0x5d1ad6:-_0x5d1ad6;},'clamp':function(_0x3f596a,_0x3c6112,_0x24b138){return _0x3f596a=_0x3f596a<_0x3c6112?_0x3c6112:_0x3f596a,_0x3f596a=_0x3f596a>_0x24b138?_0x24b138:_0x3f596a,_0x3f596a;},'lerp':function(_0xb0f69b,_0x5462cb,_0x5ba111){return(0x1-_0x5ba111)*_0xb0f69b+_0x5ba111*_0x5462cb;},'rand':function(_0x159164,_0x36c482){return _0x159164+Math['random']()*(_0x36c482-_0x159164);},'randInt':function(_0x1c7acf,_0x2405e0){return _0x1c7acf+Math['floor'](Math['random']()*(_0x2405e0-_0x1c7acf+0x1));},'nearEquals':function(_0x6f1bf7,_0x3f2ef3,_0x3885bf){return Math['abs'](_0x6f1bf7-_0x3f2ef3)<=_0x3885bf;},'perpendicular':function(_0x3e221b,_0x4ca306){return!!_0x49ee09['_Math']['nearEquals'](_0x3e221b['dot'](_0x4ca306),0x0,0.01);},'genPerpendicularVectorQuick':function(_0x15bd7d){var _0x9bbfff=_0x15bd7d['clone']();return Math['abs'](_0x15bd7d['y'])<0.99?_0x9bbfff['set'](-_0x15bd7d['z'],0x0,_0x15bd7d['x'])['normalize']():_0x9bbfff['set'](0x0,_0x15bd7d['z'],-_0x15bd7d['y'])['normalize']();},'genPerpendicularVectorFrisvad':function(_0x234273){var _0x55f5a8=_0x234273['clone']();if(_0x234273['z']<-0.9999999)return _0x55f5a8['set'](0x0,-0x1,0x0);var _0xcb907=0x1/(0x1+_0x234273['z']);return _0x55f5a8['set'](0x1-_0x234273['x']*_0x234273['x']*_0xcb907,-_0x234273['x']*_0x234273['y']*_0xcb907,-_0x234273['x'])['normalize']();},'rotateXDegs':function(_0x153904,_0x5f38c9){return _0x153904['clone']()['rotate'](_0x5f38c9*_0x49ee09['_Math']['toRad'],'X');},'rotateYDegs':function(_0x2624c1,_0x733653){return _0x2624c1['clone']()['rotate'](_0x733653*_0x49ee09['_Math']['toRad'],'Y');},'rotateZDegs':function(_0x541270,_0x447df3){return _0x541270['clone']()['rotate'](_0x447df3*_0x49ee09['_Math']['toRad'],'Z');},'withinManhattanDistance':function(_0x4e5609,_0x5e0071,_0x3ff30a){return!(Math['abs'](_0x5e0071['x']-_0x4e5609['x'])>_0x3ff30a||Math['abs'](_0x5e0071['y']-_0x4e5609['y'])>_0x3ff30a||Math['abs'](_0x5e0071['z']-_0x4e5609['z'])>_0x3ff30a);},'manhattanDistanceBetween':function(_0x13d3d7,_0x248919){return Math['abs'](_0x248919['x']-_0x13d3d7['x'])+Math['abs'](_0x248919['x']-_0x13d3d7['x'])+Math['abs'](_0x248919['x']-_0x13d3d7['x']);},'distanceBetween':function(_0x44a6c5,_0x1ba362){var _0x554e79=_0x1ba362['x']-_0x44a6c5['x'],_0xb353c9=_0x1ba362['y']-_0x44a6c5['y'],_0x51ac1e=_0x44a6c5 instanceof _0x1431a0['V3']&&_0x1ba362 instanceof _0x1431a0['V3']?_0x1ba362['z']-_0x44a6c5['z']:0x0;return Math['sqrt'](_0x554e79*_0x554e79+_0xb353c9*_0xb353c9+_0x51ac1e*_0x51ac1e);},'rotateDegs':function(_0x4930b2,_0x2537e3){return _0x4930b2['clone']()['rotate'](_0x2537e3*_0x49ee09['_Math']['toRad']);},'validateDirectionUV':function(_0x2885f4){_0x2885f4['length']()<0x0&&_0x4fc76e['Tools']['error']('vector\x20direction\x20unit\x20vector\x20cannot\x20be\x20zero.');},'validateLength':function(_0x235178){_0x235178<0x0&&_0x4fc76e['Tools']['error']('Length\x20must\x20be\x20a\x20greater\x20than\x20or\x20equal\x20to\x20zero.');}};}(Ut));var et={};Object['defineProperty'](et,'__esModule',{'value':!0x0});et['V2']=void 0x0;var wi=(function(){function _0x24aaff(_0x54137c,_0x81e7c0){this['x']=_0x54137c||0x0,this['y']=_0x81e7c0||0x0;}return _0x24aaff['prototype']['set']=function(_0x4ed245,_0x1e3624){return this['x']=_0x4ed245||0x0,this['y']=_0x1e3624||0x0,this;},_0x24aaff['prototype']['distanceTo']=function(_0x1440df){return Math['sqrt'](this['distanceToSquared'](_0x1440df));},_0x24aaff['prototype']['distanceToSquared']=function(_0x573498){var _0x822381=this['x']-_0x573498['x'],_0x3edc7a=this['y']-_0x573498['y'];return _0x822381*_0x822381+_0x3edc7a*_0x3edc7a;},_0x24aaff['prototype']['multiplyScalar']=function(_0x26b63a){return this['x']*=_0x26b63a,this['y']*=_0x26b63a,this;},_0x24aaff['prototype']['divideScalar']=function(_0x6463b9){return this['multiplyScalar'](0x1/_0x6463b9);},_0x24aaff['prototype']['length']=function(){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);},_0x24aaff['prototype']['normalize']=function(){return this['divideScalar'](this['length']()||0x1);},_0x24aaff['prototype']['normalised']=function(){return new _0x24aaff(this['x'],this['y'])['normalize']();},_0x24aaff['prototype']['lengthSq']=function(){return this['x']*this['x']+this['y']*this['y'];},_0x24aaff['prototype']['add']=function(_0x41c027){return this['x']+=_0x41c027['x'],this['y']+=_0x41c027['y'],this;},_0x24aaff['prototype']['plus']=function(_0x33b578){return new _0x24aaff(this['x']+_0x33b578['x'],this['y']+_0x33b578['y']);},_0x24aaff['prototype']['min']=function(_0xf97a43){return this['x']-=_0xf97a43['x'],this['y']-=_0xf97a43['y'],this;},_0x24aaff['prototype']['minus']=function(_0x51d60b){return new _0x24aaff(this['x']-_0x51d60b['x'],this['y']-_0x51d60b['y']);},_0x24aaff['prototype']['divideBy']=function(_0x131629){return new _0x24aaff(this['x'],this['y'])['divideScalar'](_0x131629);},_0x24aaff['prototype']['dot']=function(_0x52d2af){return this['x']*_0x52d2af['x']+this['y']*_0x52d2af['y'];},_0x24aaff['prototype']['negate']=function(){return this['x']=-this['x'],this['y']=-this['y'],this;},_0x24aaff['prototype']['negated']=function(){return new _0x24aaff(-this['x'],-this['y']);},_0x24aaff['prototype']['clone']=function(){return new _0x24aaff(this['x'],this['y']);},_0x24aaff['prototype']['copy']=function(_0xbc5ef5){return this['x']=_0xbc5ef5['x'],this['y']=_0xbc5ef5['y'],this;},_0x24aaff['prototype']['cross']=function(_0x3791dd){return this['x']*_0x3791dd['y']-this['y']*_0x3791dd['x'];},_0x24aaff['prototype']['sign']=function(_0x1cc62f){var _0x2894dd=this['cross'](_0x1cc62f);return _0x2894dd>=0x0?0x1:-0x1;},_0x24aaff['prototype']['approximatelyEquals']=function(_0x3bae28,_0x478378){if(_0x478378<0x0)return!0x1;var _0x38e28b=Math['abs'](this['x']-_0x3bae28['x']),_0x248e31=Math['abs'](this['y']-_0x3bae28['y']);return _0x38e28b<_0x478378&&_0x248e31<_0x478378;},_0x24aaff['prototype']['rotate']=function(_0x373ec6){var _0xf35d18=Math['cos'](_0x373ec6),_0x4d8630=Math['sin'](_0x373ec6),_0x38f460=this['x']*_0xf35d18-this['y']*_0x4d8630,_0x9e4828=this['x']*_0x4d8630+this['y']*_0xf35d18;return this['x']=_0x38f460,this['y']=_0x9e4828,this;},_0x24aaff['prototype']['angleTo']=function(_0x99e3f){var _0x3bc0db=this['dot'](_0x99e3f)/Math['sqrt'](this['lengthSq']()*_0x99e3f['lengthSq']());return _0x3bc0db<=-0x1?Math['PI']:_0x3bc0db>=0x1?0x0:Math['acos'](_0x3bc0db);},_0x24aaff['prototype']['getSignedAngle']=function(_0x3a1d1a){var _0x5bd975=this['angleTo'](_0x3a1d1a),_0x5a306f=this['sign'](_0x3a1d1a);return _0x5a306f===0x1?_0x5bd975:-_0x5bd975;},_0x24aaff['prototype']['constrainedUV']=function(_0x5b6dd6,_0x4e25de,_0x386427){var _0x412023=_0x5b6dd6['getSignedAngle'](this);return _0x412023>_0x386427&&this['copy'](_0x5b6dd6)['rotate'](_0x386427),_0x412023<_0x4e25de&&this['copy'](_0x5b6dd6)['rotate'](_0x4e25de),this;},_0x24aaff['isVector2']=!0x0,_0x24aaff;}());et['V2']=wi;var ot={};Object['defineProperty'](ot,'__esModule',{'value':!0x0});ot['M3']=void 0x0;var Nt=G,vi=(function(){function _0x26e140(){this['elements']=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1],arguments['length']>0x0&&console['error']('M3:\x20the\x20constructor\x20no\x20longer\x20reads\x20arguments.\x20use\x20.set()\x20instead.');}return _0x26e140['prototype']['set']=function(_0x1157ff,_0x549222,_0x1256d1,_0x2249af,_0x184ccf,_0x14a101,_0x3dae30,_0x57be08,_0x401c1d){var _0xfc22f9=this['elements'];return _0xfc22f9[0x0]=_0x1157ff,_0xfc22f9[0x1]=_0x2249af,_0xfc22f9[0x2]=_0x3dae30,_0xfc22f9[0x3]=_0x549222,_0xfc22f9[0x4]=_0x184ccf,_0xfc22f9[0x5]=_0x57be08,_0xfc22f9[0x6]=_0x1256d1,_0xfc22f9[0x7]=_0x14a101,_0xfc22f9[0x8]=_0x401c1d,this;},_0x26e140['prototype']['identity']=function(){return this['set'](0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1),this;},_0x26e140['prototype']['setV3']=function(_0x36a4fd,_0x498eda,_0x2d75ab){var _0x3cd07f=this['elements'];return _0x3cd07f[0x0]=_0x36a4fd['x'],_0x3cd07f[0x3]=_0x36a4fd['y'],_0x3cd07f[0x6]=_0x36a4fd['z'],_0x3cd07f[0x1]=_0x498eda['x'],_0x3cd07f[0x4]=_0x498eda['y'],_0x3cd07f[0x7]=_0x498eda['z'],_0x3cd07f[0x2]=_0x2d75ab['x'],_0x3cd07f[0x5]=_0x2d75ab['y'],_0x3cd07f[0x8]=_0x2d75ab['z'],this;},_0x26e140['prototype']['transpose']=function(){var _0x1295d3,_0x8b9d78=this['elements'];return _0x1295d3=_0x8b9d78[0x1],_0x8b9d78[0x1]=_0x8b9d78[0x3],_0x8b9d78[0x3]=_0x1295d3,_0x1295d3=_0x8b9d78[0x2],_0x8b9d78[0x2]=_0x8b9d78[0x6],_0x8b9d78[0x6]=_0x1295d3,_0x1295d3=_0x8b9d78[0x5],_0x8b9d78[0x5]=_0x8b9d78[0x7],_0x8b9d78[0x7]=_0x1295d3,this;},_0x26e140['prototype']['createRotationMatrix']=function(_0x1e44d1){var _0x1213bd=_0x1e44d1,_0x19ba93=new Nt['V3'](0x1,0x0,0x0),_0x4a5f89=new Nt['V3'](0x0,0x1,0x0);if(_0x1e44d1['z']<-0.9999999)_0x19ba93['set'](0x1,0x0,0x0),_0x4a5f89['set'](0x0,0x1,0x0);else{var _0x4157df=0x1/(0x1+_0x1213bd['z']),_0x3d34da=-_0x1213bd['x']*_0x1213bd['y']*_0x4157df;_0x19ba93['set'](0x1-_0x1213bd['x']*_0x1213bd['x']*_0x4157df,_0x3d34da,-_0x1213bd['x'])['normalize'](),_0x4a5f89['set'](_0x3d34da,0x1-_0x1213bd['y']*_0x1213bd['y']*_0x4157df,-_0x1213bd['y'])['normalize']();}return this['setV3'](_0x19ba93,_0x4a5f89,_0x1213bd);},_0x26e140['prototype']['rotateAboutAxis']=function(_0xc7058e,_0x10f4c6,_0x206b79){var _0x56ed62=Math['sin'](_0x10f4c6),_0x2fae81=Math['cos'](_0x10f4c6),_0x32bfbc=0x1-_0x2fae81,_0x117d8c=_0x206b79['x']*_0x206b79['y']*_0x32bfbc,_0x3ec3ae=_0x206b79['x']*_0x206b79['z']*_0x32bfbc,_0x663dcb=_0x206b79['y']*_0x206b79['z']*_0x32bfbc,_0x27778e=this['elements'];return _0x27778e[0x0]=_0x206b79['x']*_0x206b79['x']*_0x32bfbc+_0x2fae81,_0x27778e[0x3]=_0x117d8c+_0x206b79['z']*_0x56ed62,_0x27778e[0x6]=_0x3ec3ae-_0x206b79['y']*_0x56ed62,_0x27778e[0x1]=_0x117d8c-_0x206b79['z']*_0x56ed62,_0x27778e[0x4]=_0x206b79['y']*_0x206b79['y']*_0x32bfbc+_0x2fae81,_0x27778e[0x7]=_0x663dcb+_0x206b79['x']*_0x56ed62,_0x27778e[0x2]=_0x3ec3ae+_0x206b79['y']*_0x56ed62,_0x27778e[0x5]=_0x663dcb-_0x206b79['x']*_0x56ed62,_0x27778e[0x8]=_0x206b79['z']*_0x206b79['z']*_0x32bfbc+_0x2fae81,_0xc7058e['clone']()['applyM3'](this);},_0x26e140['isMatrix3']=!0x0,_0x26e140;}());ot['M3']=vi;var ut={},W={};(function(_0x461723){Object['defineProperty'](_0x461723,'__esModule',{'value':!0x0}),_0x461723['RIGHT']=_0x461723['LEFT']=_0x461723['DOWN']=_0x461723['UP']=_0x461723['Z_NEG']=_0x461723['Y_NEG']=_0x461723['X_NEG']=_0x461723['Z_AXE']=_0x461723['Y_AXE']=_0x461723['X_AXE']=_0x461723['ConnectionType']=_0x461723['JointType']=_0x461723['BaseboneConstraintType']=_0x461723['TODEG']=_0x461723['TORAD']=_0x461723['PI']=_0x461723['MAX_VALUE']=_0x461723['PRECISION_DEG']=_0x461723['PRECISION']=_0x461723['REVISION']=void 0x0;var _0x5558c8=G,_0x5970af=et;_0x461723['REVISION']='1.3.3',_0x461723['PRECISION']=0.001,_0x461723['PRECISION_DEG']=0.01,_0x461723['MAX_VALUE']=0x1/0x0,_0x461723['PI']=Math['PI'],_0x461723['TORAD']=Math['PI']/0xb4,_0x461723['TODEG']=0xb4/Math['PI'],function(_0x19549f){_0x19549f[_0x19549f['NONE']=0x1]='NONE',_0x19549f[_0x19549f['GLOBAL_ROTOR']=0x2]='GLOBAL_ROTOR',_0x19549f[_0x19549f['GLOBAL_HINGE']=0x3]='GLOBAL_HINGE',_0x19549f[_0x19549f['LOCAL_ROTOR']=0x4]='LOCAL_ROTOR',_0x19549f[_0x19549f['LOCAL_HINGE']=0x5]='LOCAL_HINGE',_0x19549f[_0x19549f['GLOBAL_ABSOLUTE']=0x6]='GLOBAL_ABSOLUTE',_0x19549f[_0x19549f['LOCAL_RELATIVE']=0x7]='LOCAL_RELATIVE',_0x19549f[_0x19549f['LOCAL_ABSOLUTE']=0x8]='LOCAL_ABSOLUTE';}(_0x461723['BaseboneConstraintType']||(_0x461723['BaseboneConstraintType']={})),function(_0x50cfdb){_0x50cfdb[_0x50cfdb['J_BALL']=0xa]='J_BALL',_0x50cfdb[_0x50cfdb['J_LOCAL']=0xb]='J_LOCAL',_0x50cfdb[_0x50cfdb['J_GLOBAL']=0xc]='J_GLOBAL';}(_0x461723['JointType']||(_0x461723['JointType']={})),function(_0x5b2b4a){_0x5b2b4a[_0x5b2b4a['START']=0x14]='START',_0x5b2b4a[_0x5b2b4a['END']=0x15]='END';}(_0x461723['ConnectionType']||(_0x461723['ConnectionType']={})),_0x461723['X_AXE']=new _0x5558c8['V3'](0x1,0x0,0x0),_0x461723['Y_AXE']=new _0x5558c8['V3'](0x0,0x1,0x0),_0x461723['Z_AXE']=new _0x5558c8['V3'](0x0,0x0,0x1),_0x461723['X_NEG']=new _0x5558c8['V3'](-0x1,0x0,0x0),_0x461723['Y_NEG']=new _0x5558c8['V3'](0x0,-0x1,0x0),_0x461723['Z_NEG']=new _0x5558c8['V3'](0x0,0x0,-0x1),_0x461723['UP']=new _0x5970af['V2'](0x0,0x1),_0x461723['DOWN']=new _0x5970af['V2'](0x0,-0x1),_0x461723['LEFT']=new _0x5970af['V2'](-0x1,0x0),_0x461723['RIGHT']=new _0x5970af['V2'](0x1,0x0);}(W));Object['defineProperty'](ut,'__esModule',{'value':!0x0});ut['Joint3D']=void 0x0;var Yt=G,V=W,Ci=(function(){function _0x56e122(){this['rotor']=V['PI'],this['min']=-V['PI'],this['max']=V['PI'],this['freeHinge']=!0x0,this['rotationAxisUV']=new Yt['V3'](),this['referenceAxisUV']=new Yt['V3'](),this['type']=V['JointType']['J_BALL'];}return _0x56e122['prototype']['clone']=function(){var _0x35c5bc=new _0x56e122();return _0x35c5bc['type']=this['type'],_0x35c5bc['rotor']=this['rotor'],_0x35c5bc['max']=this['max'],_0x35c5bc['min']=this['min'],_0x35c5bc['freeHinge']=this['freeHinge'],_0x35c5bc['rotationAxisUV']['copy'](this['rotationAxisUV']),_0x35c5bc['referenceAxisUV']['copy'](this['referenceAxisUV']),_0x35c5bc;},_0x56e122['prototype']['testAngle']=function(){this['max']===V['PI']&&this['min']===-V['PI']?this['freeHinge']=!0x0:this['freeHinge']=!0x1;},_0x56e122['prototype']['validateAngle']=function(_0x5b9d76){return _0x5b9d76=_0x5b9d76<0x0?0x0:_0x5b9d76,_0x5b9d76=_0x5b9d76>0xb4?0xb4:_0x5b9d76,_0x5b9d76;},_0x56e122['prototype']['setAsBallJoint']=function(_0x356ce8){this['rotor']=this['validateAngle'](_0x356ce8)*V['TORAD'],this['type']=V['JointType']['J_BALL'];},_0x56e122['prototype']['setHinge']=function(_0x3f3f12,_0x3e4e00,_0x5ae749,_0x9a1369,_0x2a9f46){this['type']=_0x3f3f12,_0x5ae749<0x0&&(_0x5ae749*=-0x1),this['min']=-this['validateAngle'](_0x5ae749)*V['TORAD'],this['max']=this['validateAngle'](_0x9a1369)*V['TORAD'],this['testAngle'](),this['rotationAxisUV']['copy'](_0x3e4e00)['normalize'](),this['referenceAxisUV']['copy'](_0x2a9f46)['normalize']();},_0x56e122['prototype']['getHingeReferenceAxis']=function(){return this['referenceAxisUV'];},_0x56e122['prototype']['getHingeRotationAxis']=function(){return this['rotationAxisUV'];},_0x56e122['prototype']['setBallJointConstraintDegs']=function(_0x11885c){this['rotor']=this['validateAngle'](_0x11885c)*V['TORAD'];},_0x56e122['prototype']['setHingeClockwise']=function(_0x58c09a){_0x58c09a<0x0&&(_0x58c09a*=-0x1),this['min']=-this['validateAngle'](_0x58c09a)*V['TORAD'],this['testAngle']();},_0x56e122['prototype']['setHingeAnticlockwise']=function(_0x32caa7){this['max']=this['validateAngle'](_0x32caa7)*V['TORAD'],this['testAngle']();},_0x56e122['isJoint3D']=!0x0,_0x56e122;}());ut['Joint3D']=Ci;var ct={};Object['defineProperty'](ct,'__esModule',{'value':!0x0});ct['Bone3D']=void 0x0;var Bi=W,Ti=ut,_t=G,Mi=(function(){function _0x323924(_0x3578fb,_0x23e32c,_0x19ee08,_0x16c858){this['joint']=new Ti['Joint3D'](),this['start']=new _t['V3'](),this['end']=new _t['V3'](),this['boneConnectionPoint']=Bi['ConnectionType']['END'],this['length']=0x0,this['name']='',this['init'](_0x3578fb,_0x23e32c,_0x19ee08,_0x16c858);}return _0x323924['prototype']['init']=function(_0x4df51a,_0x56cccb,_0x4739e3,_0x577677){this['setStartLocation'](_0x4df51a),_0x56cccb?(this['setEndLocation'](_0x56cccb),this['length']=this['getLength']()):_0x577677&&_0x4739e3&&(this['setLength'](_0x577677),this['setEndLocation'](this['start']['plus'](_0x4739e3['normalised']()['multiplyScalar'](_0x577677))));},_0x323924['prototype']['clone']=function(){var _0x51f298=new _0x323924(this['start'],this['end']);return _0x51f298['joint']=this['joint']['clone'](),_0x51f298;},_0x323924['prototype']['setBoneConnectionPoint']=function(_0x446899){this['boneConnectionPoint']=_0x446899;},_0x323924['prototype']['setHingeClockwise']=function(_0xed5ce7){this['joint']['setHingeClockwise'](_0xed5ce7);},_0x323924['prototype']['setHingeAnticlockwise']=function(_0x21169a){this['joint']['setHingeAnticlockwise'](_0x21169a);},_0x323924['prototype']['setBallJointConstraintDegs']=function(_0x4cb584){this['joint']['setBallJointConstraintDegs'](_0x4cb584);},_0x323924['prototype']['setStartLocation']=function(_0x5383ec){this['start']['copy'](_0x5383ec);},_0x323924['prototype']['setEndLocation']=function(_0x4b033f){this['end']['copy'](_0x4b033f);},_0x323924['prototype']['setLength']=function(_0x1702d4){_0x1702d4>0x0&&(this['length']=_0x1702d4);},_0x323924['prototype']['setJoint']=function(_0x208121){this['joint']=_0x208121;},_0x323924['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x323924['prototype']['getDirectionUV']=function(){return this['end']['minus'](this['start'])['normalize']();},_0x323924['prototype']['getLength']=function(){return this['start']['distanceTo'](this['end']);},_0x323924['isBone3D']=!0x0,_0x323924;}());ct['Bone3D']=Mi;var Rt={};Object['defineProperty'](Rt,'__esModule',{'value':!0x0});Rt['Chain3D']=void 0x0;var b=W,At=Ut,J=G,Ui=ot,It=ct,nt=it,Ri=(function(){function _0x1080d5(){this['tmpTarget']=new J['V3'](),this['tmpMtx']=new Ui['M3'](),this['bones']=[],this['name']='',this['solveDistanceThreshold']=0x1,this['minIterationChange']=0.01,this['maxIteration']=0x14,this['precision']=0.001,this['chainLength']=0x0,this['numBones']=0x0,this['baseLocation']=new J['V3'](),this['fixedBaseMode']=!0x0,this['baseboneConstraintType']=b['BaseboneConstraintType']['NONE'],this['baseboneConstraintUV']=new J['V3'](),this['baseboneRelativeConstraintUV']=new J['V3'](),this['baseboneRelativeReferenceConstraintUV']=new J['V3'](),this['lastTargetLocation']=new J['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['lastBaseLocation']=new J['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['currentSolveDistance']=b['MAX_VALUE'],this['connectedChainNumber']=-0x1,this['connectedBoneNumber']=-0x1,this['boneConnectionPoint']=b['ConnectionType']['END'],this['isFullForward']=!0x1,this['embeddedTarget']=new J['V3'](),this['useEmbeddedTarget']=!0x1;}return _0x1080d5['prototype']['clone']=function(){var _0x2870d0=new _0x1080d5();return _0x2870d0['solveDistanceThreshold']=this['solveDistanceThreshold'],_0x2870d0['minIterationChange']=this['minIterationChange'],_0x2870d0['maxIteration']=this['maxIteration'],_0x2870d0['precision']=this['precision'],_0x2870d0['bones']=this['cloneBones'](),_0x2870d0['baseLocation']['copy'](this['baseLocation']),_0x2870d0['lastTargetLocation']['copy'](this['lastTargetLocation']),_0x2870d0['lastBaseLocation']['copy'](this['lastBaseLocation']),this['baseboneConstraintType']!==b['BaseboneConstraintType']['NONE']&&(_0x2870d0['baseboneConstraintUV']['copy'](this['baseboneConstraintUV']),_0x2870d0['baseboneRelativeConstraintUV']['copy'](this['baseboneRelativeConstraintUV'])),_0x2870d0['fixedBaseMode']=this['fixedBaseMode'],_0x2870d0['chainLength']=this['chainLength'],_0x2870d0['numBones']=this['numBones'],_0x2870d0['currentSolveDistance']=this['currentSolveDistance'],_0x2870d0['boneConnectionPoint']=this['boneConnectionPoint'],_0x2870d0['connectedChainNumber']=this['connectedChainNumber'],_0x2870d0['connectedBoneNumber']=this['connectedBoneNumber'],_0x2870d0['baseboneConstraintType']=this['baseboneConstraintType'],_0x2870d0['embeddedTarget']=this['embeddedTarget']['clone'](),_0x2870d0['useEmbeddedTarget']=this['useEmbeddedTarget'],_0x2870d0;},_0x1080d5['prototype']['clear']=function(){for(var _0x5ecbe3=this['numBones'];_0x5ecbe3--;)this['removeBone'](_0x5ecbe3);this['numBones']=0x0;},_0x1080d5['prototype']['addBone']=function(_0x133b52){this['bones']['push'](_0x133b52),this['numBones']++,this['numBones']===0x1&&(this['baseLocation']['copy'](_0x133b52['start']),this['baseboneConstraintUV']['copy'](_0x133b52['getDirectionUV']())),this['updateChainLength']();},_0x1080d5['prototype']['removeBone']=function(_0x271904){_0x271904<this['numBones']&&(this['bones']['splice'](_0x271904,0x1),this['numBones']--,this['updateChainLength']());},_0x1080d5['prototype']['addConsecutiveBone']=function(_0x103ab0,_0x3969d5){this['numBones']>0x0&&this['addBone'](new It['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0x103ab0['normalised'](),_0x3969d5));},_0x1080d5['prototype']['addConsecutiveFreelyRotatingHingedBone']=function(_0x17c767,_0x2db421,_0x2e2e0d,_0x1e64f7){this['addConsecutiveHingedBone'](_0x17c767,_0x2db421,_0x2e2e0d,_0x1e64f7,0xb4,0xb4,At['_Math']['genPerpendicularVectorQuick'](_0x1e64f7));},_0x1080d5['prototype']['addConsecutiveHingedBone']=function(_0x3931c7,_0x71847b,_0x48f800,_0x2c788a,_0x45c117,_0x539a85,_0x426184){if(this['numBones']!==0x0){var _0x80c038=_0x3931c7['normalised'](),_0x48fb23=_0x2c788a['normalised'](),_0x26e6df=new It['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0x80c038,_0x71847b);_0x48f800=_0x48f800||'global',_0x26e6df['joint']['setHinge'](_0x48f800==='global'?b['JointType']['J_GLOBAL']:b['JointType']['J_LOCAL'],_0x48fb23,_0x45c117,_0x539a85,_0x426184),this['addBone'](_0x26e6df);}},_0x1080d5['prototype']['addConsecutiveRotorConstrainedBone']=function(_0x15c173,_0x11f769,_0x507794){if(this['numBones']!==0x0){_0x15c173=_0x15c173['normalised']();var _0x30fbec=new It['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0x15c173,_0x11f769);_0x30fbec['joint']['setAsBallJoint'](_0x507794),this['addBone'](_0x30fbec);}},_0x1080d5['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x1080d5['prototype']['getConnectedBoneNumber']=function(){return this['connectedBoneNumber'];},_0x1080d5['prototype']['getConnectedChainNumber']=function(){return this['connectedChainNumber'];},_0x1080d5['prototype']['getBaseboneConstraintType']=function(){return this['baseboneConstraintType'];},_0x1080d5['prototype']['getBaseboneConstraintUV']=function(){if(this['baseboneConstraintType']!==b['BaseboneConstraintType']['NONE'])return this['baseboneConstraintUV'];},_0x1080d5['prototype']['getBaseLocation']=function(){return this['bones'][0x0]['start'];},_0x1080d5['prototype']['getEffectorLocation']=function(){return this['bones'][this['numBones']-0x1]['end'];},_0x1080d5['prototype']['getLastTargetLocation']=function(){return this['lastTargetLocation'];},_0x1080d5['prototype']['getLiveChainLength']=function(){for(var _0x366a91=0x0,_0x2072eb=this['numBones'];_0x2072eb--;)_0x366a91+=this['bones'][_0x2072eb]['getLength']();return _0x366a91;},_0x1080d5['prototype']['getBaseboneRelativeReferenceConstraintUV']=function(){return this['baseboneRelativeReferenceConstraintUV'];},_0x1080d5['prototype']['setConnectedBoneNumber']=function(_0x331cb1){this['connectedBoneNumber']=_0x331cb1;},_0x1080d5['prototype']['setConnectedChainNumber']=function(_0x24a346){this['connectedChainNumber']=_0x24a346;},_0x1080d5['prototype']['setBoneConnectionPoint']=function(_0x1b38ea){this['boneConnectionPoint']=_0x1b38ea;},_0x1080d5['prototype']['setBaseboneRelativeConstraintUV']=function(_0x2da6dd){_0x2da6dd&&(this['baseboneRelativeConstraintUV']=_0x2da6dd['normalised']());},_0x1080d5['prototype']['setBaseboneRelativeReferenceConstraintUV']=function(_0x46d87f){this['baseboneRelativeReferenceConstraintUV']=_0x46d87f['normalised']();},_0x1080d5['prototype']['setBaseboneConstraintUV']=function(_0x64720e){this['baseboneConstraintUV']=_0x64720e['normalised']();},_0x1080d5['prototype']['setRotorBaseboneConstraint']=function(_0x5e5764,_0x5a23e3,_0x237391){if(this['numBones']===0x0){nt['Tools']['error']('Chain\x20must\x20contain\x20a\x20basebone\x20before\x20we\x20can\x20specify\x20the\x20basebone\x20constraint\x20type.');return;}if(!(_0x5a23e3['length']()>0x0)){nt['Tools']['error']('Constraint\x20axis\x20cannot\x20be\x20zero.');return;}_0x5e5764=_0x5e5764||'global',this['baseboneConstraintType']=_0x5e5764==='global'?b['BaseboneConstraintType']['GLOBAL_ROTOR']:b['BaseboneConstraintType']['LOCAL_ROTOR'],this['baseboneConstraintUV']=_0x5a23e3['normalised'](),this['baseboneRelativeConstraintUV']['copy'](this['baseboneConstraintUV']),this['bones'][0x0]['joint']['setAsBallJoint'](_0x237391);},_0x1080d5['prototype']['setHingeBaseboneConstraint']=function(_0x404010,_0x24c461,_0x34747d,_0x2ab76a,_0xe43a1a){if(this['numBones']===0x0){nt['Tools']['error']('Chain\x20must\x20contain\x20a\x20basebone\x20before\x20we\x20can\x20specify\x20the\x20basebone\x20constraint\x20type.');return;}if(_0x24c461['length']()<=0x0){nt['Tools']['error']('Hinge\x20rotation\x20axis\x20cannot\x20be\x20zero.');return;}if(_0xe43a1a['length']()<=0x0){nt['Tools']['error']('Hinge\x20reference\x20axis\x20cannot\x20be\x20zero.');return;}if(!At['_Math']['perpendicular'](_0x24c461,_0xe43a1a)){nt['Tools']['error']('The\x20hinge\x20reference\x20axis\x20must\x20be\x20in\x20the\x20plane\x20of\x20the\x20hinge\x20rotation\x20axis,\x20that\x20is,\x20they\x20must\x20be\x20perpendicular.');return;}_0x404010=_0x404010||'global',this['baseboneConstraintType']=_0x404010==='global'?b['BaseboneConstraintType']['GLOBAL_HINGE']:b['BaseboneConstraintType']['LOCAL_HINGE'],this['baseboneConstraintUV']=_0x24c461['normalised'](),this['bones'][0x0]['joint']['setHinge'](_0x404010==='global'?b['JointType']['J_GLOBAL']:b['JointType']['J_LOCAL'],_0x24c461,_0x34747d,_0x2ab76a,_0xe43a1a);},_0x1080d5['prototype']['setFreelyRotatingGlobalHingedBasebone']=function(_0x4541b4){this['setHingeBaseboneConstraint']('global',_0x4541b4,0xb4,0xb4,At['_Math']['genPerpendicularVectorQuick'](_0x4541b4));},_0x1080d5['prototype']['setGlobalHingedBasebone']=function(_0x3aae5b,_0x54090d,_0x3aa70e,_0x1cc662){this['setHingeBaseboneConstraint']('global',_0x3aae5b,_0x54090d,_0x3aa70e,_0x1cc662);},_0x1080d5['prototype']['setFreelyRotatingLocalHingedBasebone']=function(_0x235eca){this['setHingeBaseboneConstraint']('local',_0x235eca,0xb4,0xb4,At['_Math']['genPerpendicularVectorQuick'](_0x235eca));},_0x1080d5['prototype']['setLocalHingedBasebone']=function(_0x2f4f66,_0x461c27,_0x44a5e9,_0x5d1cc4){this['setHingeBaseboneConstraint']('local',_0x2f4f66,_0x461c27,_0x44a5e9,_0x5d1cc4);},_0x1080d5['prototype']['setBaseLocation']=function(_0x3e9980){this['baseLocation']['copy'](_0x3e9980);},_0x1080d5['prototype']['setFixedBaseMode']=function(_0x3cb9aa){!_0x3cb9aa&&this['connectedChainNumber']!==-0x1||this['baseboneConstraintType']===b['BaseboneConstraintType']['GLOBAL_ROTOR']&&!_0x3cb9aa||(this['fixedBaseMode']=_0x3cb9aa);},_0x1080d5['prototype']['setMaxIterationAttempts']=function(_0xfbb960){_0xfbb960<0x1||(this['maxIteration']=_0xfbb960);},_0x1080d5['prototype']['setMinIterationChange']=function(_0x34f1d2){_0x34f1d2<0x0||(this['minIterationChange']=_0x34f1d2);},_0x1080d5['prototype']['setSolveDistanceThreshold']=function(_0x26b860){_0x26b860<0x0||(this['solveDistanceThreshold']=_0x26b860);},_0x1080d5['prototype']['solveForEmbeddedTarget']=function(){if(this['useEmbeddedTarget'])return this['solveForTarget'](this['embeddedTarget']);},_0x1080d5['prototype']['resetTarget']=function(){this['lastBaseLocation']=new J['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['currentSolveDistance']=b['MAX_VALUE'];},_0x1080d5['prototype']['solveForTarget']=function(_0x26a07c){this['tmpTarget']['set'](_0x26a07c['x'],_0x26a07c['y'],_0x26a07c['z']);var _0x4e1e98=this['precision'],_0x5ed1cd=this['lastBaseLocation']['approximatelyEquals'](this['baseLocation'],_0x4e1e98);if(this['lastTargetLocation']['approximatelyEquals'](this['tmpTarget'],_0x4e1e98)&&_0x5ed1cd)return this['currentSolveDistance'];var _0x2c031b,_0x22ed64=null;_0x5ed1cd?(_0x2c031b=this['bones'][this['numBones']-0x1]['end']['distanceTo'](this['tmpTarget']),_0x22ed64=this['cloneBones']()):_0x2c031b=b['MAX_VALUE'];for(var _0x46583f=[],_0x49410d=b['MAX_VALUE'],_0x24ed9b=b['MAX_VALUE'],_0x5bbe5c,_0x1663d6=this['maxIteration'];_0x1663d6--;){if(_0x5bbe5c=this['solveIK'](this['tmpTarget']),_0x5bbe5c!==void 0x0&&_0x5bbe5c<_0x49410d){if(_0x49410d=_0x5bbe5c,_0x46583f=this['cloneBones'](),_0x5bbe5c<=this['solveDistanceThreshold'])break;}else if(_0x5bbe5c===void 0x0||Math['abs'](_0x5bbe5c-_0x24ed9b)<this['minIterationChange'])break;_0x24ed9b=_0x5bbe5c;}return _0x49410d<_0x2c031b?(this['currentSolveDistance']=_0x49410d,this['bones']=_0x46583f):(this['currentSolveDistance']=_0x2c031b,this['bones']=_0x22ed64||this['bones']),this['lastBaseLocation']['copy'](this['baseLocation']),this['lastTargetLocation']['copy'](this['tmpTarget']),this['currentSolveDistance'];},_0x1080d5['prototype']['solveIK']=function(_0x10feee){if(this['numBones']!==0x0){for(var _0x5cc12a,_0xbf7b79,_0x1dd872,_0x445a57,_0x3aea55,_0x51ba51,_0x37cf8f=this['tmpMtx'],_0x29b980=this['numBones'];_0x29b980--;)if(_0x5cc12a=this['bones'][_0x29b980],_0xbf7b79=_0x5cc12a['length'],_0x1dd872=_0x5cc12a['joint'],_0x445a57=_0x1dd872['type'],_0x29b980!==this['numBones']-0x1){_0x3aea55=this['bones'][_0x29b980+0x1];var _0x270851=_0x3aea55['getDirectionUV']()['negate'](),_0x288b7e=_0x5cc12a['getDirectionUV']()['negate']();switch(_0x445a57){case b['JointType']['J_BALL']:_0x288b7e['limitAngle'](_0x270851,_0x37cf8f,_0x1dd872['rotor']);break;case b['JointType']['J_GLOBAL']:_0x51ba51=_0x1dd872['getHingeRotationAxis'](),_0x288b7e['projectOnPlane'](_0x51ba51);break;case b['JointType']['J_LOCAL']:_0x29b980>0x0?(_0x37cf8f['createRotationMatrix'](this['bones'][_0x29b980-0x1]['getDirectionUV']()),_0x51ba51=_0x1dd872['getHingeRotationAxis']()['clone']()['applyM3'](_0x37cf8f)):_0x51ba51=this['baseboneRelativeConstraintUV'],_0x288b7e['projectOnPlane'](_0x51ba51);break;}var _0x38695d=_0x5cc12a['end']['plus'](_0x288b7e['multiplyScalar'](_0xbf7b79));_0x5cc12a['setStartLocation'](_0x38695d),_0x29b980>0x0&&this['bones'][_0x29b980-0x1]['setEndLocation'](_0x38695d);}else{_0x5cc12a['setEndLocation'](_0x10feee);var _0x288b7e=_0x5cc12a['getDirectionUV']()['negated']();switch(_0x445a57){case b['JointType']['J_BALL']:break;case b['JointType']['J_GLOBAL']:_0x51ba51=_0x1dd872['getHingeRotationAxis'](),_0x288b7e['projectOnPlane'](_0x51ba51);break;case b['JointType']['J_LOCAL']:_0x37cf8f['createRotationMatrix'](this['bones'][_0x29b980-0x1]['getDirectionUV']()),_0x51ba51=_0x1dd872['getHingeRotationAxis']()['clone']()['applyM3'](_0x37cf8f),_0x288b7e['projectOnPlane'](_0x51ba51);break;}var _0x38695d=_0x10feee['plus'](_0x288b7e['multiplyScalar'](_0xbf7b79));_0x5cc12a['setStartLocation'](_0x38695d),_0x29b980>0x0&&this['bones'][_0x29b980-0x1]['setEndLocation'](_0x38695d);}for(_0x29b980=0x0;_0x29b980<this['numBones'];_0x29b980++)if(_0x5cc12a=this['bones'][_0x29b980],_0xbf7b79=_0x5cc12a['length'],_0x1dd872=_0x5cc12a['joint'],_0x445a57=_0x1dd872['type'],_0x29b980!==0x0){var _0x5b18ff=_0x5cc12a['getDirectionUV'](),_0xcbfbc9=this['bones'][_0x29b980-0x1]['getDirectionUV'](),_0x140dd5=void 0x0,_0x3ae836=void 0x0;switch(_0x445a57){case b['JointType']['J_BALL']:_0x5b18ff['limitAngle'](_0xcbfbc9,_0x37cf8f,_0x1dd872['rotor']);break;case b['JointType']['J_GLOBAL']:_0x140dd5=_0x1dd872['getHingeRotationAxis'](),_0x3ae836=_0x1dd872['getHingeReferenceAxis'](),_0x5b18ff['projectOnPlane'](_0x140dd5),_0x1dd872['freeHinge']||_0x5b18ff['constrainedUV'](_0x3ae836,_0x140dd5,_0x37cf8f,_0x1dd872['min'],_0x1dd872['max']);break;case b['JointType']['J_LOCAL']:_0x37cf8f['createRotationMatrix'](_0xcbfbc9),_0x140dd5=_0x1dd872['getHingeRotationAxis']()['clone']()['applyM3'](_0x37cf8f),_0x3ae836=_0x1dd872['getHingeReferenceAxis']()['clone']()['applyM3'](_0x37cf8f),_0x5b18ff['projectOnPlane'](_0x140dd5),_0x1dd872['freeHinge']||_0x5b18ff['constrainedUV'](_0x3ae836,_0x140dd5,_0x37cf8f,_0x1dd872['min'],_0x1dd872['max']);break;}var _0x3f0a2e=_0x5cc12a['start']['plus'](_0x5b18ff['multiplyScalar'](_0xbf7b79));_0x5cc12a['setEndLocation'](_0x3f0a2e),_0x29b980<this['numBones']-0x1&&this['bones'][_0x29b980+0x1]['setStartLocation'](_0x3f0a2e);}else{this['fixedBaseMode']?_0x5cc12a['setStartLocation'](this['baseLocation']):_0x5cc12a['setStartLocation'](_0x5cc12a['end']['minus'](_0x5cc12a['getDirectionUV']()['multiplyScalar'](_0xbf7b79)));var _0x5b18ff=_0x5cc12a['getDirectionUV'](),_0x31c4a0=void 0x0,_0x3ae836=void 0x0;switch(this['baseboneConstraintType']){case b['BaseboneConstraintType']['NONE']:break;case b['BaseboneConstraintType']['GLOBAL_ROTOR']:_0x5b18ff['limitAngle'](this['baseboneConstraintUV'],_0x37cf8f,_0x1dd872['rotor']);break;case b['BaseboneConstraintType']['LOCAL_ROTOR']:_0x5b18ff['limitAngle'](this['baseboneRelativeConstraintUV'],_0x37cf8f,_0x1dd872['rotor']);break;case b['BaseboneConstraintType']['GLOBAL_HINGE']:_0x31c4a0=_0x1dd872['getHingeRotationAxis'](),_0x3ae836=_0x1dd872['getHingeReferenceAxis'](),_0x5b18ff['projectOnPlane'](_0x31c4a0),_0x1dd872['freeHinge']||_0x5b18ff['constrainedUV'](_0x3ae836,_0x31c4a0,_0x37cf8f,_0x1dd872['min'],_0x1dd872['max']);break;case b['BaseboneConstraintType']['LOCAL_HINGE']:_0x31c4a0=this['baseboneRelativeConstraintUV'],_0x3ae836=this['baseboneRelativeReferenceConstraintUV'],_0x5b18ff['projectOnPlane'](_0x31c4a0),_0x1dd872['freeHinge']||_0x5b18ff['constrainedUV'](_0x3ae836,_0x31c4a0,_0x37cf8f,_0x1dd872['min'],_0x1dd872['max']);break;}var _0x3f0a2e=_0x5cc12a['start']['plus'](_0x5b18ff['multiplyScalar'](_0xbf7b79));_0x5cc12a['setEndLocation'](_0x3f0a2e),this['numBones']>0x1&&this['bones'][0x1]['setStartLocation'](_0x3f0a2e);}return this['lastTargetLocation']['copy'](_0x10feee),this['bones'][this['numBones']-0x1]['end']['distanceTo'](_0x10feee);}},_0x1080d5['prototype']['updateChainLength']=function(){this['chainLength']=0x0;for(var _0x525d2c=this['numBones'];_0x525d2c--;)this['chainLength']+=this['bones'][_0x525d2c]['length'];},_0x1080d5['prototype']['cloneBones']=function(){for(var _0x11407c=[],_0x16242b=0x0,_0xbaabbb=this['bones']['length'];_0x16242b<_0xbaabbb;_0x16242b++)_0x11407c['push'](this['bones'][_0x16242b]['clone']());return _0x11407c;},_0x1080d5['isChain3D']=!0x0,_0x1080d5;}());Rt['Chain3D']=Ri;var Lt={};Object['defineProperty'](Lt,'__esModule',{'value':!0x0});Lt['Structure3D']=void 0x0;var Z=W,Li=ot,Ei=(function(){function _0x424256(){this['fixedBaseMode']=!0x0,this['chains']=[],this['targets']=[],this['numChains']=0x0,this['tmpMtx']=new Li['M3']();}return _0x424256['prototype']['update']=function(){for(var _0x4f2e9f,_0x4cc55a,_0x43498d,_0x3bc975,_0x48e6a5,_0x191cd0,_0x160a51=0x0;_0x160a51<this['numChains'];_0x160a51++){if(_0x4cc55a=this['chains'][_0x160a51],_0x43498d=this['targets'][_0x160a51],_0x3bc975=_0x4cc55a['getConnectedChainNumber'](),_0x3bc975!==-0x1){_0x48e6a5=this['chains'][_0x3bc975]['bones'][_0x4cc55a['getConnectedBoneNumber']()],_0x4cc55a['setBaseLocation'](_0x4cc55a['getBoneConnectionPoint']()===Z['ConnectionType']['START']?_0x48e6a5['start']:_0x48e6a5['end']),_0x191cd0=_0x4cc55a['getBaseboneConstraintType']();var _0x302e6d=void 0x0;switch(_0x191cd0){case Z['BaseboneConstraintType']['NONE']:case Z['BaseboneConstraintType']['GLOBAL_ROTOR']:case Z['BaseboneConstraintType']['GLOBAL_HINGE']:break;case Z['BaseboneConstraintType']['LOCAL_ROTOR']:case Z['BaseboneConstraintType']['LOCAL_HINGE']:this['tmpMtx']['createRotationMatrix'](_0x48e6a5['getDirectionUV']()),_0x302e6d=(_0x4f2e9f=_0x4cc55a['getBaseboneConstraintUV']())===null||_0x4f2e9f===void 0x0?void 0x0:_0x4f2e9f['clone']()['applyM3'](this['tmpMtx']),_0x4cc55a['setBaseboneRelativeConstraintUV'](_0x302e6d),_0x191cd0===Z['BaseboneConstraintType']['LOCAL_HINGE']&&_0x4cc55a['setBaseboneRelativeReferenceConstraintUV'](_0x4cc55a['bones'][0x0]['joint']['getHingeReferenceAxis']()['clone']()['applyM3'](this['tmpMtx']));break;}}_0x4cc55a['useEmbeddedTarget']?_0x4cc55a['solveForEmbeddedTarget']():_0x4cc55a['solveForTarget'](_0x43498d);}},_0x424256['prototype']['clear']=function(){var _0xcdf60f;for(_0xcdf60f=this['numChains'];_0xcdf60f--;)this['remove'](_0xcdf60f);this['chains']=[],this['targets']=[];},_0x424256['prototype']['add']=function(_0x2d2828,_0x1a305a){this['chains']['push'](_0x2d2828),this['targets']['push'](_0x1a305a),this['numChains']++;},_0x424256['prototype']['remove']=function(_0x100665){this['chains'][_0x100665]['clear'](),this['chains']['splice'](_0x100665,0x1),this['targets']['splice'](_0x100665,0x1),this['numChains']--;},_0x424256['prototype']['setFixedBaseMode']=function(_0xefe470){this['fixedBaseMode']=_0xefe470;for(var _0x33917c=this['numChains'],_0x44fd4e;_0x33917c--;)_0x44fd4e=this['chains'][_0x33917c]['getConnectedChainNumber'](),_0x44fd4e===-0x1&&this['chains'][_0x33917c]['setFixedBaseMode'](this['fixedBaseMode']);},_0x424256['prototype']['getNumChains']=function(){return this['numChains'];},_0x424256['prototype']['getChain']=function(_0x1c17e7){return this['chains'][_0x1c17e7];},_0x424256['prototype']['connectChain']=function(_0x1df566,_0x53da74,_0x3b41ce,_0x6cee4e,_0x1ed41f){var _0x4cfe92=_0x53da74,_0x5acf5d=_0x3b41ce;if(!(_0x53da74>this['numChains'])&&!(_0x3b41ce>this['chains'][_0x53da74]['numBones'])){var _0x22cb3a=_0x1df566['clone']();_0x22cb3a['setBoneConnectionPoint'](_0x6cee4e==='end'?Z['ConnectionType']['END']:Z['ConnectionType']['START']),_0x22cb3a['setConnectedChainNumber'](_0x4cfe92),_0x22cb3a['setConnectedBoneNumber'](_0x5acf5d);var _0x14fbfd=_0x6cee4e==='end'?this['chains'][_0x4cfe92]['bones'][_0x5acf5d]['end']:this['chains'][_0x4cfe92]['bones'][_0x5acf5d]['start'];_0x22cb3a['setBaseLocation'](_0x14fbfd),_0x22cb3a['setFixedBaseMode'](!0x0);for(var _0x4e289d=0x0;_0x4e289d<_0x22cb3a['numBones'];_0x4e289d++)_0x22cb3a['bones'][_0x4e289d]['start']['add'](_0x14fbfd),_0x22cb3a['bones'][_0x4e289d]['end']['add'](_0x14fbfd);this['add'](_0x22cb3a,_0x1ed41f);}},_0x424256;}());Lt['Structure3D']=Ei;var mt={};Object['defineProperty'](mt,'__esModule',{'value':!0x0});mt['Joint2D']=void 0x0;var Q=W,zi=(function(){function _0x57ed94(_0x437701,_0x22f8dd,_0x4596a3){_0x437701===void 0x0&&(_0x437701=0x0),this['isJoint2D']=!0x0,this['coordinateSystem']=_0x4596a3||Q['JointType']['J_LOCAL'],_0x437701<0x0&&(_0x437701*=-0x1),this['min']=_0x437701!==void 0x0?-_0x437701*Q['TORAD']:-Q['PI'],this['max']=_0x22f8dd!==void 0x0?_0x22f8dd*Q['TORAD']:Q['PI'];}return _0x57ed94['prototype']['clone']=function(){var _0x482d4c=new _0x57ed94();return _0x482d4c['coordinateSystem']=this['coordinateSystem'],_0x482d4c['max']=this['max'],_0x482d4c['min']=this['min'],_0x482d4c;},_0x57ed94['prototype']['validateAngle']=function(_0x3fd10e){return _0x3fd10e=_0x3fd10e<0x0?0x0:_0x3fd10e,_0x3fd10e=_0x3fd10e>0xb4?0xb4:_0x3fd10e,_0x3fd10e;},_0x57ed94['prototype']['set']=function(_0x27a995){this['max']=_0x27a995['max'],this['min']=_0x27a995['min'],this['coordinateSystem']=_0x27a995['coordinateSystem'];},_0x57ed94['prototype']['setClockwiseConstraintDegs']=function(_0xe91ac0){_0xe91ac0<0x0&&(_0xe91ac0*=-0x1),this['min']=-(this['validateAngle'](_0xe91ac0)*Q['TORAD']);},_0x57ed94['prototype']['setAnticlockwiseConstraintDegs']=function(_0x2381f6){this['max']=this['validateAngle'](_0x2381f6)*Q['TORAD'];},_0x57ed94['prototype']['setConstraintCoordinateSystem']=function(_0xb53ebc){this['coordinateSystem']=_0xb53ebc;},_0x57ed94['prototype']['getConstraintCoordinateSystem']=function(){return this['coordinateSystem'];},_0x57ed94;}());mt['Joint2D']=zi;var ft={};Object['defineProperty'](ft,'__esModule',{'value':!0x0});ft['Bone2D']=void 0x0;var Si=W,Di=mt,Ft=et,Pi=(function(){function _0x4deaa6(_0x21f267,_0x20017d,_0x252ec8,_0x2d4766,_0x22e547,_0x1a386a){this['isBone2D']=!0x0,this['globalConstraintUV']=new Ft['V2'](0x1,0x0),this['boneConnectionPoint']=Si['ConnectionType']['END'],this['start']=new Ft['V2'](),this['end']=new Ft['V2'](),this['length']=_0x2d4766||0x0,this['joint']=new Di['Joint2D'](_0x22e547,_0x1a386a),this['name']='',this['setStartLocation'](_0x21f267),_0x20017d?(this['setEndLocation'](_0x20017d),this['length']===0x0&&(this['length']=this['getLength']())):_0x252ec8&&this['setEndLocation'](this['start']['plus'](_0x252ec8['normalised']()['multiplyScalar'](this['length'])));}return _0x4deaa6['prototype']['clone']=function(){var _0x40cc73=new _0x4deaa6(this['start'],this['end']);return _0x40cc73['length']=this['length'],_0x40cc73['globalConstraintUV']=this['globalConstraintUV'],_0x40cc73['boneConnectionPoint']=this['boneConnectionPoint'],_0x40cc73['joint']=this['joint']['clone'](),_0x40cc73['name']=this['name'],_0x40cc73;},_0x4deaa6['prototype']['setName']=function(_0x651f1a){this['name']=_0x651f1a;},_0x4deaa6['prototype']['setBoneConnectionPoint']=function(_0x6ebe77){this['boneConnectionPoint']=_0x6ebe77;},_0x4deaa6['prototype']['setStartLocation']=function(_0x382685){this['start']['copy'](_0x382685);},_0x4deaa6['prototype']['setEndLocation']=function(_0x5319f2){this['end']['copy'](_0x5319f2);},_0x4deaa6['prototype']['setLength']=function(_0x506aeb){_0x506aeb>0x0&&(this['length']=_0x506aeb);},_0x4deaa6['prototype']['setGlobalConstraintUV']=function(_0x5bc245){this['globalConstraintUV']=_0x5bc245;},_0x4deaa6['prototype']['setJoint']=function(_0x3212b0){this['joint']=_0x3212b0;},_0x4deaa6['prototype']['setClockwiseConstraintDegs']=function(_0x5424a5){this['joint']['setClockwiseConstraintDegs'](_0x5424a5);},_0x4deaa6['prototype']['setAnticlockwiseConstraintDegs']=function(_0x32ab22){this['joint']['setAnticlockwiseConstraintDegs'](_0x32ab22);},_0x4deaa6['prototype']['setJointConstraintCoordinateSystem']=function(_0xa14f04){this['joint']['setConstraintCoordinateSystem'](_0xa14f04);},_0x4deaa6['prototype']['getGlobalConstraintUV']=function(){return this['globalConstraintUV'];},_0x4deaa6['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x4deaa6['prototype']['getDirectionUV']=function(){return this['end']['minus'](this['start'])['normalize']();},_0x4deaa6['prototype']['getLength']=function(){return this['start']['distanceTo'](this['end']);},_0x4deaa6;}());ft['Bone2D']=Pi;var Et={};Object['defineProperty'](Et,'__esModule',{'value':!0x0});Et['Chain2D']=void 0x0;var L=W,at=Ut,$=et,kt=ft,Ii=it,Fi=(function(){function _0x51e8da(){this['tmpTarget']=new $['V2'](),this['bones']=[],this['name']='',this['solveDistanceThreshold']=0x1,this['minIterationChange']=0.01,this['maxIteration']=0xf,this['precision']=0.001,this['chainLength']=0x0,this['numBones']=0x0,this['baseLocation']=new $['V2'](),this['fixedBaseMode']=!0x0,this['baseboneConstraintType']=L['BaseboneConstraintType']['NONE'],this['baseboneConstraintUV']=new $['V2'](),this['baseboneRelativeConstraintUV']=new $['V2'](),this['lastTargetLocation']=new $['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['lastBaseLocation']=new $['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['boneConnectionPoint']=L['ConnectionType']['END'],this['currentSolveDistance']=L['MAX_VALUE'],this['connectedChainNumber']=-0x1,this['connectedBoneNumber']=-0x1,this['embeddedTarget']=new $['V2'](),this['useEmbeddedTarget']=!0x1;}return _0x51e8da['prototype']['clone']=function(){var _0x397e28=new _0x51e8da();return _0x397e28['solveDistanceThreshold']=this['solveDistanceThreshold'],_0x397e28['minIterationChange']=this['minIterationChange'],_0x397e28['maxIteration']=this['maxIteration'],_0x397e28['precision']=this['precision'],_0x397e28['bones']=this['cloneBones'](),_0x397e28['baseLocation']['copy'](this['baseLocation']),_0x397e28['lastTargetLocation']['copy'](this['lastTargetLocation']),_0x397e28['lastBaseLocation']['copy'](this['lastBaseLocation']),this['baseboneConstraintType']!==L['BaseboneConstraintType']['NONE']&&(_0x397e28['baseboneConstraintUV']['copy'](this['baseboneConstraintUV']),_0x397e28['baseboneRelativeConstraintUV']['copy'](this['baseboneRelativeConstraintUV'])),_0x397e28['fixedBaseMode']=this['fixedBaseMode'],_0x397e28['chainLength']=this['chainLength'],_0x397e28['numBones']=this['numBones'],_0x397e28['currentSolveDistance']=this['currentSolveDistance'],_0x397e28['boneConnectionPoint']=this['boneConnectionPoint'],_0x397e28['connectedChainNumber']=this['connectedChainNumber'],_0x397e28['connectedBoneNumber']=this['connectedBoneNumber'],_0x397e28['baseboneConstraintType']=this['baseboneConstraintType'],_0x397e28['embeddedTarget']=this['embeddedTarget']['clone'](),_0x397e28['useEmbeddedTarget']=this['useEmbeddedTarget'],_0x397e28;},_0x51e8da['prototype']['clear']=function(){for(var _0x25ada2=this['numBones'];_0x25ada2--;)this['removeBone'](_0x25ada2);},_0x51e8da['prototype']['addBone']=function(_0x146ca0){this['bones']['push'](_0x146ca0),this['numBones']===0x0&&(this['baseLocation']['copy'](_0x146ca0['start']),this['baseboneConstraintUV']['copy'](_0x146ca0['getDirectionUV']())),this['numBones']++,this['updateChainLength']();},_0x51e8da['prototype']['removeBone']=function(_0x2403a3){_0x2403a3<this['numBones']&&(this['bones']['splice'](_0x2403a3,0x1),this['numBones']--,this['updateChainLength']());},_0x51e8da['prototype']['addConsecutiveBone']=function(_0x61573e,_0x8c0862,_0x2f90e5,_0x1e0b0c){if(this['numBones']===0x0){Ii['Tools']['error']('Chain\x20is\x20empty\x20!\x20need\x20first\x20bone');return;}if(_0x61573e instanceof kt['Bone2D']){var _0x809b6f=_0x61573e,_0x4ffd01=_0x809b6f['getDirectionUV']();at['_Math']['validateDirectionUV'](_0x4ffd01);var _0x428629=_0x809b6f['length'];at['_Math']['validateLength'](_0x428629);var _0x5bf084=this['bones'][this['numBones']-0x1]['end'];_0x809b6f['setStartLocation'](_0x5bf084),_0x809b6f['setEndLocation'](_0x5bf084['plus'](_0x4ffd01['multiplyScalar'](_0x428629))),this['addBone'](_0x809b6f);}else if(_0x61573e instanceof $['V2']){at['_Math']['validateDirectionUV'](_0x61573e),at['_Math']['validateLength'](_0x8c0862);var _0x5bf084=this['bones'][this['numBones']-0x1]['end'];this['addBone'](new kt['Bone2D'](_0x5bf084,void 0x0,_0x61573e['normalised'](),_0x8c0862,_0x2f90e5,_0x1e0b0c));}},_0x51e8da['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x51e8da['prototype']['getConnectedBoneNumber']=function(){return this['connectedBoneNumber'];},_0x51e8da['prototype']['getConnectedChainNumber']=function(){return this['connectedChainNumber'];},_0x51e8da['prototype']['getEmbeddedTarget']=function(){return this['embeddedTarget'];},_0x51e8da['prototype']['getBaseboneConstraintType']=function(){return this['baseboneConstraintType'];},_0x51e8da['prototype']['getBaseboneConstraintUV']=function(){if(this['baseboneConstraintType']!==L['BaseboneConstraintType']['NONE'])return this['baseboneConstraintUV'];},_0x51e8da['prototype']['getBaseLocation']=function(){return this['bones'][0x0]['start'];},_0x51e8da['prototype']['getEffectorLocation']=function(){return this['bones'][this['numBones']-0x1]['end'];},_0x51e8da['prototype']['getLastTargetLocation']=function(){return this['lastTargetLocation'];},_0x51e8da['prototype']['getLiveChainLength']=function(){for(var _0xbb8a6d=0x0,_0x2454f2=this['numBones'];_0x2454f2--;)_0xbb8a6d+=this['bones'][_0x2454f2]['getLength']();return _0xbb8a6d;},_0x51e8da['prototype']['setBaseboneRelativeConstraintUV']=function(_0x1fae7a){_0x1fae7a&&(this['baseboneRelativeConstraintUV']=_0x1fae7a);},_0x51e8da['prototype']['setConnectedBoneNumber']=function(_0x21cfdd){this['connectedBoneNumber']=_0x21cfdd;},_0x51e8da['prototype']['setConnectedChainNumber']=function(_0x15d783){this['connectedChainNumber']=_0x15d783;},_0x51e8da['prototype']['setBoneConnectionPoint']=function(_0x4c4540){this['boneConnectionPoint']=_0x4c4540;},_0x51e8da['prototype']['setBaseboneConstraintUV']=function(_0x57e0c0){at['_Math']['validateDirectionUV'](_0x57e0c0),this['baseboneConstraintUV']['copy'](_0x57e0c0['normalised']());},_0x51e8da['prototype']['setBaseLocation']=function(_0x2e5550){this['baseLocation']['copy'](_0x2e5550);},_0x51e8da['prototype']['setBaseboneConstraintType']=function(_0x5120d1){this['baseboneConstraintType']=_0x5120d1;},_0x51e8da['prototype']['setFixedBaseMode']=function(_0x516674){!_0x516674&&this['connectedChainNumber']!==-0x1||this['baseboneConstraintType']===L['BaseboneConstraintType']['GLOBAL_ABSOLUTE']&&!_0x516674||(this['fixedBaseMode']=_0x516674);},_0x51e8da['prototype']['setMaxIterationAttempts']=function(_0x1d0960){_0x1d0960<0x1||(this['maxIteration']=_0x1d0960);},_0x51e8da['prototype']['setMinIterationChange']=function(_0x1c43a5){_0x1c43a5<0x0||(this['minIterationChange']=_0x1c43a5);},_0x51e8da['prototype']['setSolveDistanceThreshold']=function(_0x3060ba){_0x3060ba<0x0||(this['solveDistanceThreshold']=_0x3060ba);},_0x51e8da['prototype']['solveForEmbeddedTarget']=function(){if(this['useEmbeddedTarget'])return this['solveForTarget'](this['embeddedTarget']);},_0x51e8da['prototype']['resetTarget']=function(){this['lastBaseLocation']=new $['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['currentSolveDistance']=L['MAX_VALUE'];},_0x51e8da['prototype']['solveForTarget']=function(_0x5c0f31){this['tmpTarget']['set'](_0x5c0f31['x'],_0x5c0f31['y']);var _0x4e9619=this['precision'],_0x243eb5=this['lastBaseLocation']['approximatelyEquals'](this['baseLocation'],_0x4e9619);if(this['lastTargetLocation']['approximatelyEquals'](this['tmpTarget'],_0x4e9619)&&_0x243eb5)return this['currentSolveDistance'];var _0x538e83,_0x317eb1=null;_0x243eb5?(_0x538e83=this['bones'][this['numBones']-0x1]['end']['distanceTo'](this['tmpTarget']),_0x317eb1=this['cloneBones']()):_0x538e83=L['MAX_VALUE'];for(var _0x122144=[],_0xc8f70d=L['MAX_VALUE'],_0x57395c=L['MAX_VALUE'],_0x31b80f,_0x5fdfbe=this['maxIteration'];_0x5fdfbe--;){if(_0x31b80f=this['solveIK'](this['tmpTarget']),_0x31b80f!==void 0x0&&_0x31b80f<_0xc8f70d){if(_0xc8f70d=_0x31b80f,_0x122144=this['cloneBones'](),_0x31b80f<=this['solveDistanceThreshold'])break;}else if(_0x31b80f===void 0x0||Math['abs'](_0x31b80f-_0x57395c)<this['minIterationChange'])break;_0x57395c=_0x31b80f;}return _0xc8f70d<_0x538e83?(this['currentSolveDistance']=_0xc8f70d,this['bones']=_0x122144):(this['currentSolveDistance']=_0x538e83,this['bones']=_0x317eb1||this['bones']),this['lastBaseLocation']['copy'](this['baseLocation']),this['lastTargetLocation']['copy'](this['tmpTarget']),this['currentSolveDistance'];},_0x51e8da['prototype']['solveIK']=function(_0x3345f0){if(this['numBones']!==0x0){for(var _0x3eef73,_0x26da66,_0x3506ec,_0x5a8342,_0x365c13,_0x242e08,_0x12f8aa,_0x285269=this['numBones'];_0x285269--;)_0x3eef73=this['bones'][_0x285269],_0x26da66=_0x3eef73['length'],_0x285269!==this['numBones']-0x1?(_0x3506ec=this['bones'][_0x285269+0x1],_0x242e08=_0x3eef73['getDirectionUV']()['negate'](),_0x12f8aa=_0x3eef73['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?_0x3506ec['getDirectionUV']()['negate']():_0x3eef73['getGlobalConstraintUV']()['negated'](),_0x242e08['constrainedUV'](_0x12f8aa,_0x3506ec['joint']['min'],_0x3506ec['joint']['max']),_0x5a8342=_0x3eef73['end']['plus'](_0x242e08['multiplyScalar'](_0x26da66)),_0x3eef73['setStartLocation'](_0x5a8342),_0x285269>0x0&&this['bones'][_0x285269-0x1]['setEndLocation'](_0x5a8342)):(_0x3eef73['setEndLocation'](_0x3345f0),_0x242e08=_0x3eef73['getDirectionUV']()['negate'](),_0x285269>0x0?(_0x12f8aa=_0x3eef73['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?this['bones'][_0x285269-0x1]['getDirectionUV']()['negate']():_0x3eef73['getGlobalConstraintUV']()['negated'](),_0x242e08['constrainedUV'](_0x12f8aa,_0x3eef73['joint']['min'],_0x3eef73['joint']['max'])):_0x3eef73['joint']['coordinateSystem']!==L['JointType']['J_LOCAL']&&(_0x12f8aa=_0x3eef73['getGlobalConstraintUV']()['negated'](),_0x242e08['constrainedUV'](_0x12f8aa,_0x3eef73['joint']['min'],_0x3eef73['joint']['max'])),_0x5a8342=_0x3eef73['end']['plus'](_0x242e08['multiplyScalar'](_0x26da66)),_0x3eef73['setStartLocation'](_0x5a8342),_0x285269>0x0&&this['bones'][_0x285269-0x1]['setEndLocation'](_0x5a8342));for(_0x285269=0x0;_0x285269<this['numBones'];_0x285269++)_0x3eef73=this['bones'][_0x285269],_0x26da66=_0x3eef73['length'],_0x285269!==0x0?(_0x242e08=_0x3eef73['getDirectionUV'](),_0x12f8aa=_0x3eef73['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?this['bones'][_0x285269-0x1]['getDirectionUV']():_0x3eef73['getGlobalConstraintUV'](),_0x242e08['constrainedUV'](_0x12f8aa,_0x3eef73['joint']['min'],_0x3eef73['joint']['max']),_0x365c13=_0x3eef73['start']['plus'](_0x242e08['multiplyScalar'](_0x26da66)),_0x3eef73['setEndLocation'](_0x365c13),_0x285269<this['numBones']-0x1&&this['bones'][_0x285269+0x1]['setStartLocation'](_0x365c13)):(this['fixedBaseMode']?_0x3eef73['setStartLocation'](this['baseLocation']):(_0x5a8342=_0x3eef73['end']['minus'](_0x3eef73['getDirectionUV']()['multiplyScalar'](_0x26da66)),_0x3eef73['setStartLocation'](_0x5a8342)),_0x242e08=_0x3eef73['getDirectionUV'](),this['baseboneConstraintType']===L['BaseboneConstraintType']['NONE']?(_0x365c13=_0x3eef73['start']['plus'](_0x242e08['multiplyScalar'](_0x26da66)),_0x3eef73['setEndLocation'](_0x365c13),this['numBones']>0x1&&this['bones'][0x1]['setStartLocation'](_0x365c13)):(_0x12f8aa=this['baseboneConstraintType']===L['BaseboneConstraintType']['LOCAL_ABSOLUTE']?this['baseboneRelativeConstraintUV']:this['baseboneConstraintUV'],_0x242e08['constrainedUV'](_0x12f8aa,_0x3eef73['joint']['min'],_0x3eef73['joint']['max']),_0x365c13=_0x3eef73['start']['plus'](_0x242e08['multiplyScalar'](_0x26da66)),_0x3eef73['setEndLocation'](_0x365c13),_0x285269<this['numBones']-0x1&&this['bones'][_0x285269+0x1]['setStartLocation'](_0x365c13)));return this['lastTargetLocation']['copy'](_0x3345f0),this['bones'][this['numBones']-0x1]['end']['distanceTo'](_0x3345f0);}},_0x51e8da['prototype']['updateChainLength']=function(){this['chainLength']=0x0;for(var _0x3e2b93=this['numBones'];_0x3e2b93--;)this['chainLength']+=this['bones'][_0x3e2b93]['length'];},_0x51e8da['prototype']['cloneBones']=function(){for(var _0x5ed01a=[],_0x561f3f=0x0,_0xbf1ecc=this['bones']['length'];_0x561f3f<_0xbf1ecc;_0x561f3f++)_0x5ed01a['push'](this['bones'][_0x561f3f]['clone']());return _0x5ed01a;},_0x51e8da['isChain2D']=!0x0,_0x51e8da;}());Et['Chain2D']=Fi;var zt={};Object['defineProperty'](zt,'__esModule',{'value':!0x0});zt['Structure2D']=void 0x0;var tt=W,jt=it,Oi=(function(){function _0x264a15(){this['fixedBaseMode']=!0x0,this['chains']=[],this['targets']=[],this['numChains']=0x0;}return _0x264a15['prototype']['update']=function(){for(var _0x2938ab,_0x542fde,_0x1970eb,_0x235d96,_0x5bf465,_0x490357=0x0;_0x490357<this['numChains'];_0x490357++){if(_0x542fde=this['chains'][_0x490357],_0x1970eb=this['targets'][_0x490357]||null,_0x235d96=_0x542fde['getConnectedChainNumber'](),_0x5bf465=_0x542fde['getBaseboneConstraintType'](),_0x235d96!==-0x1&&_0x5bf465!==tt['BaseboneConstraintType']['GLOBAL_ABSOLUTE']){var _0x5bce86=this['chains'][_0x235d96]['bones'][_0x542fde['getConnectedBoneNumber']()];_0x542fde['setBaseLocation'](_0x542fde['getBoneConnectionPoint']()===tt['ConnectionType']['START']?_0x5bce86['start']:_0x5bce86['end']);var _0x108cfb=_0x5bce86['getDirectionUV']();if(_0x5bf465===tt['BaseboneConstraintType']['LOCAL_RELATIVE'])_0x542fde['setBaseboneConstraintUV'](_0x108cfb);else if(_0x5bf465===tt['BaseboneConstraintType']['LOCAL_ABSOLUTE']){var _0x15c32e=tt['UP']['getSignedAngle'](_0x108cfb),_0x2a50d9=(_0x2938ab=_0x542fde['getBaseboneConstraintUV']())===null||_0x2938ab===void 0x0?void 0x0:_0x2938ab['clone']()['rotate'](_0x15c32e);_0x542fde['setBaseboneRelativeConstraintUV'](_0x2a50d9);}}_0x542fde['useEmbeddedTarget']?console['log']('embed',_0x542fde['solveForEmbeddedTarget']()):_0x542fde['solveForTarget'](_0x1970eb);}},_0x264a15['prototype']['setFixedBaseMode']=function(_0x554fec){this['fixedBaseMode']=_0x554fec;for(var _0xf6e999=this['numChains'],_0x263e4f;_0xf6e999--;)_0x263e4f=this['chains'][_0xf6e999]['getConnectedChainNumber'](),_0x263e4f===-0x1&&this['chains'][_0xf6e999]['setFixedBaseMode'](this['fixedBaseMode']);},_0x264a15['prototype']['clear']=function(){var _0x5d31df;for(_0x5d31df=this['numChains'];_0x5d31df--;)this['remove'](_0x5d31df);this['chains']=[],this['targets']=[];},_0x264a15['prototype']['add']=function(_0x48772b,_0x3ffa2e){this['chains']['push'](_0x48772b),this['numChains']++,_0x3ffa2e&&this['targets']['push'](_0x3ffa2e);},_0x264a15['prototype']['remove']=function(_0x9d9c2d){this['chains'][_0x9d9c2d]['clear'](),this['chains']['splice'](_0x9d9c2d,0x1),this['targets']['splice'](_0x9d9c2d,0x1),this['numChains']--;},_0x264a15['prototype']['getNumChains']=function(){return this['numChains'];},_0x264a15['prototype']['getChain']=function(_0x161596){return this['chains'][_0x161596];},_0x264a15['prototype']['connectChain']=function(_0xe387f2,_0x128fae,_0x4332a2,_0x392578){var _0x3a37bd=_0x128fae,_0x3b896c=_0x4332a2;if(_0x392578=_0x392578||'end',_0x3a37bd>this['numChains']){jt['Tools']['error']('Chain\x20does\x20not\x20exist!');return;}if(_0x3b896c>this['chains'][_0x3a37bd]['numBones']){jt['Tools']['error']('Bone\x20does\x20not\x20exist!');return;}var _0x44c523=_0xe387f2['clone']();_0x44c523['setBoneConnectionPoint'](_0x392578==='end'?tt['ConnectionType']['END']:tt['ConnectionType']['START']),_0x44c523['setConnectedChainNumber'](_0x3a37bd),_0x44c523['setConnectedBoneNumber'](_0x3b896c);var _0x449cc1=_0x392578==='end'?this['chains'][_0x3a37bd]['bones'][_0x3b896c]['end']:this['chains'][_0x3a37bd]['bones'][_0x3b896c]['start'];_0x44c523['setBaseLocation'](_0x449cc1),_0x44c523['setFixedBaseMode'](!0x0);for(var _0x1a909e=0x0;_0x1a909e<_0x44c523['numBones'];_0x1a909e++)_0x44c523['bones'][_0x1a909e]['start']['add'](_0x449cc1),_0x44c523['bones'][_0x1a909e]['end']['add'](_0x449cc1);},_0x264a15['isStructure2D']=!0x0,_0x264a15;}());zt['Structure2D']=Oi;(function(_0x22be94){var _0x33ba87=bt&&bt['__createBinding']||(Object['create']?function(_0x2139db,_0x457137,_0xe8bc98,_0x42c787){_0x42c787===void 0x0&&(_0x42c787=_0xe8bc98);var _0x202ddd=Object['getOwnPropertyDescriptor'](_0x457137,_0xe8bc98);(!_0x202ddd||('get'in _0x202ddd?!_0x457137['__esModule']:_0x202ddd['writable']||_0x202ddd['configurable']))&&(_0x202ddd={'enumerable':!0x0,'get':function(){return _0x457137[_0xe8bc98];}}),Object['defineProperty'](_0x2139db,_0x42c787,_0x202ddd);}:function(_0x126aa5,_0x4a695f,_0x374252,_0x1b17db){_0x1b17db===void 0x0&&(_0x1b17db=_0x374252),_0x126aa5[_0x1b17db]=_0x4a695f[_0x374252];}),_0xd20fe=bt&&bt['__exportStar']||function(_0x1ce677,_0x444802){for(var _0x470e07 in _0x1ce677)_0x470e07!=='default'&&!Object['prototype']['hasOwnProperty']['call'](_0x444802,_0x470e07)&&_0x33ba87(_0x444802,_0x1ce677,_0x470e07);};Object['defineProperty'](_0x22be94,'__esModule',{'value':!0x0}),_0x22be94['Structure2D']=_0x22be94['Chain2D']=_0x22be94['Bone2D']=_0x22be94['Joint2D']=_0x22be94['Structure3D']=_0x22be94['Chain3D']=_0x22be94['Bone3D']=_0x22be94['Joint3D']=_0x22be94['M3']=_0x22be94['V3']=_0x22be94['V2']=_0x22be94['_Math']=void 0x0;var _0x15cf80=Ut;Object['defineProperty'](_0x22be94,'_Math',{'enumerable':!0x0,'get':function(){return _0x15cf80['_Math'];}});var _0x1ca2b8=et;Object['defineProperty'](_0x22be94,'V2',{'enumerable':!0x0,'get':function(){return _0x1ca2b8['V2'];}});var _0x187eb1=G;Object['defineProperty'](_0x22be94,'V3',{'enumerable':!0x0,'get':function(){return _0x187eb1['V3'];}});var _0x572627=ot;Object['defineProperty'](_0x22be94,'M3',{'enumerable':!0x0,'get':function(){return _0x572627['M3'];}});var _0x32d20e=ut;Object['defineProperty'](_0x22be94,'Joint3D',{'enumerable':!0x0,'get':function(){return _0x32d20e['Joint3D'];}});var _0x21d084=ct;Object['defineProperty'](_0x22be94,'Bone3D',{'enumerable':!0x0,'get':function(){return _0x21d084['Bone3D'];}});var _0xb6b38=Rt;Object['defineProperty'](_0x22be94,'Chain3D',{'enumerable':!0x0,'get':function(){return _0xb6b38['Chain3D'];}});var _0x52d6ef=Lt;Object['defineProperty'](_0x22be94,'Structure3D',{'enumerable':!0x0,'get':function(){return _0x52d6ef['Structure3D'];}});var _0x25bc08=mt;Object['defineProperty'](_0x22be94,'Joint2D',{'enumerable':!0x0,'get':function(){return _0x25bc08['Joint2D'];}});var _0x3ccc58=ft;Object['defineProperty'](_0x22be94,'Bone2D',{'enumerable':!0x0,'get':function(){return _0x3ccc58['Bone2D'];}});var _0x58f0af=Et;Object['defineProperty'](_0x22be94,'Chain2D',{'enumerable':!0x0,'get':function(){return _0x58f0af['Chain2D'];}});var _0xd4984=zt;Object['defineProperty'](_0x22be94,'Structure2D',{'enumerable':!0x0,'get':function(){return _0xd4984['Structure2D'];}}),_0xd20fe(W,_0x22be94);}(Bt));class q extends H{constructor(_0x4edd31){super();o(this,'name');o(this,'boneLength');if(this['name']=_0x4edd31,this['name']=='root'){this['boneLength']=0.05;const _0x737178=new q('upperArm');_0x737178['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x737178);}else if(this['name']=='upperArm'){this['boneLength']=0.5,this['rotation']=D['makeRotationY'](X['degreesToRadians'](-0x2d));const _0x28c3c5=new q('middleArm');_0x28c3c5['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x28c3c5);}else if(this['name']=='middleArm'){this['boneLength']=0.4,this['rotation']=D['makeRotationZ'](X['degreesToRadians'](0x2d));const _0x317971=new q('lowerArm');_0x317971['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x317971);}else if(this['name']=='lowerArm'){this['boneLength']=0.4,this['rotation']=D['makeRotationZ'](X['degreesToRadians'](0x2d));const _0x5226c1=new q('endEffector');_0x5226c1['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x5226c1);}else this['name']=='endEffector'?this['boneLength']=0.1:this['boneLength']=0x0;}['createMeshes'](){if(this['name']=='root'){const _0x17a399=new K(0.5,this['boneLength'],0.5);_0x17a399['translateY'](this['boneLength']/0x2),this['add'](_0x17a399);const _0x24ee4a=new pt(0.1,0x2);_0x24ee4a['scale']['set'](0x1,0.5,0x1),_0x24ee4a['translateY'](this['boneLength']),this['add'](_0x24ee4a);}else if(this['name']=='upperArm'){const _0x3d0f90=new K(0.05,this['boneLength'],0.05);_0x3d0f90['translateY'](this['boneLength']/0x2),this['add'](_0x3d0f90);const _0x1a1426=new pt(0.05,0x1);_0x1a1426['translateY'](this['boneLength']),this['add'](_0x1a1426);}else if(this['name']=='middleArm'){const _0x573ad5=new K(0.05,this['boneLength'],0.05);_0x573ad5['translateY'](this['boneLength']/0x2),this['add'](_0x573ad5);const _0x52419d=new pt(0.05,0x1);_0x52419d['translateY'](this['boneLength']),this['add'](_0x52419d);}else if(this['name']=='lowerArm'){const _0x5e677e=new K(0.05,this['boneLength'],0.05);_0x5e677e['translateY'](this['boneLength']/0x2),this['add'](_0x5e677e);const _0x26ff48=new pt(0.05,0x1);_0x26ff48['translateY'](this['boneLength']),this['add'](_0x26ff48);}else if(this['name']=='endEffector'){const _0x3d44cd=new K(0.025,this['boneLength'],0.025),_0x56c59f=new gt(_0x3d44cd);_0x56c59f['rotateY'](X['degreesToRadians'](0x5a)),_0x56c59f['rotateZ'](X['degreesToRadians'](0x2d)),_0x56c59f['translateY'](this['boneLength']/0x2+0.03),this['add'](_0x56c59f);const _0x5ad83b=new gt(_0x3d44cd);_0x5ad83b['translateY'](this['boneLength']/0x2-0.01),_0x5ad83b['rotateZ'](X['degreesToRadians'](-0x4b)),_0x5ad83b['translateY'](this['boneLength']/0x2-0.01),_0x56c59f['add'](_0x5ad83b);const _0x338b29=new gt(_0x3d44cd);_0x338b29['rotateY'](X['degreesToRadians'](0x5a)),_0x338b29['rotateZ'](X['degreesToRadians'](-0x2d)),_0x338b29['translateY'](this['boneLength']/0x2+0.03),this['add'](_0x338b29);const _0x5d5b20=new gt(_0x3d44cd);_0x5d5b20['translateY'](this['boneLength']/0x2-0.01),_0x5d5b20['rotateZ'](X['degreesToRadians'](0x4b)),_0x5d5b20['translateY'](this['boneLength']/0x2-0.01),_0x338b29['add'](_0x5d5b20);}this['children']['forEach'](_0x22b099=>{_0x22b099 instanceof q&&_0x22b099['createMeshes']();});}['setPose'](_0x3de4a7,_0x3b4a9f){this['name']==_0x3de4a7?this['rotation']['copy'](_0x3b4a9f):this['children']['forEach'](_0x28af64=>{_0x28af64 instanceof q&&_0x28af64['setPose'](_0x3de4a7,_0x3b4a9f);});}['createChain'](_0x43d375){this['name']=='upperArm'||this['name']!='root',this['children']['forEach'](_0xecb586=>{_0xecb586 instanceof q&&_0xecb586['createChain'](_0x43d375);});}}class Vi extends H{constructor(){super();o(this,'root');o(this,'ikSolver');o(this,'ikChain');this['root']=new q('root'),this['add'](this['root']),this['ikChain']=new Bt['Chain3D'](),this['root']['createChain'](this['ikChain']),this['ikSolver']=new Bt['Structure3D'](),this['ikSolver']['add'](this['ikChain'],new Bt['V3']());}['createMeshes'](){this['root']['createMeshes']();}['setPose'](_0x340d8f,_0x1c1ee5){this['root']['setPose'](_0x340d8f,_0x1c1ee5);}['update'](_0x1f478a){}}class Ni extends S{constructor(){super();o(this,'cameraControls');o(this,'target');o(this,'robot');this['cameraControls']=new li(this['camera']),this['target']=new ui(0.2,0.01,0.025),this['robot']=new Vi();}['createScene'](){this['camera']['setPerspectiveCamera'](0x3c,0x780/0x438,0.1,0x14),this['cameraControls']['setTargetPoint'](new m(0x0,0.6,0x0)),this['cameraControls']['setDistance'](1.5),this['renderer']['background']['set'](0x0,0x0,0x0);const _0x28d0b1=new ci(new m(0.3,0.3,0.3));this['scene']['add'](_0x28d0b1);const _0x212d54=new mi(new m(0.6,0.6,0.6));_0x212d54['position']['set'](0x2,0x1,0x3),this['scene']['add'](_0x212d54);const _0x36ccc6=0xa,_0x203412=[];for(let _0x19c3cf=-_0x36ccc6/0x2;_0x19c3cf<=_0x36ccc6/0x2;_0x19c3cf++)_0x203412['push'](-_0x36ccc6/0x2,0x0,_0x19c3cf),_0x203412['push'](_0x36ccc6/0x2,0x0,_0x19c3cf),_0x203412['push'](_0x19c3cf,0x0,-_0x36ccc6/0x2),_0x203412['push'](_0x19c3cf,0x0,_0x36ccc6/0x2);const _0x490bc0=new Ht(Ot['LINES']);_0x490bc0['setVertices'](_0x203412),_0x490bc0['createDefaultVertexColors'](),_0x490bc0['material']['color']['set'](0.5,0.5,0.5),this['scene']['add'](_0x490bc0),this['robot']['createMeshes'](),this['scene']['add'](this['robot']),this['target']['position']['set'](0.5,0.6,-0.5),this['scene']['add'](this['target']);}['update'](_0x318504){this['target']['update'](_0x318504),this['target']['isSelected']()?this['cameraControls']['freeze']():this['cameraControls']['update'](_0x318504),this['robot']['update'](_0x318504);}}const Yi=new Ni();Yi['start']();