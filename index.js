var Wt=Object['defineProperty'];var Jt=(_0x1ea384,_0x303c60,_0x22af67)=>_0x303c60 in _0x1ea384?Wt(_0x1ea384,_0x303c60,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x22af67}):_0x1ea384[_0x303c60]=_0x22af67;var o=(_0x393ed6,_0x5c5019,_0x4ae7b0)=>(Jt(_0x393ed6,typeof _0x5c5019!='symbol'?_0x5c5019+'':_0x5c5019,_0x4ae7b0),_0x4ae7b0);(function(){const _0x530179=document['createElement']('link')['relList'];if(_0x530179&&_0x530179['supports']&&_0x530179['supports']('modulepreload'))return;for(const _0x18f503 of document['querySelectorAll']('link[rel=\x22modulepreload\x22]'))_0x322434(_0x18f503);new MutationObserver(_0x53a9dd=>{for(const _0x18a534 of _0x53a9dd)if(_0x18a534['type']==='childList')for(const _0x1a9176 of _0x18a534['addedNodes'])_0x1a9176['tagName']==='LINK'&&_0x1a9176['rel']==='modulepreload'&&_0x322434(_0x1a9176);})['observe'](document,{'childList':!0x0,'subtree':!0x0});function _0x3daefc(_0x14e662){const _0x5f4b16={};return _0x14e662['integrity']&&(_0x5f4b16['integrity']=_0x14e662['integrity']),_0x14e662['referrerpolicy']&&(_0x5f4b16['referrerPolicy']=_0x14e662['referrerpolicy']),_0x14e662['crossorigin']==='use-credentials'?_0x5f4b16['credentials']='include':_0x14e662['crossorigin']==='anonymous'?_0x5f4b16['credentials']='omit':_0x5f4b16['credentials']='same-origin',_0x5f4b16;}function _0x322434(_0x4069cc){if(_0x4069cc['ep'])return;_0x4069cc['ep']=!0x0;const _0x524ebf=_0x3daefc(_0x4069cc);fetch(_0x4069cc['href'],_0x524ebf);}}());const z=class{constructor(_0x3e3a65=0x0,_0x49cc37=0x0,_0x24a8ec=0x0,_0x4e0e1b=0x1){o(this,'r');o(this,'g');o(this,'b');o(this,'a');this['r']=_0x3e3a65,this['g']=_0x49cc37,this['b']=_0x24a8ec,this['a']=_0x4e0e1b;}static['copy'](_0x1c8ea7){const _0x4459e9=new z();return _0x4459e9['r']=_0x1c8ea7['r'],_0x4459e9['g']=_0x1c8ea7['g'],_0x4459e9['b']=_0x1c8ea7['b'],_0x4459e9['a']=_0x1c8ea7['a'],_0x4459e9;}static['lerp'](_0x3bcb7a,_0x59816d,_0x2f96a2){return new z(_0x3bcb7a['r']*(0x1-_0x2f96a2)+_0x59816d['r']*_0x2f96a2,_0x3bcb7a['g']*(0x1-_0x2f96a2)+_0x59816d['g']*_0x2f96a2,_0x3bcb7a['b']*(0x1-_0x2f96a2)+_0x59816d['b']*_0x2f96a2,_0x3bcb7a['a']*(0x1-_0x2f96a2)+_0x59816d['a']*_0x2f96a2);}static['add'](_0x135ad9,_0x54318b){return new z(_0x135ad9['r']+_0x54318b['r'],_0x135ad9['g']+_0x54318b['g'],_0x135ad9['b']+_0x54318b['b']);}static['subtract'](_0xad0264,_0x4b048c){return new z(_0xad0264['r']-_0x4b048c['r'],_0xad0264['g']-_0x4b048c['g'],_0xad0264['b']-_0x4b048c['b']);}static['multiply'](_0x8e13a5,_0x3173d5){return new z(_0x8e13a5['r']*_0x3173d5['r'],_0x8e13a5['g']*_0x3173d5['g'],_0x8e13a5['b']*_0x3173d5['b']);}static['divide'](_0x1031fb,_0x21ab05){return new z(_0x1031fb['r']/_0x21ab05['r'],_0x1031fb['g']/_0x21ab05['g'],_0x1031fb['b']/_0x21ab05['b']);}static['multiplyScalar'](_0x55f032,_0x264c02){return new z(_0x55f032['r']*_0x264c02,_0x55f032['g']*_0x264c02,_0x55f032['b']*_0x264c02);}static['divideScalar'](_0x1b59a3,_0x6381ad){return new z(_0x1b59a3['r']/_0x6381ad,_0x1b59a3['g']/_0x6381ad,_0x1b59a3['b']/_0x6381ad);}['set'](_0x207ded=0x0,_0x365411=0x0,_0x5bafcb=0x0,_0x4b668d=0x1){this['r']=_0x207ded,this['g']=_0x365411,this['b']=_0x5bafcb,this['a']=_0x4b668d;}['copy'](_0x594a47){this['r']=_0x594a47['r'],this['g']=_0x594a47['g'],this['b']=_0x594a47['b'],this['a']=_0x594a47['a'];}['clone'](){return new z(this['r'],this['g'],this['b'],this['a']);}['lerp'](_0x3c3a75,_0x34701b,_0x4f3427){this['r']=_0x3c3a75['r']*(0x1-_0x4f3427)+_0x34701b['r']*_0x4f3427,this['g']=_0x3c3a75['g']*(0x1-_0x4f3427)+_0x34701b['g']*_0x4f3427,this['b']=_0x3c3a75['b']*(0x1-_0x4f3427)+_0x34701b['b']*_0x4f3427,this['a']=_0x3c3a75['b']*(0x1-_0x4f3427)+_0x34701b['a']*_0x4f3427;}['add'](_0x313865){this['r']+=_0x313865['r'],this['g']+=_0x313865['g'],this['b']+=_0x313865['b'];}['subtract'](_0xa1b4da){this['r']-=_0xa1b4da['r'],this['g']-=_0xa1b4da['g'],this['b']-=_0xa1b4da['b'];}['multiply'](_0x2e5997){this['r']*=_0x2e5997['r'],this['g']*=_0x2e5997['g'],this['b']*=_0x2e5997['b'];}['divide'](_0x55f2bb){this['r']/=_0x55f2bb['r'],this['g']/=_0x55f2bb['g'],this['b']/=_0x55f2bb['b'];}['multiplyScalar'](_0x2fb6a5){this['r']*=_0x2fb6a5,this['g']*=_0x2fb6a5,this['b']*=_0x2fb6a5;}['divideScalar'](_0xc7d567){this['r']/=_0xc7d567,this['g']/=_0xc7d567,this['b']/=_0xc7d567;}};let M=z;o(M,'WHITE',new z(0x1,0x1,0x1)),o(M,'BLACK',new z(0x0,0x0,0x0)),o(M,'RED',new z(0x1,0x0,0x0)),o(M,'GREEN',new z(0x0,0x1,0x0)),o(M,'BLUE',new z(0x0,0x0,0x1)),o(M,'YELLOW',new z(0x1,0x1,0x0)),o(M,'PURPLE',new z(0x1,0x0,0x1)),o(M,'CYAN',new z(0x0,0x1,0x1));const T=class{constructor(_0x463201=0x0,_0x1d5e91=0x0){o(this,'x');o(this,'y');this['x']=_0x463201,this['y']=_0x1d5e91;}static['copy'](_0x40d0ee){return new T(_0x40d0ee['x'],_0x40d0ee['y']);}static['inverse'](_0x204269){return new T(-_0x204269['x'],-_0x204269['y']);}static['add'](_0x53a76b,_0x21183d){return new T(_0x53a76b['x']+_0x21183d['x'],_0x53a76b['y']+_0x21183d['y']);}static['subtract'](_0x116e1c,_0x2d196){return new T(_0x116e1c['x']-_0x2d196['x'],_0x116e1c['y']-_0x2d196['y']);}static['multiply'](_0xb3c292,_0x31b5e2){return new T(_0xb3c292['x']*_0x31b5e2['x'],_0xb3c292['y']*_0x31b5e2['y']);}static['divide'](_0x1e9558,_0x53a999){return new T(_0x1e9558['x']/_0x53a999['x'],_0x1e9558['y']/_0x53a999['y']);}static['multiplyScalar'](_0x3b1273,_0x43bcea){return new T(_0x3b1273['x']*_0x43bcea,_0x3b1273['y']*_0x43bcea);}static['divideScalar'](_0x49f3df,_0x2d7892){return new T(_0x49f3df['x']/_0x2d7892,_0x49f3df['y']/_0x2d7892);}static['distanceBetween'](_0x5ba4c2,_0x5a5817){return _0x5ba4c2['distanceTo'](_0x5a5817);}static['angleBetween'](_0x55eaf6,_0x2a112d){return _0x55eaf6['angleBetween'](_0x2a112d);}static['angleBetweenSigned'](_0x5372d5,_0x5ec564){return _0x5372d5['angleBetweenSigned'](_0x5ec564);}static['dot'](_0x29c211,_0x47ca88){return _0x29c211['x']*_0x47ca88['x']+_0x29c211['y']*_0x47ca88['y'];}static['normalize'](_0x499c6e){const _0x9bdeb=_0x499c6e['x']*_0x499c6e['x']+_0x499c6e['y']*_0x499c6e['y'];if(_0x9bdeb<1e-8)return new T();const _0x56448c=0x1/Math['sqrt'](_0x9bdeb);return new T(_0x499c6e['x']*_0x56448c,_0x499c6e['y']*_0x56448c);}static['rotate'](_0x281024,_0x467ea3){return new T(Math['cos'](_0x467ea3)*_0x281024['x']-Math['sin'](_0x467ea3)*_0x281024['y'],Math['sin'](_0x467ea3)*_0x281024['x']+Math['cos'](_0x467ea3)*_0x281024['y']);}static['transform'](_0x592c12,_0x2bb99a){const _0x21036e=new T(_0x592c12['x'],_0x592c12['y']);return _0x21036e['transform'](_0x2bb99a),_0x21036e;}static['transformVector'](_0x2e1de5,_0x57c87c){const _0x266fe5=new T(_0x2e1de5['x'],_0x2e1de5['y']);return _0x266fe5['transformVector'](_0x57c87c),_0x266fe5;}['set'](_0x3d717b,_0x5b84eb){this['x']=_0x3d717b,this['y']=_0x5b84eb;}['copy'](_0x5853bf){this['x']=_0x5853bf['x'],this['y']=_0x5853bf['y'];}['clone'](){return new T(this['x'],this['y']);}['equals'](_0x275557){return this['x']==_0x275557['x']&&this['y']==_0x275557['y'];}['add'](_0x11288e){this['x']+=_0x11288e['x'],this['y']+=_0x11288e['y'];}['subtract'](_0x5cb0a8){this['x']-=_0x5cb0a8['x'],this['y']-=_0x5cb0a8['y'];}['multiply'](_0x40258d){this['x']*=_0x40258d['x'],this['y']*=_0x40258d['y'];}['divide'](_0x281c30){this['x']/=_0x281c30['x'],this['y']/=_0x281c30['y'];}['multiplyScalar'](_0x5772c8){this['x']*=_0x5772c8,this['y']*=_0x5772c8;}['divideScalar'](_0x5d7a9c){this['x']/=_0x5d7a9c,this['y']/=_0x5d7a9c;}['distanceTo'](_0x38c12f){return Math['sqrt']((this['x']-_0x38c12f['x'])*(this['x']-_0x38c12f['x'])+(this['y']-_0x38c12f['y'])*(this['y']-_0x38c12f['y']));}['setPositionFromMatrix'](_0x34559a){this['x']=_0x34559a['mat'][0x6],this['y']=_0x34559a['mat'][0x7];}['setScaleFromMatrix'](_0x508670){this['x']=Math['sqrt'](_0x508670['mat'][0x0]*_0x508670['mat'][0x0]+_0x508670['mat'][0x1]*_0x508670['mat'][0x1]),this['y']=Math['sqrt'](_0x508670['mat'][0x3]*_0x508670['mat'][0x3]+_0x508670['mat'][0x4]*_0x508670['mat'][0x4]);}['transform'](_0x2fa765){const _0x1544c1=this['clone'](),_0x4e7675=0x1/(_0x2fa765['mat'][0x2]*_0x1544c1['x']+_0x2fa765['mat'][0x5]*_0x1544c1['y']+_0x2fa765['mat'][0x8]);this['x']=_0x4e7675*(_0x2fa765['mat'][0x0]*_0x1544c1['x']+_0x2fa765['mat'][0x3]*_0x1544c1['y']+_0x2fa765['mat'][0x6]),this['y']=_0x4e7675*(_0x2fa765['mat'][0x1]*_0x1544c1['x']+_0x2fa765['mat'][0x4]*_0x1544c1['y']+_0x2fa765['mat'][0x7]);}['transformVector'](_0x42952d){const _0x11c7c8=this['clone'](),_0x2aed95=0x1/(_0x42952d['mat'][0x2]*_0x11c7c8['x']+_0x42952d['mat'][0x5]*_0x11c7c8['y']);this['x']=_0x2aed95*(_0x42952d['mat'][0x0]*_0x11c7c8['x']+_0x42952d['mat'][0x3]*_0x11c7c8['y']),this['y']=_0x2aed95*(_0x42952d['mat'][0x1]*_0x11c7c8['x']+_0x42952d['mat'][0x4]*_0x11c7c8['y']);}['dot'](_0x4b1ab3){return this['x']*_0x4b1ab3['x']+this['y']*_0x4b1ab3['y'];}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['normalize'](){const _0xc0cc8d=this['x']*this['x']+this['y']*this['y'];if(_0xc0cc8d<1e-8)return;const _0x32b355=0x1/Math['sqrt'](_0xc0cc8d);this['x']*=_0x32b355,this['y']*=_0x32b355;}['invert'](){this['x']=-this['x'],this['y']=-this['y'];}['angleBetween'](_0x2150dd){const _0x4b0dc3=T['normalize'](this),_0x3c886e=T['normalize'](_0x2150dd);return Math['acos'](_0x4b0dc3['dot'](_0x3c886e));}['angleBetweenSigned'](_0x3bbde7){const _0xdc5abf=T['normalize'](this),_0x1d8c34=T['normalize'](_0x3bbde7);return Math['atan2'](_0x1d8c34['y'],_0x1d8c34['x'])-Math['atan2'](_0xdc5abf['y'],_0xdc5abf['x']);}['rotate'](_0x40420d){const _0x50641e=this['x'],_0x1ee716=this['y'];this['x']=Math['cos'](_0x40420d)*_0x50641e-Math['sin'](_0x40420d)*_0x1ee716,this['y']=Math['sin'](_0x40420d)*_0x50641e+Math['cos'](_0x40420d)*_0x1ee716;}};let x=T;o(x,'ZERO',new T(0x0,0x0)),o(x,'ONE',new T(0x1,0x1)),o(x,'UP',new T(0x0,0x1)),o(x,'DOWN',new T(0x0,-0x1)),o(x,'LEFT',new T(-0x1,0x0)),o(x,'RIGHT',new T(0x1,0x0)),o(x,'X_AXIS',T['RIGHT']),o(x,'Y_AXIS',T['UP']);class X{static['degreesToRadians'](_0x95a144){return _0x95a144*Math['PI']/0xb4;}static['radiansToDegrees'](_0x242db0){return _0x242db0*0xb4/Math['PI'];}static['rescale'](_0x4f0cec,_0x1f8c7b,_0x29fc8f,_0x4a474a,_0x369db5){return _0x4a474a+(_0x369db5-_0x4a474a)*(_0x4f0cec-_0x1f8c7b)/(_0x29fc8f-_0x1f8c7b);}static['clamp'](_0x5e057a,_0x1a7679,_0x433780){return Math['max'](_0x1a7679,Math['min'](_0x433780,_0x5e057a));}static['lerp'](_0x683cf5,_0x377752,_0x53d98b){return _0x683cf5*(0x1-_0x53d98b)+_0x377752*_0x53d98b;}}class Zt{constructor(_0x7e0326=!0x1){o(this,'background');o(this,'viewport');o(this,'gfxCanvas');o(this,'gl');this['gfxCanvas']=document['getElementById']('gfxCanvas'),this['gfxCanvas']||alert('Unable\x20to\x20find\x20gfxCanvas.'),this['gfxCanvas']['width']=window['innerWidth'],this['gfxCanvas']['height']=window['innerHeight'];const _0x568e34=this['gfxCanvas']['getContext']('webgl2',{'alpha':!0x1,'stencil':_0x7e0326});_0x568e34||alert('Unable\x20to\x20initialize\x20WebGL.\x20Your\x20browser\x20or\x20machine\x20may\x20not\x20support\x20it.'),this['gl']=_0x568e34,_0x568e34['enable'](_0x568e34['DEPTH_TEST']),_0x568e34['depthFunc'](_0x568e34['LEQUAL']),_0x568e34['enable'](_0x568e34['CULL_FACE']),_0x568e34['cullFace'](_0x568e34['BACK']),_0x568e34['enable'](this['gl']['BLEND']),_0x568e34['blendFuncSeparate'](_0x568e34['SRC_ALPHA'],_0x568e34['ONE_MINUS_SRC_ALPHA'],_0x568e34['ONE'],_0x568e34['ONE_MINUS_SRC_ALPHA']),this['background']=new M(),this['viewport']=0x0;}['resize'](_0x4ed2bf,_0x394bef,_0x42965a){this['gfxCanvas']['width']=_0x4ed2bf,this['gfxCanvas']['height']=_0x394bef,this['viewport']==0x0?_0x42965a>window['innerWidth']/window['innerHeight']?this['gl']['viewport'](0x0,(window['innerHeight']-window['innerWidth']/_0x42965a)/0x2,window['innerWidth'],window['innerWidth']/_0x42965a):this['gl']['viewport']((window['innerWidth']-window['innerHeight']*_0x42965a)/0x2,0x0,window['innerHeight']*_0x42965a,window['innerHeight']):this['viewport']==0x1?_0x42965a>window['innerWidth']/window['innerHeight']?this['gl']['viewport']((window['innerWidth']-window['innerHeight']*_0x42965a)/0x2,0x0,window['innerHeight']*_0x42965a,window['innerHeight']):this['gl']['viewport'](0x0,(window['innerHeight']-window['innerWidth']/_0x42965a)/0x2,window['innerWidth'],window['innerWidth']/_0x42965a):this['gl']['viewport'](0x0,0x0,window['innerWidth'],window['innerHeight']);}['render'](_0x5e7098,_0x2e17a0){_0x2e17a0['projectionMatrixDirty']&&(this['resize'](this['gfxCanvas']['width'],this['gfxCanvas']['height'],_0x2e17a0['getAspectRatio']()),_0x2e17a0['projectionMatrixDirty']=!0x1),this['gl']['clearColor'](this['background']['r'],this['background']['g'],this['background']['b'],this['background']['a']),this['gl']['clear'](this['gl']['COLOR_BUFFER_BIT']|this['gl']['DEPTH_BUFFER_BIT']),_0x5e7098['draw'](_0x2e17a0);}['getNormalizedDeviceCoordinates'](_0x39929a,_0x3c5f00){const _0x3a22c3=this['gl']['getParameter'](this['gl']['VIEWPORT']);return new x(X['clamp']((_0x39929a-_0x3a22c3[0x0])/_0x3a22c3[0x2]*0x2-0x1,-0x1,0x1),X['clamp']((_0x3c5f00-_0x3a22c3[0x1])/_0x3a22c3[0x3]*-0x2+0x1,-0x1,0x1));}}const v=class{constructor(_0x21a1f3=0x0,_0x3b5b71=0x0,_0x1567ea=0x0){o(this,'x');o(this,'y');o(this,'z');this['x']=_0x21a1f3,this['y']=_0x3b5b71,this['z']=_0x1567ea;}static['copy'](_0x25a63c){return new v(_0x25a63c['x'],_0x25a63c['y'],_0x25a63c['z']);}static['inverse'](_0x449c9b){return new v(-_0x449c9b['x'],-_0x449c9b['y'],-_0x449c9b['z']);}static['add'](_0x408810,_0x4092f1){return new v(_0x408810['x']+_0x4092f1['x'],_0x408810['y']+_0x4092f1['y'],_0x408810['z']+_0x4092f1['z']);}static['subtract'](_0x73ce14,_0x3e54d0){return new v(_0x73ce14['x']-_0x3e54d0['x'],_0x73ce14['y']-_0x3e54d0['y'],_0x73ce14['z']-_0x3e54d0['z']);}static['multiply'](_0x387299,_0x464640){return new v(_0x387299['x']*_0x464640['x'],_0x387299['y']*_0x464640['y'],_0x387299['z']*_0x464640['z']);}static['divide'](_0x5e7774,_0xf2a7b){return new v(_0x5e7774['x']/_0xf2a7b['x'],_0x5e7774['y']/_0xf2a7b['y'],_0x5e7774['z']/_0xf2a7b['z']);}static['dot'](_0x137167,_0xcf3078){return _0x137167['x']*_0xcf3078['x']+_0x137167['y']*_0xcf3078['y']+_0x137167['z']*_0xcf3078['z'];}static['cross'](_0x46be2a,_0x5a2c57){return new v(_0x46be2a['y']*_0x5a2c57['z']-_0x46be2a['z']*_0x5a2c57['y'],_0x46be2a['z']*_0x5a2c57['x']-_0x46be2a['x']*_0x5a2c57['z'],_0x46be2a['x']*_0x5a2c57['y']-_0x46be2a['y']*_0x5a2c57['x']);}static['multiplyScalar'](_0x4b04b8,_0x3a4601){return new v(_0x4b04b8['x']*_0x3a4601,_0x4b04b8['y']*_0x3a4601,_0x4b04b8['z']*_0x3a4601);}static['divideScalar'](_0x3f6c94,_0x2a30a8){return new v(_0x3f6c94['x']/_0x2a30a8,_0x3f6c94['y']/_0x2a30a8,_0x3f6c94['z']/_0x2a30a8);}static['normalize'](_0x34bbc8){const _0x367408=_0x34bbc8['x']*_0x34bbc8['x']+_0x34bbc8['y']*_0x34bbc8['y']+_0x34bbc8['z']*_0x34bbc8['z'];if(_0x367408<1e-8)return new v();const _0x49b418=0x1/Math['sqrt'](_0x367408);return new v(_0x34bbc8['x']*_0x49b418,_0x34bbc8['y']*_0x49b418,_0x34bbc8['z']*_0x49b418);}static['angleBetween'](_0x2bdd20,_0xf6c767){return _0x2bdd20['angleBetween'](_0xf6c767);}static['distanceBetween'](_0x5b0172,_0x25d904){return _0x5b0172['distanceTo'](_0x25d904);}static['rotate'](_0x5e4501,_0x4d75e5){const _0x281cae=new v(_0x4d75e5['x'],_0x4d75e5['y'],_0x4d75e5['z']),_0x59586f=v['multiplyScalar'](_0x281cae,0x2*_0x281cae['dot'](_0x5e4501));_0x59586f['add'](v['multiplyScalar'](_0x5e4501,_0x4d75e5['w']*_0x4d75e5['w']-_0x281cae['dot'](_0x281cae)));const _0x23ac3d=_0x281cae['cross'](_0x5e4501);return _0x23ac3d['multiplyScalar'](0x2*_0x4d75e5['w']),_0x59586f['add'](_0x23ac3d),_0x59586f;}static['lerp'](_0x4690da,_0x17c154,_0x40641f){return new v(_0x4690da['x']*(0x1-_0x40641f)+_0x17c154['x']*_0x40641f,_0x4690da['y']*(0x1-_0x40641f)+_0x17c154['y']*_0x40641f,_0x4690da['z']*(0x1-_0x40641f)+_0x17c154['z']*_0x40641f);}static['transform'](_0x1a0e89,_0x40a98b){const _0x35edc6=new v(_0x1a0e89['x'],_0x1a0e89['y'],_0x1a0e89['z']);return _0x35edc6['transform'](_0x40a98b),_0x35edc6;}static['transformVector'](_0x4724da,_0x57f7af){const _0x35625b=new v(_0x4724da['x'],_0x4724da['y'],_0x4724da['z']);return _0x35625b['transformVector'](_0x57f7af),_0x35625b;}['set'](_0x4bfdbc,_0xa1d1f5,_0x870dad){this['x']=_0x4bfdbc,this['y']=_0xa1d1f5,this['z']=_0x870dad;}['copy'](_0x35b0b8){this['x']=_0x35b0b8['x'],this['y']=_0x35b0b8['y'],this['z']=_0x35b0b8['z'];}['clone'](){return new v(this['x'],this['y'],this['z']);}['equals'](_0x84c0c2){return this['x']==_0x84c0c2['x']&&this['y']==_0x84c0c2['y']&&this['z']==_0x84c0c2['z'];}['add'](_0x274b00){this['x']+=_0x274b00['x'],this['y']+=_0x274b00['y'],this['z']+=_0x274b00['z'];}['subtract'](_0x271bfe){this['x']-=_0x271bfe['x'],this['y']-=_0x271bfe['y'],this['z']-=_0x271bfe['z'];}['multiply'](_0x504b7c){this['x']*=_0x504b7c['x'],this['y']*=_0x504b7c['y'],this['z']*=_0x504b7c['z'];}['divide'](_0x2f0cf5){this['x']/=_0x2f0cf5['x'],this['y']/=_0x2f0cf5['y'],this['z']/=_0x2f0cf5['z'];}['dot'](_0x24e456){return this['x']*_0x24e456['x']+this['y']*_0x24e456['y']+this['z']*_0x24e456['z'];}['cross'](_0x3cc3ec){return new v(this['y']*_0x3cc3ec['z']-this['z']*_0x3cc3ec['y'],this['z']*_0x3cc3ec['x']-this['x']*_0x3cc3ec['z'],this['x']*_0x3cc3ec['y']-this['y']*_0x3cc3ec['x']);}['multiplyScalar'](_0x4c33ee){this['x']*=_0x4c33ee,this['y']*=_0x4c33ee,this['z']*=_0x4c33ee;}['divideScalar'](_0x156a27){this['x']/=_0x156a27,this['y']/=_0x156a27,this['z']/=_0x156a27;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['normalize'](){const _0x333b21=this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];if(_0x333b21<1e-8)return;const _0x59f79f=0x1/Math['sqrt'](_0x333b21);this['x']*=_0x59f79f,this['y']*=_0x59f79f,this['z']*=_0x59f79f;}['invert'](){this['x']=-this['x'],this['y']=-this['y'],this['z']=-this['z'];}['transform'](_0x14b186){const _0x46149e=this['clone'](),_0x3ee0fe=0x1/(_0x14b186['mat'][0x3]*_0x46149e['x']+_0x14b186['mat'][0x7]*_0x46149e['y']+_0x14b186['mat'][0xb]*_0x46149e['z']+_0x14b186['mat'][0xf]);this['x']=_0x3ee0fe*(_0x14b186['mat'][0x0]*_0x46149e['x']+_0x14b186['mat'][0x4]*_0x46149e['y']+_0x14b186['mat'][0x8]*_0x46149e['z']+_0x14b186['mat'][0xc]),this['y']=_0x3ee0fe*(_0x14b186['mat'][0x1]*_0x46149e['x']+_0x14b186['mat'][0x5]*_0x46149e['y']+_0x14b186['mat'][0x9]*_0x46149e['z']+_0x14b186['mat'][0xd]),this['z']=_0x3ee0fe*(_0x14b186['mat'][0x2]*_0x46149e['x']+_0x14b186['mat'][0x6]*_0x46149e['y']+_0x14b186['mat'][0xa]*_0x46149e['z']+_0x14b186['mat'][0xe]);}['transformVector'](_0x1d7af8){const _0x3c289a=this['clone'](),_0x582c5c=0x1/(_0x1d7af8['mat'][0x3]*_0x3c289a['x']+_0x1d7af8['mat'][0x7]*_0x3c289a['y']+_0x1d7af8['mat'][0xb]*_0x3c289a['z']);this['x']=_0x582c5c*(_0x1d7af8['mat'][0x0]*_0x3c289a['x']+_0x1d7af8['mat'][0x4]*_0x3c289a['y']+_0x1d7af8['mat'][0x8]*_0x3c289a['z']),this['y']=_0x582c5c*(_0x1d7af8['mat'][0x1]*_0x3c289a['x']+_0x1d7af8['mat'][0x5]*_0x3c289a['y']+_0x1d7af8['mat'][0x9]*_0x3c289a['z']),this['z']=_0x582c5c*(_0x1d7af8['mat'][0x2]*_0x3c289a['x']+_0x1d7af8['mat'][0x6]*_0x3c289a['y']+_0x1d7af8['mat'][0xa]*_0x3c289a['z']);}['rotate'](_0x15e1ca){this['copy'](v['rotate'](this,_0x15e1ca));}['angleBetween'](_0x51d158){const _0x5f1d99=v['normalize'](this),_0x3c2a6f=v['normalize'](_0x51d158);return Math['acos'](_0x5f1d99['dot'](_0x3c2a6f));}['distanceTo'](_0x5cf1f8){return Math['sqrt']((this['x']-_0x5cf1f8['x'])*(this['x']-_0x5cf1f8['x'])+(this['y']-_0x5cf1f8['y'])*(this['y']-_0x5cf1f8['y'])+(this['z']-_0x5cf1f8['z'])*(this['z']-_0x5cf1f8['z']));}['setPositionFromMatrix'](_0x5c2b41){this['x']=_0x5c2b41['mat'][0xc],this['y']=_0x5c2b41['mat'][0xd],this['z']=_0x5c2b41['mat'][0xe];}['setScaleFromMatrix'](_0x1bc13d){this['x']=Math['sqrt'](_0x1bc13d['mat'][0x0]*_0x1bc13d['mat'][0x0]+_0x1bc13d['mat'][0x1]*_0x1bc13d['mat'][0x1]+_0x1bc13d['mat'][0x2]*_0x1bc13d['mat'][0x2]),this['y']=Math['sqrt'](_0x1bc13d['mat'][0x4]*_0x1bc13d['mat'][0x4]+_0x1bc13d['mat'][0x5]*_0x1bc13d['mat'][0x5]+_0x1bc13d['mat'][0x6]*_0x1bc13d['mat'][0x6]),this['z']=Math['sqrt'](_0x1bc13d['mat'][0x8]*_0x1bc13d['mat'][0x8]+_0x1bc13d['mat'][0x9]*_0x1bc13d['mat'][0x9]+_0x1bc13d['mat'][0xa]*_0x1bc13d['mat'][0xa]);}['lerp'](_0x180fc7,_0x1eb8e9,_0x37e86f){this['x']=_0x180fc7['x']*(0x1-_0x37e86f)+_0x1eb8e9['x']*_0x37e86f,this['y']=_0x180fc7['y']*(0x1-_0x37e86f)+_0x1eb8e9['y']*_0x37e86f,this['z']=_0x180fc7['z']*(0x1-_0x37e86f)+_0x1eb8e9['z']*_0x37e86f;}};let m=v;o(m,'ZERO',new v(0x0,0x0,0x0)),o(m,'ONE',new v(0x1,0x1,0x1)),o(m,'UP',new v(0x0,0x1,0x0)),o(m,'DOWN',new v(0x0,-0x1,0x0)),o(m,'LEFT',new v(-0x1,0x0,0x0)),o(m,'RIGHT',new v(0x1,0x0,0x0)),o(m,'FORWARD',new v(0x0,0x0,-0x1)),o(m,'BACK',new v(0x0,0x0,0x1)),o(m,'X_AXIS',v['RIGHT']),o(m,'Y_AXIS',v['UP']),o(m,'Z_AXIS',v['FORWARD']);const P=class{constructor(_0x146c03=0x0,_0x31d34b=0x0,_0x5389a7=0x0,_0x568748=0x1){o(this,'x');o(this,'y');o(this,'z');o(this,'w');this['x']=_0x146c03,this['y']=_0x31d34b,this['z']=_0x5389a7,this['w']=_0x568748;}static['copy'](_0x3670e5){return new P(_0x3670e5['x'],_0x3670e5['y'],_0x3670e5['z'],_0x3670e5['w']);}static['multiply'](_0x149aee,_0x294d11){const _0x4bff81=new P();return _0x4bff81['w']=_0x149aee['w']*_0x294d11['w']-_0x149aee['x']*_0x294d11['x']-_0x149aee['y']*_0x294d11['y']-_0x149aee['z']*_0x294d11['z'],_0x4bff81['x']=_0x149aee['w']*_0x294d11['x']+_0x149aee['x']*_0x294d11['w']+_0x149aee['y']*_0x294d11['z']-_0x149aee['z']*_0x294d11['y'],_0x4bff81['y']=_0x149aee['w']*_0x294d11['y']+_0x149aee['y']*_0x294d11['w']+_0x149aee['z']*_0x294d11['x']-_0x149aee['x']*_0x294d11['z'],_0x4bff81['z']=_0x149aee['w']*_0x294d11['z']+_0x149aee['z']*_0x294d11['w']+_0x149aee['x']*_0x294d11['y']-_0x149aee['y']*_0x294d11['x'],_0x4bff81;}static['normalize'](_0x8ecc){const _0x10bdcf=_0x8ecc['clone']();return _0x10bdcf['normalize'](),_0x10bdcf;}static['inverse'](_0x1ce49c){const _0x395511=_0x1ce49c['clone']();return _0x395511['invert'](),_0x395511;}['makeIdentity'](){return new P(0x0,0x0,0x0,0x1);}static['makeRotationX'](_0x119294){const _0x529751=new P();return _0x529751['setRotationX'](_0x119294),_0x529751;}static['makeRotationY'](_0x203ded){const _0xce4804=new P();return _0xce4804['setRotationY'](_0x203ded),_0xce4804;}static['makeRotationZ'](_0x24186e){const _0x324d31=new P();return _0x324d31['setRotationZ'](_0x24186e),_0x324d31;}static['makeAxisAngle'](_0x182731,_0x3f8a45){const _0xa10a8c=new P();return _0xa10a8c['setAxisAngle'](_0x182731,_0x3f8a45),_0xa10a8c;}static['makeEulerAngles'](_0xa63ea5,_0x4d37bb,_0x5fc889,_0x165ce8='YZX'){const _0x83424e=new P();return _0x83424e['setEulerAngles'](_0xa63ea5,_0x4d37bb,_0x5fc889,_0x165ce8),_0x83424e;}static['makeMatrix'](_0x66fb6e){const _0x314d7c=new P();return _0x314d7c['setMatrix'](_0x66fb6e),_0x314d7c;}static['slerp'](_0x26696a,_0x2aeaf1,_0x15b031){const _0x597b0e=new P();return _0x597b0e['slerp'](_0x26696a,_0x2aeaf1,_0x15b031),_0x597b0e;}['set'](_0x1caa4e,_0x194414,_0xe484d9,_0x256434){this['x']=_0x1caa4e,this['y']=_0x194414,this['z']=_0xe484d9,this['w']=_0x256434;}['setIdentity'](){this['x']=0x0,this['y']=0x0,this['z']=0x0,this['w']=0x1;}['setRotationX'](_0x40d306){this['w']=Math['cos'](_0x40d306/0x2),this['x']=Math['sin'](_0x40d306/0x2),this['y']=0x0,this['z']=0x0;}['setRotationY'](_0x5b9f4a){this['w']=Math['cos'](_0x5b9f4a/0x2),this['x']=0x0,this['y']=Math['sin'](_0x5b9f4a/0x2),this['z']=0x0;}['setRotationZ'](_0x434ff6){this['w']=Math['cos'](_0x434ff6/0x2),this['x']=0x0,this['y']=0x0,this['z']=Math['sin'](_0x434ff6/0x2);}['setAxisAngle'](_0x11acc2,_0x5192eb){const _0x4cc549=Math['sin'](_0x5192eb/0x2);this['w']=Math['cos'](_0x5192eb/0x2),this['x']=_0x4cc549*_0x11acc2['x'],this['y']=_0x4cc549*_0x11acc2['y'],this['z']=_0x4cc549*_0x11acc2['z'];}['setEulerAngles'](_0x158901,_0x4a972c,_0x54ef1f,_0x3bdd0a='YZX'){const _0x5e725b=Math['cos'],_0x202065=Math['sin'],_0x511740=_0x5e725b(_0x158901/0x2),_0x2c0f69=_0x5e725b(_0x4a972c/0x2),_0x3058a6=_0x5e725b(_0x54ef1f/0x2),_0x2a4440=_0x202065(_0x158901/0x2),_0x2c8a1f=_0x202065(_0x4a972c/0x2),_0x31ff4e=_0x202065(_0x54ef1f/0x2);switch(_0x3bdd0a){case'XYZ':this['x']=_0x2a4440*_0x2c0f69*_0x3058a6+_0x511740*_0x2c8a1f*_0x31ff4e,this['y']=_0x511740*_0x2c8a1f*_0x3058a6-_0x2a4440*_0x2c0f69*_0x31ff4e,this['z']=_0x511740*_0x2c0f69*_0x31ff4e+_0x2a4440*_0x2c8a1f*_0x3058a6,this['w']=_0x511740*_0x2c0f69*_0x3058a6-_0x2a4440*_0x2c8a1f*_0x31ff4e;break;case'YXZ':this['x']=_0x2a4440*_0x2c0f69*_0x3058a6+_0x511740*_0x2c8a1f*_0x31ff4e,this['y']=_0x511740*_0x2c8a1f*_0x3058a6-_0x2a4440*_0x2c0f69*_0x31ff4e,this['z']=_0x511740*_0x2c0f69*_0x31ff4e-_0x2a4440*_0x2c8a1f*_0x3058a6,this['w']=_0x511740*_0x2c0f69*_0x3058a6+_0x2a4440*_0x2c8a1f*_0x31ff4e;break;case'ZXY':this['x']=_0x2a4440*_0x2c0f69*_0x3058a6-_0x511740*_0x2c8a1f*_0x31ff4e,this['y']=_0x511740*_0x2c8a1f*_0x3058a6+_0x2a4440*_0x2c0f69*_0x31ff4e,this['z']=_0x511740*_0x2c0f69*_0x31ff4e+_0x2a4440*_0x2c8a1f*_0x3058a6,this['w']=_0x511740*_0x2c0f69*_0x3058a6-_0x2a4440*_0x2c8a1f*_0x31ff4e;break;case'ZYX':this['x']=_0x2a4440*_0x2c0f69*_0x3058a6-_0x511740*_0x2c8a1f*_0x31ff4e,this['y']=_0x511740*_0x2c8a1f*_0x3058a6+_0x2a4440*_0x2c0f69*_0x31ff4e,this['z']=_0x511740*_0x2c0f69*_0x31ff4e-_0x2a4440*_0x2c8a1f*_0x3058a6,this['w']=_0x511740*_0x2c0f69*_0x3058a6+_0x2a4440*_0x2c8a1f*_0x31ff4e;break;case'YZX':this['x']=_0x2a4440*_0x2c0f69*_0x3058a6+_0x511740*_0x2c8a1f*_0x31ff4e,this['y']=_0x511740*_0x2c8a1f*_0x3058a6+_0x2a4440*_0x2c0f69*_0x31ff4e,this['z']=_0x511740*_0x2c0f69*_0x31ff4e-_0x2a4440*_0x2c8a1f*_0x3058a6,this['w']=_0x511740*_0x2c0f69*_0x3058a6-_0x2a4440*_0x2c8a1f*_0x31ff4e;break;case'XZY':this['x']=_0x2a4440*_0x2c0f69*_0x3058a6-_0x511740*_0x2c8a1f*_0x31ff4e,this['y']=_0x511740*_0x2c8a1f*_0x3058a6-_0x2a4440*_0x2c0f69*_0x31ff4e,this['z']=_0x511740*_0x2c0f69*_0x31ff4e+_0x2a4440*_0x2c8a1f*_0x3058a6,this['w']=_0x511740*_0x2c0f69*_0x3058a6+_0x2a4440*_0x2c8a1f*_0x31ff4e;break;}}['setMatrix'](_0x29f6b4){const _0x3f1ea9=_0x29f6b4['mat'][0x0]+_0x29f6b4['mat'][0x5]+_0x29f6b4['mat'][0xa];if(_0x3f1ea9>0x0){const _0x2b2ed5=Math['sqrt'](_0x3f1ea9+0x1)*0x2;this['w']=0.25*_0x2b2ed5,this['x']=(_0x29f6b4['mat'][0x6]-_0x29f6b4['mat'][0x9])/_0x2b2ed5,this['y']=(_0x29f6b4['mat'][0x8]-_0x29f6b4['mat'][0x2])/_0x2b2ed5,this['z']=(_0x29f6b4['mat'][0x1]-_0x29f6b4['mat'][0x4])/_0x2b2ed5;}else if(_0x29f6b4['mat'][0x0]>_0x29f6b4['mat'][0x5]&&_0x29f6b4['mat'][0x0]>_0x29f6b4['mat'][0xa]){const _0x1bca6e=Math['sqrt'](0x1+_0x29f6b4['mat'][0x0]-_0x29f6b4['mat'][0x5]-_0x29f6b4['mat'][0xa])*0x2;this['w']=(_0x29f6b4['mat'][0x6]-_0x29f6b4['mat'][0x9])/_0x1bca6e,this['x']=0.25*_0x1bca6e,this['y']=(_0x29f6b4['mat'][0x4]+_0x29f6b4['mat'][0x1])/_0x1bca6e,this['z']=(_0x29f6b4['mat'][0x8]+_0x29f6b4['mat'][0x2])/_0x1bca6e;}else if(_0x29f6b4['mat'][0x5]>_0x29f6b4['mat'][0xa]){const _0x386a89=Math['sqrt'](0x1+_0x29f6b4['mat'][0x5]-_0x29f6b4['mat'][0x0]-_0x29f6b4['mat'][0xa])*0x2;this['w']=(_0x29f6b4['mat'][0x8]-_0x29f6b4['mat'][0x2])/_0x386a89,this['x']=(_0x29f6b4['mat'][0x4]+_0x29f6b4['mat'][0x1])/_0x386a89,this['y']=0.25*_0x386a89,this['z']=(_0x29f6b4['mat'][0x9]+_0x29f6b4['mat'][0x6])/_0x386a89;}else{const _0x53c3b5=Math['sqrt'](0x1+_0x29f6b4['mat'][0xa]-_0x29f6b4['mat'][0x0]-_0x29f6b4['mat'][0x5])*0x2;this['w']=(_0x29f6b4['mat'][0x1]-_0x29f6b4['mat'][0x4])/_0x53c3b5,this['x']=(_0x29f6b4['mat'][0x8]+_0x29f6b4['mat'][0x2])/_0x53c3b5,this['y']=(_0x29f6b4['mat'][0x9]+_0x29f6b4['mat'][0x6])/_0x53c3b5,this['z']=0.25*_0x53c3b5;}}['copy'](_0x473115){this['x']=_0x473115['x'],this['y']=_0x473115['y'],this['z']=_0x473115['z'],this['w']=_0x473115['w'];}['clone'](){return new P(this['x'],this['y'],this['z'],this['w']);}['multiply'](_0x2a1840){this['copy'](P['multiply'](this,_0x2a1840));}['premultiply'](_0x88d1){this['copy'](P['multiply'](_0x88d1,this));}['normalize'](){const _0x14dc8b=0x1/Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);this['x']*=_0x14dc8b,this['y']*=_0x14dc8b,this['z']*=_0x14dc8b,this['w']*=_0x14dc8b;}['invert'](){const _0x426e06=0x1/Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);this['x']*=-_0x426e06,this['y']*=-_0x426e06,this['z']*=-_0x426e06,this['w']*=_0x426e06;}['inverse'](){return P['inverse'](this);}['getMatrix'](){const _0x3873e4=this['w']*this['w'],_0x5a1977=this['x']*this['x'],_0x467929=this['y']*this['y'],_0x484aa4=this['z']*this['z'],_0xd0b4b7=0x1/(_0x5a1977+_0x467929+_0x484aa4+_0x3873e4),_0x180d96=this['x']*this['y'],_0x4a7660=this['z']*this['w'],_0x166424=this['x']*this['z'],_0x26af17=this['y']*this['w'],_0x3e9077=this['y']*this['z'],_0x11757b=this['x']*this['w'];return j['fromRowMajor']((_0x5a1977-_0x467929-_0x484aa4+_0x3873e4)*_0xd0b4b7,0x2*(_0x180d96-_0x4a7660)*_0xd0b4b7,0x2*(_0x166424+_0x26af17)*_0xd0b4b7,0x0,0x2*(_0x180d96+_0x4a7660)*_0xd0b4b7,(-_0x5a1977+_0x467929-_0x484aa4+_0x3873e4)*_0xd0b4b7,0x2*(_0x3e9077-_0x11757b)*_0xd0b4b7,0x0,0x2*(_0x166424-_0x26af17)*_0xd0b4b7,0x2*(_0x3e9077+_0x11757b)*_0xd0b4b7,-_0x5a1977-_0x467929+_0x484aa4+_0x3873e4,0x0,0x0,0x0,0x0,0x1);}['lookAt'](_0x4b0026,_0x4ed85a,_0x88cb57=m['UP']){const _0x1892a3=m['subtract'](_0x4b0026,_0x4ed85a);_0x1892a3['normalize']();const _0x21d828=m['cross'](_0x88cb57,_0x1892a3);_0x21d828['normalize']();const _0x422ad8=m['cross'](_0x1892a3,_0x21d828);_0x422ad8['normalize']();const _0x5696f6=new j();_0x5696f6['setRowMajor'](_0x21d828['x'],_0x422ad8['x'],_0x1892a3['x'],0x0,_0x21d828['y'],_0x422ad8['y'],_0x1892a3['y'],0x0,_0x21d828['z'],_0x422ad8['z'],_0x1892a3['z'],0x0,0x0,0x0,0x0,0x1),this['setMatrix'](_0x5696f6);}['slerp'](_0xb59170,_0x10d08b,_0x3401ff){const _0x4ee7ea=_0xb59170['clone']();let _0x2e596c=_0xb59170['x']*_0x10d08b['x']+_0xb59170['y']*_0x10d08b['y']+_0xb59170['z']*_0x10d08b['z']+_0xb59170['w']*_0x10d08b['w'],_0x8a4834,_0xaaf505,_0x4cc0e0,_0x102be5;_0x2e596c<0x0&&(_0x2e596c*=-0x1,_0x4ee7ea['x']*=-0x1,_0x4ee7ea['y']*=-0x1,_0x4ee7ea['z']*=-0x1,_0x4ee7ea['w']*=-0x1),0x1+_0x2e596c>0.00001?(0x1-_0x2e596c>0.00001?(_0x8a4834=Math['acos'](_0x2e596c),_0xaaf505=Math['sin'](_0x8a4834),_0x4cc0e0=Math['sin']((0x1-_0x3401ff)*_0x8a4834)/_0xaaf505,_0x102be5=Math['sin'](_0x3401ff*_0x8a4834)/_0xaaf505):(_0x4cc0e0=0x1-_0x3401ff,_0x102be5=_0x3401ff),this['x']=_0x4cc0e0*_0x4ee7ea['x']+_0x102be5*_0x10d08b['x'],this['y']=_0x4cc0e0*_0x4ee7ea['y']+_0x102be5*_0x10d08b['y'],this['z']=_0x4cc0e0*_0x4ee7ea['z']+_0x102be5*_0x10d08b['z'],this['w']=_0x4cc0e0*_0x4ee7ea['w']+_0x102be5*_0x10d08b['w']):(this['x']=-_0x4ee7ea['y'],this['y']=_0x4ee7ea['x'],this['z']=-_0x4ee7ea['w'],this['w']=_0x4ee7ea['z'],_0x4cc0e0=Math['sin']((0.5-_0x3401ff)*Math['PI']),_0x102be5=Math['sin'](_0x3401ff*Math['PI']),this['x']=_0x4cc0e0*_0x4ee7ea['x']+_0x102be5*this['x'],this['y']=_0x4cc0e0*_0x4ee7ea['y']+_0x102be5*this['y'],this['z']=_0x4cc0e0*_0x4ee7ea['y']+_0x102be5*this['z']);}};let D=P;o(D,'IDENTITY',new P());const B=class{constructor(){o(this,'mat');this['mat']=[0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1];}static['multiply'](_0x482cc1,_0x5a28f2){const _0x301a68=new B();_0x301a68['mat'][0x0]=0x0,_0x301a68['mat'][0x5]=0x0,_0x301a68['mat'][0xa]=0x0,_0x301a68['mat'][0xf]=0x0;for(let _0x9805cf=0x0;_0x9805cf<0x4;_0x9805cf++)for(let _0x14e06f=0x0;_0x14e06f<0x4;_0x14e06f++)for(let _0x14794a=0x0;_0x14794a<0x4;_0x14794a++)_0x301a68['mat'][_0x9805cf*0x4+_0x14e06f]+=_0x482cc1['mat'][_0x9805cf*0x4+_0x14794a]*_0x5a28f2['mat'][_0x14794a*0x4+_0x14e06f];return _0x301a68;}static['copy'](_0x15cd5c){const _0x33be64=new B();return _0x33be64['copy'](_0x15cd5c),_0x33be64;}static['fromRowMajor'](_0x3eb488,_0x37af81,_0x1e5010,_0x4684ad,_0x335a3c,_0x3e8b72,_0x400e1d,_0x1fef32,_0x5ec9f7,_0x4710d7,_0x416eb8,_0x30bea6,_0x232377,_0x1ce35c,_0x459710,_0x46dbaa){const _0x329070=new B();return _0x329070['setRowMajor'](_0x3eb488,_0x37af81,_0x1e5010,_0x4684ad,_0x335a3c,_0x3e8b72,_0x400e1d,_0x1fef32,_0x5ec9f7,_0x4710d7,_0x416eb8,_0x30bea6,_0x232377,_0x1ce35c,_0x459710,_0x46dbaa),_0x329070;}static['fromColumnMajor'](_0x53612f,_0x1ee90b,_0x1afaf6,_0x2b63fe,_0x29b15a,_0x15149f,_0x3a91ce,_0x151674,_0x220a52,_0x29c9cb,_0x507bb3,_0x2c3a41,_0x26c4b8,_0x5cf7b7,_0x34cf25,_0x348e58){const _0x1bdc69=new B();return _0x1bdc69['setColumnMajor'](_0x53612f,_0x1ee90b,_0x1afaf6,_0x2b63fe,_0x29b15a,_0x15149f,_0x3a91ce,_0x151674,_0x220a52,_0x29c9cb,_0x507bb3,_0x2c3a41,_0x26c4b8,_0x5cf7b7,_0x34cf25,_0x348e58),_0x1bdc69;}static['makeIdentity'](){return B['fromRowMajor'](0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}static['makeTranslation'](_0x2a31b4){return B['fromRowMajor'](0x1,0x0,0x0,_0x2a31b4['x'],0x0,0x1,0x0,_0x2a31b4['y'],0x0,0x0,0x1,_0x2a31b4['z'],0x0,0x0,0x0,0x1);}static['makeRotationX'](_0xf93eea){const _0x40b5c3=new B();return _0x40b5c3['setRotationX'](_0xf93eea),_0x40b5c3;}static['makeRotationY'](_0x3ea3d1){const _0x2cc71d=new B();return _0x2cc71d['setRotationY'](_0x3ea3d1),_0x2cc71d;}static['makeRotationZ'](_0x3ac408){const _0x492696=new B();return _0x492696['setRotationZ'](_0x3ac408),_0x492696;}static['makeAxisAngle'](_0xb12334,_0x2573f1){const _0x419056=new B();return _0x419056['setAxisAngle'](_0xb12334,_0x2573f1),_0x419056;}static['makeEulerAngles'](_0x38aab1,_0x51277d,_0x2782bf,_0x5ee78f='YZX'){const _0x3296ad=new B();return _0x3296ad['setEulerAngles'](_0x38aab1,_0x51277d,_0x2782bf,_0x5ee78f),_0x3296ad;}static['makeScale'](_0x1021a5){const _0x369ca3=new B();return _0x369ca3['setScale'](_0x1021a5),_0x369ca3;}static['compose'](_0x5b37a0=m['ZERO'],_0x2efbf4=D['IDENTITY'],_0x67d26c=m['UP']){const _0x102746=new B();return _0x102746['compose'](_0x5b37a0,_0x2efbf4,_0x67d26c),_0x102746;}static['lookAt'](_0x9fc460,_0x493434,_0x4f111e){const _0x318bc2=new B();return _0x318bc2['lookAt'](_0x9fc460,_0x493434,_0x4f111e),_0x318bc2;}static['makeOrthographic'](_0x2d652e,_0x656f2,_0x43998d,_0x461f29,_0x3061d3,_0x15d0d7){const _0x430e9c=new B();return _0x430e9c['setOrthographic'](_0x2d652e,_0x656f2,_0x43998d,_0x461f29,_0x3061d3,_0x15d0d7),_0x430e9c;}static['makePerspective'](_0x36bffa,_0x1ae44d,_0x2fd449,_0xf3da00){const _0x25a2c2=new B();return _0x25a2c2['setPerspective'](_0x36bffa,_0x1ae44d,_0x2fd449,_0xf3da00),_0x25a2c2;}static['makeFrustum'](_0x82a637,_0xd8ff6a,_0xbf3540,_0x53d9b6,_0x7d86ba,_0x5bb426){const _0x644feb=new B();return _0x644feb['setFrustum'](_0x82a637,_0xd8ff6a,_0xbf3540,_0x53d9b6,_0x7d86ba,_0x5bb426),_0x644feb;}['setColumnMajor'](_0x15faf9,_0x4747bd,_0x42a2b8,_0x423a9e,_0x2b7d1b,_0x35a15e,_0x212d3e,_0x314049,_0x13d949,_0x4799ab,_0x220141,_0x359071,_0x46710b,_0x1546e3,_0x1f3b33,_0x258bca){this['mat'][0x0]=_0x15faf9,this['mat'][0x1]=_0x4747bd,this['mat'][0x2]=_0x42a2b8,this['mat'][0x3]=_0x423a9e,this['mat'][0x4]=_0x2b7d1b,this['mat'][0x5]=_0x35a15e,this['mat'][0x6]=_0x212d3e,this['mat'][0x7]=_0x314049,this['mat'][0x8]=_0x13d949,this['mat'][0x9]=_0x4799ab,this['mat'][0xa]=_0x220141,this['mat'][0xb]=_0x359071,this['mat'][0xc]=_0x46710b,this['mat'][0xd]=_0x1546e3,this['mat'][0xe]=_0x1f3b33,this['mat'][0xf]=_0x258bca;}['setRowMajor'](_0x45e780,_0x2065eb,_0x371d7b,_0x5be5f2,_0x3622f9,_0x3c984e,_0x41d7dc,_0x417166,_0x286372,_0x1797ac,_0x5cd67a,_0x35e555,_0x378705,_0x581c6e,_0x3b02d5,_0x5109aa){this['mat'][0x0]=_0x45e780,this['mat'][0x1]=_0x3622f9,this['mat'][0x2]=_0x286372,this['mat'][0x3]=_0x378705,this['mat'][0x4]=_0x2065eb,this['mat'][0x5]=_0x3c984e,this['mat'][0x6]=_0x1797ac,this['mat'][0x7]=_0x581c6e,this['mat'][0x8]=_0x371d7b,this['mat'][0x9]=_0x41d7dc,this['mat'][0xa]=_0x5cd67a,this['mat'][0xb]=_0x3b02d5,this['mat'][0xc]=_0x5be5f2,this['mat'][0xd]=_0x417166,this['mat'][0xe]=_0x35e555,this['mat'][0xf]=_0x5109aa;}['copy'](_0x52a2b7){for(let _0xdefc=0x0;_0xdefc<0x10;_0xdefc++)this['mat'][_0xdefc]=_0x52a2b7['mat'][_0xdefc];}['clone'](){const _0x3b1826=new B();for(let _0x5b766b=0x0;_0x5b766b<0x10;_0x5b766b++)_0x3b1826['mat'][_0x5b766b]=this['mat'][_0x5b766b];return _0x3b1826;}['element'](_0x350284,_0x39aaa5){return this['mat'][_0x39aaa5*0x4+_0x350284];}['set'](_0x36746b,_0x1633f0,_0x2f5d0b){this['mat'][_0x2f5d0b*0x4+_0x1633f0]=_0x36746b;}['multiply'](_0x137750){const _0x3bbc55=B['multiply'](_0x137750,this);this['copy'](_0x3bbc55);}['premultiply'](_0x50f4f2){const _0x1a23cc=B['multiply'](this,_0x50f4f2);this['copy'](_0x1a23cc);}['setIdentity'](){this['setRowMajor'](0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}['setTranslation'](_0x2b2b13){this['setRowMajor'](0x1,0x0,0x0,_0x2b2b13['x'],0x0,0x1,0x0,_0x2b2b13['y'],0x0,0x0,0x1,_0x2b2b13['z'],0x0,0x0,0x0,0x1);}['setRotationX'](_0x49d505){const _0x2db9ea=Math['cos'](_0x49d505),_0x17c12f=Math['sin'](_0x49d505);this['setRowMajor'](0x1,0x0,0x0,0x0,0x0,_0x2db9ea,-_0x17c12f,0x0,0x0,_0x17c12f,_0x2db9ea,0x0,0x0,0x0,0x0,0x1);}['setRotationY'](_0x6918e7){const _0x1f3e48=Math['cos'](_0x6918e7),_0x24be5f=Math['sin'](_0x6918e7);this['setRowMajor'](_0x1f3e48,0x0,_0x24be5f,0x0,0x0,0x1,0x0,0x0,-_0x24be5f,0x0,_0x1f3e48,0x0,0x0,0x0,0x0,0x1);}['setRotationZ'](_0x57bcd6){const _0x3e13e6=Math['cos'](_0x57bcd6),_0x3eb995=Math['sin'](_0x57bcd6);this['setRowMajor'](_0x3e13e6,-_0x3eb995,0x0,0x0,_0x3eb995,_0x3e13e6,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}['setAxisAngle'](_0x3d09ce,_0x3ae2c9){const _0x592b06=Math['cos'](_0x3ae2c9),_0x53d522=Math['sin'](_0x3ae2c9),_0x564d75=0x1-_0x592b06,_0x360f19=_0x3d09ce['x'],_0x36867a=_0x3d09ce['y'],_0x351519=_0x3d09ce['z'],_0x3506e0=_0x564d75*_0x360f19,_0x15e5c4=_0x564d75*_0x36867a;this['setRowMajor'](_0x3506e0*_0x360f19+_0x592b06,_0x3506e0*_0x36867a-_0x53d522*_0x351519,_0x3506e0*_0x351519+_0x53d522*_0x36867a,0x0,_0x3506e0*_0x36867a+_0x53d522*_0x351519,_0x15e5c4*_0x36867a+_0x592b06,_0x15e5c4*_0x351519-_0x53d522*_0x360f19,0x0,_0x3506e0*_0x351519-_0x53d522*_0x36867a,_0x15e5c4*_0x351519+_0x53d522*_0x360f19,_0x564d75*_0x351519*_0x351519+_0x592b06,0x0,0x0,0x0,0x0,0x1);}['setScale'](_0x237422){this['setRowMajor'](_0x237422['x'],0x0,0x0,0x0,0x0,_0x237422['y'],0x0,0x0,0x0,0x0,_0x237422['z'],0x0,0x0,0x0,0x0,0x1);}['getTranslation'](){return new m(this['mat'][0xc],this['mat'][0xd],this['mat'][0xe]);}['getRotation'](){return D['makeMatrix'](this);}['getScale'](){return new m(Math['sqrt'](this['mat'][0x0]*this['mat'][0x0]+this['mat'][0x1]*this['mat'][0x1]+this['mat'][0x2]*this['mat'][0x2]),Math['sqrt'](this['mat'][0x4]*this['mat'][0x4]+this['mat'][0x5]*this['mat'][0x5]+this['mat'][0x6]*this['mat'][0x6]),Math['sqrt'](this['mat'][0x8]*this['mat'][0x8]+this['mat'][0x9]*this['mat'][0x9]+this['mat'][0xa]*this['mat'][0xa]));}['setOrthographic'](_0x2a4819,_0x1dc208,_0x57c497,_0x34a1c4,_0x5a7cda,_0x5239e5){this['setRowMajor'](0x2/(_0x1dc208-_0x2a4819),0x0,0x0,-(_0x1dc208+_0x2a4819)/(_0x1dc208-_0x2a4819),0x0,0x2/(_0x34a1c4-_0x57c497),0x0,-(_0x34a1c4+_0x57c497)/(_0x34a1c4-_0x57c497),0x0,0x0,-0x2/(_0x5239e5-_0x5a7cda),-(_0x5239e5+_0x5a7cda)/(_0x5239e5-_0x5a7cda),0x0,0x0,0x0,0x1);}['setPerspective'](_0x3c24e,_0x5a1cf6,_0x15195d,_0x585b1b){const _0x27325f=_0x15195d*Math['tan'](_0x3c24e*Math['PI']/0x168),_0x60fec6=_0x27325f*_0x5a1cf6;this['setFrustum'](-_0x60fec6,_0x60fec6,-_0x27325f,_0x27325f,_0x15195d,_0x585b1b);}['setFrustum'](_0x29b9f6,_0x11ab32,_0x50a299,_0x4ccbf2,_0x29ef15,_0x47e5d4){this['setRowMajor'](0x2*_0x29ef15/(_0x11ab32-_0x29b9f6),0x0,(_0x11ab32+_0x29b9f6)/(_0x11ab32-_0x29b9f6),0x0,0x0,0x2*_0x29ef15/(_0x4ccbf2-_0x50a299),(_0x4ccbf2+_0x50a299)/(_0x4ccbf2-_0x50a299),0x0,0x0,0x0,-(_0x47e5d4+_0x29ef15)/(_0x47e5d4-_0x29ef15),-0x2*_0x47e5d4*_0x29ef15/(_0x47e5d4-_0x29ef15),0x0,0x0,-0x1,0x0);}['lookAt'](_0x1f764d,_0x4470bc,_0x2153b3=m['UP']){const _0x36cc05=m['subtract'](_0x1f764d,_0x4470bc);_0x36cc05['normalize']();const _0x35d06d=m['cross'](_0x2153b3,_0x36cc05);_0x35d06d['normalize']();const _0x2707e4=m['cross'](_0x36cc05,_0x35d06d);_0x2707e4['normalize']();const _0x4acb0c=B['fromRowMajor'](_0x35d06d['x'],_0x2707e4['x'],_0x36cc05['x'],0x0,_0x35d06d['y'],_0x2707e4['y'],_0x36cc05['y'],0x0,_0x35d06d['z'],_0x2707e4['z'],_0x36cc05['z'],0x0,0x0,0x0,0x0,0x1),_0x5e1565=B['makeTranslation'](_0x1f764d);this['copy'](B['multiply'](_0x4acb0c,_0x5e1565));}['multiplyScalar'](_0x49997a){for(let _0x210da1=0x0;_0x210da1<0x10;_0x210da1++)this['mat'][_0x210da1]*=_0x49997a;}['determinant'](){return this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x1]*this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xf];}['inverse'](){const _0x356604=this['determinant']();if(Math['abs'](_0x356604)<1e-8)return new B();const _0x4bfcad=new B();return _0x4bfcad['mat'][0x0]=(this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xd]+this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xe]-this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xf]+this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0x1]=(this['mat'][0x3]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x2]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x3]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x1]*this['mat'][0xb]*this['mat'][0xe]+this['mat'][0x2]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x1]*this['mat'][0xa]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0x2]=(this['mat'][0x2]*this['mat'][0x7]*this['mat'][0xd]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xe]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xf]+this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0x3]=(this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x9]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x9]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xa]+this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xa]+this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xb]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xb])/_0x356604,_0x4bfcad['mat'][0x4]=(this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xe]+this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xe]+this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xf]-this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0x5]=(this['mat'][0x2]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x3]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0xa]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0x6]=(this['mat'][0x3]*this['mat'][0x6]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xe]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0x7]=(this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x8]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x8]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xa]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xa]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xb]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xb])/_0x356604,_0x4bfcad['mat'][0x8]=(this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xc]+this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xd]-this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0x9]=(this['mat'][0x3]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x1]*this['mat'][0x8]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x9]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0xa]=(this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xc]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xd]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xf])/_0x356604,_0x4bfcad['mat'][0xb]=(this['mat'][0x3]*this['mat'][0x5]*this['mat'][0x8]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0x8]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0x9]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0x9]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xb]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xb])/_0x356604,_0x4bfcad['mat'][0xc]=(this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xd]+this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xe])/_0x356604,_0x4bfcad['mat'][0xd]=(this['mat'][0x1]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x9]*this['mat'][0xc]+this['mat'][0x2]*this['mat'][0x8]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x1]*this['mat'][0x8]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x9]*this['mat'][0xe])/_0x356604,_0x4bfcad['mat'][0xe]=(this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xd]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xe])/_0x356604,_0x4bfcad['mat'][0xf]=(this['mat'][0x1]*this['mat'][0x6]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0x8]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x9]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0x9]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xa]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xa])/_0x356604,_0x4bfcad;}['invert'](){const _0xc74ae5=this['inverse']();this['copy'](_0xc74ae5);}['transpose'](){return B['fromRowMajor'](this['mat'][0x0],this['mat'][0x1],this['mat'][0x2],this['mat'][0x3],this['mat'][0x4],this['mat'][0x5],this['mat'][0x6],this['mat'][0x7],this['mat'][0x8],this['mat'][0x9],this['mat'][0xa],this['mat'][0xb],this['mat'][0xc],this['mat'][0xd],this['mat'][0xe],this['mat'][0xf]);}['setEulerAngles'](_0x23b767,_0x2ccd62,_0x13fe63,_0x5db77e='YZX'){const _0xcad4ca=Math['cos'](_0x23b767),_0x2ebb8e=Math['sin'](_0x23b767),_0x10be7f=Math['cos'](_0x2ccd62),_0x1cee94=Math['sin'](_0x2ccd62),_0x38f041=Math['cos'](_0x13fe63),_0x2acd19=Math['sin'](_0x13fe63);if(_0x5db77e=='XYZ'){const _0x47993e=_0xcad4ca*_0x38f041,_0x65687e=_0xcad4ca*_0x2acd19,_0x231623=_0x2ebb8e*_0x38f041,_0x4a01d5=_0x2ebb8e*_0x2acd19;this['mat'][0x0]=_0x10be7f*_0x38f041,this['mat'][0x4]=-_0x10be7f*_0x2acd19,this['mat'][0x8]=_0x1cee94,this['mat'][0x1]=_0x65687e+_0x231623*_0x1cee94,this['mat'][0x5]=_0x47993e-_0x4a01d5*_0x1cee94,this['mat'][0x9]=-_0x2ebb8e*_0x10be7f,this['mat'][0x2]=_0x4a01d5-_0x47993e*_0x1cee94,this['mat'][0x6]=_0x231623+_0x65687e*_0x1cee94,this['mat'][0xa]=_0xcad4ca*_0x10be7f;}else if(_0x5db77e=='YXZ'){const _0x4df92f=_0x10be7f*_0x38f041,_0x54062d=_0x10be7f*_0x2acd19,_0x5cfa34=_0x1cee94*_0x38f041,_0x5370e0=_0x1cee94*_0x2acd19;this['mat'][0x0]=_0x4df92f+_0x5370e0*_0x2ebb8e,this['mat'][0x4]=_0x5cfa34*_0x2ebb8e-_0x54062d,this['mat'][0x8]=_0xcad4ca*_0x1cee94,this['mat'][0x1]=_0xcad4ca*_0x2acd19,this['mat'][0x5]=_0xcad4ca*_0x38f041,this['mat'][0x9]=-_0x2ebb8e,this['mat'][0x2]=_0x54062d*_0x2ebb8e-_0x5cfa34,this['mat'][0x6]=_0x5370e0+_0x4df92f*_0x2ebb8e,this['mat'][0xa]=_0xcad4ca*_0x10be7f;}else if(_0x5db77e=='ZXY'){const _0x556653=_0x10be7f*_0x38f041,_0x2d1272=_0x10be7f*_0x2acd19,_0x256dbe=_0x1cee94*_0x38f041,_0x1bfe10=_0x1cee94*_0x2acd19;this['mat'][0x0]=_0x556653-_0x1bfe10*_0x2ebb8e,this['mat'][0x4]=-_0xcad4ca*_0x2acd19,this['mat'][0x8]=_0x256dbe+_0x2d1272*_0x2ebb8e,this['mat'][0x1]=_0x2d1272+_0x256dbe*_0x2ebb8e,this['mat'][0x5]=_0xcad4ca*_0x38f041,this['mat'][0x9]=_0x1bfe10-_0x556653*_0x2ebb8e,this['mat'][0x2]=-_0xcad4ca*_0x1cee94,this['mat'][0x6]=_0x2ebb8e,this['mat'][0xa]=_0xcad4ca*_0x10be7f;}else if(_0x5db77e==='ZYX'){const _0x1c6fe5=_0xcad4ca*_0x38f041,_0x17a75a=_0xcad4ca*_0x2acd19,_0x52c0a8=_0x2ebb8e*_0x38f041,_0x7db5d9=_0x2ebb8e*_0x2acd19;this['mat'][0x0]=_0x10be7f*_0x38f041,this['mat'][0x4]=_0x52c0a8*_0x1cee94-_0x17a75a,this['mat'][0x8]=_0x1c6fe5*_0x1cee94+_0x7db5d9,this['mat'][0x1]=_0x10be7f*_0x2acd19,this['mat'][0x5]=_0x7db5d9*_0x1cee94+_0x1c6fe5,this['mat'][0x9]=_0x17a75a*_0x1cee94-_0x52c0a8,this['mat'][0x2]=-_0x1cee94,this['mat'][0x6]=_0x2ebb8e*_0x10be7f,this['mat'][0xa]=_0xcad4ca*_0x10be7f;}else if(_0x5db77e==='YZX'){const _0x475e02=_0xcad4ca*_0x10be7f,_0x299655=_0xcad4ca*_0x1cee94,_0x120e7b=_0x2ebb8e*_0x10be7f,_0x52d41a=_0x2ebb8e*_0x1cee94;this['mat'][0x0]=_0x10be7f*_0x38f041,this['mat'][0x4]=_0x52d41a-_0x475e02*_0x2acd19,this['mat'][0x8]=_0x120e7b*_0x2acd19+_0x299655,this['mat'][0x1]=_0x2acd19,this['mat'][0x5]=_0xcad4ca*_0x38f041,this['mat'][0x9]=-_0x2ebb8e*_0x38f041,this['mat'][0x2]=-_0x1cee94*_0x38f041,this['mat'][0x6]=_0x299655*_0x2acd19+_0x120e7b,this['mat'][0xa]=_0x475e02-_0x52d41a*_0x2acd19;}else if(_0x5db77e==='XZY'){const _0x557318=_0xcad4ca*_0x10be7f,_0x5c3547=_0xcad4ca*_0x1cee94,_0x57818f=_0x2ebb8e*_0x10be7f,_0x2b5f73=_0x2ebb8e*_0x1cee94;this['mat'][0x0]=_0x10be7f*_0x38f041,this['mat'][0x4]=-_0x2acd19,this['mat'][0x8]=_0x1cee94*_0x38f041,this['mat'][0x1]=_0x557318*_0x2acd19+_0x2b5f73,this['mat'][0x5]=_0xcad4ca*_0x38f041,this['mat'][0x9]=_0x5c3547*_0x2acd19-_0x57818f,this['mat'][0x2]=_0x57818f*_0x2acd19-_0x5c3547,this['mat'][0x6]=_0x2ebb8e*_0x38f041,this['mat'][0xa]=_0x2b5f73*_0x2acd19+_0x557318;}this['mat'][0x3]=0x0,this['mat'][0x7]=0x0,this['mat'][0xb]=0x0,this['mat'][0xc]=0x0,this['mat'][0xd]=0x0,this['mat'][0xe]=0x0,this['mat'][0xf]=0x1;}['compose'](_0x20aef9=m['ZERO'],_0x2ab70b=D['IDENTITY'],_0x1af1ba=m['ONE']){this['setTranslation'](_0x20aef9),this['multiply'](_0x2ab70b['getMatrix']()),this['multiply'](B['makeScale'](_0x1af1ba));}['decompose'](){const _0x5d67ef=new m(),_0x565ecd=new D(),_0x127b73=new m();_0x5d67ef['setPositionFromMatrix'](this),_0x127b73['setScaleFromMatrix'](this);const _0x50a126=new B();return _0x50a126['mat'][0x0]=this['mat'][0x0]/_0x127b73['x'],_0x50a126['mat'][0x1]=this['mat'][0x1]/_0x127b73['x'],_0x50a126['mat'][0x2]=this['mat'][0x2]/_0x127b73['x'],_0x50a126['mat'][0x3]=0x0,_0x50a126['mat'][0x4]=this['mat'][0x4]/_0x127b73['y'],_0x50a126['mat'][0x5]=this['mat'][0x5]/_0x127b73['y'],_0x50a126['mat'][0x6]=this['mat'][0x6]/_0x127b73['y'],_0x50a126['mat'][0x7]=0x0,_0x50a126['mat'][0x8]=this['mat'][0x8]/_0x127b73['z'],_0x50a126['mat'][0x9]=this['mat'][0x9]/_0x127b73['z'],_0x50a126['mat'][0xa]=this['mat'][0xa]/_0x127b73['z'],_0x50a126['mat'][0xb]=0x0,_0x50a126['mat'][0xc]=0x0,_0x50a126['mat'][0xd]=0x0,_0x50a126['mat'][0xe]=0x0,_0x50a126['mat'][0xf]=0x1,_0x565ecd['setMatrix'](_0x50a126),[_0x5d67ef,_0x565ecd,_0x127b73];}};let j=B;o(j,'IDENTITY',new B());class vt{constructor(){o(this,'min');o(this,'max');this['min']=new m(),this['max']=new m();}['copy'](_0x1d4342){this['min']['copy'](_0x1d4342['min']),this['max']['copy'](_0x1d4342['max']);}['transform'](_0x199892,_0x56004a,_0x38f7dc){this['min']['multiply'](_0x38f7dc),this['max']['multiply'](_0x38f7dc);const _0x75a0e1=[];_0x75a0e1['push'](new m(this['min']['x'],this['min']['y'],this['min']['z'])),_0x75a0e1['push'](new m(this['min']['x'],this['min']['y'],this['max']['z'])),_0x75a0e1['push'](new m(this['min']['x'],this['max']['y'],this['min']['z'])),_0x75a0e1['push'](new m(this['min']['x'],this['max']['y'],this['max']['z'])),_0x75a0e1['push'](new m(this['max']['x'],this['min']['y'],this['min']['z'])),_0x75a0e1['push'](new m(this['max']['x'],this['min']['y'],this['max']['z'])),_0x75a0e1['push'](new m(this['max']['x'],this['max']['y'],this['min']['z'])),_0x75a0e1['push'](new m(this['max']['x'],this['max']['y'],this['max']['z'])),_0x75a0e1['forEach'](_0x425b38=>{_0x425b38['rotate'](_0x56004a);}),this['min']['copy'](_0x75a0e1[0x0]),this['max']['copy'](_0x75a0e1[0x0]);for(let _0x2d6024=0x1;_0x2d6024<_0x75a0e1['length'];_0x2d6024++)this['min']['x']=Math['min'](this['min']['x'],_0x75a0e1[_0x2d6024]['x']),this['min']['y']=Math['min'](this['min']['y'],_0x75a0e1[_0x2d6024]['y']),this['min']['z']=Math['min'](this['min']['z'],_0x75a0e1[_0x2d6024]['z']),this['max']['x']=Math['max'](this['max']['x'],_0x75a0e1[_0x2d6024]['x']),this['max']['y']=Math['max'](this['max']['y'],_0x75a0e1[_0x2d6024]['y']),this['max']['z']=Math['max'](this['max']['z'],_0x75a0e1[_0x2d6024]['z']);this['min']['add'](_0x199892),this['max']['add'](_0x199892);}['intersects'](_0x19ed0f){const _0x43f6d8=m['add'](this['max'],this['min']);_0x43f6d8['multiplyScalar'](0.5);const _0xb6b651=m['add'](_0x19ed0f['max'],_0x19ed0f['min']);_0xb6b651['multiplyScalar'](0.5);const _0x2e8171=m['subtract'](this['max'],this['min']);_0x2e8171['multiplyScalar'](0.5);const _0x4398d1=m['subtract'](_0x19ed0f['max'],_0x19ed0f['min']);return _0x4398d1['multiplyScalar'](0.5),Math['abs'](_0x43f6d8['x']-_0xb6b651['x'])>_0x2e8171['x']+_0x4398d1['x']||Math['abs'](_0x43f6d8['y']-_0xb6b651['y'])>_0x2e8171['y']+_0x4398d1['y']?!0x1:!(Math['abs'](_0x43f6d8['z']-_0xb6b651['z'])>_0x2e8171['z']+_0x4398d1['z']);}['computeBounds'](_0x5d2b06){if(typeof _0x5d2b06[0x0]=='number'){const _0x51ff07=_0x5d2b06;this['max']['set'](_0x51ff07[0x0],_0x51ff07[0x1],_0x51ff07[0x2]),this['min']['set'](_0x51ff07[0x0],_0x51ff07[0x1],_0x51ff07[0x2]);for(let _0xe9ec26=0x0;_0xe9ec26<_0x51ff07['length'];_0xe9ec26+=0x3)_0x51ff07[_0xe9ec26]>this['max']['x']&&(this['max']['x']=_0x51ff07[_0xe9ec26]),_0x51ff07[_0xe9ec26]<this['min']['x']&&(this['min']['x']=_0x51ff07[_0xe9ec26]),_0x51ff07[_0xe9ec26+0x1]>this['max']['y']&&(this['max']['y']=_0x51ff07[_0xe9ec26+0x1]),_0x51ff07[_0xe9ec26+0x1]<this['min']['y']&&(this['min']['y']=_0x51ff07[_0xe9ec26+0x1]),_0x51ff07[_0xe9ec26+0x2]>this['max']['z']&&(this['max']['z']=_0x51ff07[_0xe9ec26+0x2]),_0x51ff07[_0xe9ec26+0x2]<this['min']['z']&&(this['min']['z']=_0x51ff07[_0xe9ec26+0x2]);}else this['max']['copy'](_0x5d2b06[0x0]),this['min']['copy'](_0x5d2b06[0x0]),_0x5d2b06['forEach'](_0x31d004=>{_0x31d004['x']>this['max']['x']&&(this['max']['x']=_0x31d004['x']),_0x31d004['x']<this['min']['x']&&(this['min']['x']=_0x31d004['x']),_0x31d004['y']>this['max']['y']&&(this['max']['y']=_0x31d004['y']),_0x31d004['y']<this['min']['y']&&(this['min']['y']=_0x31d004['y']),_0x31d004['z']>this['max']['z']&&(this['max']['z']=_0x31d004['z']),_0x31d004['z']<this['min']['z']&&(this['min']['z']=_0x31d004['z']);});}}class Ct{constructor(){o(this,'center');o(this,'radius');this['center']=new m(),this['radius']=0x0;}['copy'](_0x575d72){this['center']['copy'](_0x575d72['center']),this['radius']=_0x575d72['radius'];}['transform'](_0x5941c2,_0x5938f4){this['center']['multiply'](_0x5938f4),this['center']['add'](_0x5941c2),_0x5938f4['x']>=_0x5938f4['y']?this['radius']*=_0x5938f4['x']:this['radius']*=_0x5938f4['y'];}['intersects'](_0xe42d01){return this['center']['distanceTo'](_0xe42d01['center'])<this['radius']+_0xe42d01['radius'];}['computeBounds'](_0x21684f,_0x3682a3){if(this['center']['copy'](_0x3682a3['min']),this['center']['add'](_0x3682a3['max']),this['center']['multiplyScalar'](0.5),this['radius']=0x0,typeof _0x21684f[0x0]=='number'){const _0x8751a1=_0x21684f;for(let _0x4cff41=0x0;_0x4cff41<_0x8751a1['length'];_0x4cff41+=0x3){const _0x2c551f=Math['sqrt']((_0x8751a1[_0x4cff41]-this['center']['x'])*(_0x8751a1[_0x4cff41]-this['center']['x'])+(_0x8751a1[_0x4cff41+0x1]-this['center']['y'])*(_0x8751a1[_0x4cff41+0x1]-this['center']['y'])+(_0x8751a1[_0x4cff41+0x2]-this['center']['z'])*(_0x8751a1[_0x4cff41+0x2]-this['center']['z']));_0x2c551f>this['radius']&&(this['radius']=_0x2c551f);}}else _0x21684f['forEach'](_0x141fd5=>{const _0x58f608=_0x141fd5['distanceTo'](this['center']);_0x58f608>this['radius']&&(this['radius']=_0x58f608);});}}class G{constructor(){o(this,'children');o(this,'position');o(this,'rotation');o(this,'scale');o(this,'visible');o(this,'autoUpdateMatrix');o(this,'matrix');o(this,'worldMatrix');o(this,'parent');o(this,'boundingBox');o(this,'boundingSphere');this['children']=[],this['position']=new m(),this['rotation']=new D(),this['scale']=new m(0x1,0x1,0x1),this['visible']=!0x0,this['autoUpdateMatrix']=!0x0,this['matrix']=new j(),this['worldMatrix']=new j(),this['parent']=null,this['boundingBox']=new vt(),this['boundingSphere']=new Ct();}['draw'](_0xc7a4de,_0x47f641,_0x56aa6c){!this['visible']||this['children']['forEach'](_0x986688=>{_0x986688['draw'](this,_0x47f641,_0x56aa6c);});}['traverseSceneGraph'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']),this['children']['forEach'](_0x2e5e82=>{_0x2e5e82['traverseSceneGraph']();});}['updateWorldMatrix'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['parent']['updateWorldMatrix'](),this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']);}['add'](_0x456a62){this['children']['push'](_0x456a62),_0x456a62['parent']=this;}['remove'](){return this['parent']==null?!0x1:this['parent']['removeChild'](this)!=null;}['removeChild'](_0x18dd03){const _0x3632eb=this['children']['indexOf'](_0x18dd03);if(_0x3632eb==-0x1)return null;{const _0x544b41=this['children']['splice'](_0x3632eb,0x1);return _0x544b41[0x0]['parent']=null,_0x544b41[0x0];}}['setLights'](_0x50ee1a){this['children']['forEach'](_0x3595e8=>{_0x3595e8['setLights'](_0x50ee1a);});}['translate'](_0x311294){this['position']['add'](m['rotate'](_0x311294,this['rotation']));}['translateX'](_0x2da923){this['position']['add'](m['rotate'](new m(_0x2da923,0x0,0x0),this['rotation']));}['translateY'](_0x537ec3){this['position']['add'](m['rotate'](new m(0x0,_0x537ec3,0x0),this['rotation']));}['translateZ'](_0x50bea8){this['position']['add'](m['rotate'](new m(0x0,0x0,_0x50bea8),this['rotation']));}['rotate'](_0x4139bd){this['rotation']['multiply'](D['makeEulerAngles'](_0x4139bd['x'],_0x4139bd['y'],_0x4139bd['z']));}['rotateX'](_0x71523c){this['rotation']['multiply'](D['makeRotationX'](_0x71523c));}['rotateY'](_0x432135){this['rotation']['multiply'](D['makeRotationY'](_0x432135));}['rotateZ'](_0x1403b1){this['rotation']['multiply'](D['makeRotationZ'](_0x1403b1));}['lookAt'](_0x264e4b,_0x5d05dd=m['UP']){this['updateWorldMatrix']();const [_0x563167,_0x460904,_0xb37068]=this['worldMatrix']['decompose']();this['rotation']['lookAt'](_0x563167,_0x264e4b,_0x5d05dd);}['intersects'](_0x432b22,_0xc4c4e9=0x0){if(_0xc4c4e9==0x0){const _0x252a54=new Ct();_0x252a54['copy'](this['boundingSphere']),_0x252a54['transform'](this['position'],this['scale']);const _0x43468c=new Ct();return _0x43468c['copy'](_0x432b22['boundingSphere']),_0x43468c['transform'](_0x432b22['position'],_0x432b22['scale']),_0x252a54['intersects'](_0x43468c);}else if(_0xc4c4e9==0x1){const _0x1120e8=new vt();_0x1120e8['copy'](this['boundingBox']),_0x1120e8['transform'](this['position'],this['rotation'],this['scale']);const _0x5f4645=new vt();return _0x5f4645['copy'](_0x432b22['boundingBox']),_0x5f4645['transform'](_0x432b22['position'],_0x432b22['rotation'],_0x432b22['scale']),_0x1120e8['intersects'](_0x5f4645);}else return!0x1;}}class $t extends G{constructor(){super();o(this,'aspectRatio');o(this,'fov');o(this,'near');o(this,'far');o(this,'left');o(this,'right');o(this,'projectionMatrix');o(this,'viewMatrix');o(this,'projectionMatrixDirty');this['fov']=0x0,this['aspectRatio']=0x0,this['near']=0x0,this['far']=0x0,this['left']=0x0,this['right']=0x0,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']=new j(),this['viewMatrix']=new j();}['setPerspectiveCamera'](_0x343dc2,_0x496e2,_0x11cb65,_0xa79848){this['fov']=_0x343dc2,this['aspectRatio']=_0x496e2,this['near']=_0x11cb65,this['far']=_0xa79848,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']['setPerspective'](_0x343dc2,_0x496e2,_0x11cb65,_0xa79848);}['setOrthographicCamera'](_0x45f90e,_0x103517,_0x247bc3,_0x24e2b4,_0x2708a0,_0x5ad203){this['left']=_0x45f90e,this['right']=_0x103517,this['aspectRatio']=Math['abs']((_0x103517-_0x45f90e)/(_0x24e2b4-_0x247bc3)),this['near']=_0x2708a0,this['far']=_0x5ad203,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']['setOrthographic'](_0x45f90e,_0x103517,_0x247bc3,_0x24e2b4,_0x2708a0,_0x5ad203);}['updateWorldMatrix'](){super['updateWorldMatrix'](),this['viewMatrix']=this['worldMatrix']['inverse']();}['getAspectRatio'](){return this['aspectRatio'];}['getNear'](){return this['near'];}['getFar'](){return this['far'];}['getLeft'](){return this['left'];}['getRight'](){return this['right'];}}const F=class{constructor(){o(this,'mat');this['mat']=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1];}static['multiply'](_0x4525cb,_0x52ddf4){const _0x753c81=new F();return _0x753c81['mat'][0x0]=_0x4525cb['mat'][0x0]*_0x52ddf4['mat'][0x0]+_0x4525cb['mat'][0x1]*_0x52ddf4['mat'][0x3]+_0x4525cb['mat'][0x2]*_0x52ddf4['mat'][0x6],_0x753c81['mat'][0x1]=_0x4525cb['mat'][0x0]*_0x52ddf4['mat'][0x1]+_0x4525cb['mat'][0x1]*_0x52ddf4['mat'][0x4]+_0x4525cb['mat'][0x2]*_0x52ddf4['mat'][0x7],_0x753c81['mat'][0x2]=_0x4525cb['mat'][0x0]*_0x52ddf4['mat'][0x2]+_0x4525cb['mat'][0x1]*_0x52ddf4['mat'][0x5]+_0x4525cb['mat'][0x2]*_0x52ddf4['mat'][0x8],_0x753c81['mat'][0x3]=_0x4525cb['mat'][0x3]*_0x52ddf4['mat'][0x0]+_0x4525cb['mat'][0x4]*_0x52ddf4['mat'][0x3]+_0x4525cb['mat'][0x5]*_0x52ddf4['mat'][0x6],_0x753c81['mat'][0x4]=_0x4525cb['mat'][0x3]*_0x52ddf4['mat'][0x1]+_0x4525cb['mat'][0x4]*_0x52ddf4['mat'][0x4]+_0x4525cb['mat'][0x5]*_0x52ddf4['mat'][0x7],_0x753c81['mat'][0x5]=_0x4525cb['mat'][0x3]*_0x52ddf4['mat'][0x2]+_0x4525cb['mat'][0x4]*_0x52ddf4['mat'][0x5]+_0x4525cb['mat'][0x5]*_0x52ddf4['mat'][0x8],_0x753c81['mat'][0x6]=_0x4525cb['mat'][0x6]*_0x52ddf4['mat'][0x0]+_0x4525cb['mat'][0x7]*_0x52ddf4['mat'][0x3]+_0x4525cb['mat'][0x8]*_0x52ddf4['mat'][0x6],_0x753c81['mat'][0x7]=_0x4525cb['mat'][0x6]*_0x52ddf4['mat'][0x1]+_0x4525cb['mat'][0x7]*_0x52ddf4['mat'][0x4]+_0x4525cb['mat'][0x8]*_0x52ddf4['mat'][0x7],_0x753c81['mat'][0x8]=_0x4525cb['mat'][0x6]*_0x52ddf4['mat'][0x2]+_0x4525cb['mat'][0x7]*_0x52ddf4['mat'][0x5]+_0x4525cb['mat'][0x8]*_0x52ddf4['mat'][0x8],_0x753c81;}static['copy'](_0x2537f9){const _0x108b64=new F();return _0x108b64['copy'](_0x2537f9),_0x108b64;}static['fromRowMajor'](_0x5c31fb,_0x3f7343,_0x6630a,_0x487c13,_0x3682f5,_0x17fd87,_0x4b55e7,_0xf03ff6,_0x3653c7){const _0x4f2d06=new F();return _0x4f2d06['setRowMajor'](_0x5c31fb,_0x3f7343,_0x6630a,_0x487c13,_0x3682f5,_0x17fd87,_0x4b55e7,_0xf03ff6,_0x3653c7),_0x4f2d06;}static['fromColumnMajor'](_0x1b35c8,_0x2959e4,_0x2f5e1f,_0x360377,_0x36b89c,_0xd89c2b,_0x5373e4,_0xa83cea,_0x3ddf8d){const _0x5116b7=new F();return _0x5116b7['setColumnMajor'](_0x1b35c8,_0x2959e4,_0x2f5e1f,_0x360377,_0x36b89c,_0xd89c2b,_0x5373e4,_0xa83cea,_0x3ddf8d),_0x5116b7;}static['makeTranslation'](_0x145547){return F['fromRowMajor'](0x1,0x0,_0x145547['x'],0x0,0x1,_0x145547['y'],0x0,0x0,0x1);}static['makeRotation'](_0xa6cd44){const _0x552211=Math['cos'](_0xa6cd44),_0x51906e=Math['sin'](_0xa6cd44);return F['fromRowMajor'](_0x552211,-_0x51906e,0x0,_0x51906e,_0x552211,0x0,0x0,0x0,0x1);}static['makeScale'](_0x1d77a2){return F['fromRowMajor'](_0x1d77a2['x'],0x0,0x0,0x0,_0x1d77a2['y'],0x0,0x0,0x0,0x1);}static['compose'](_0x988478=x['ZERO'],_0x119e78=0x0,_0x26323f=x['ONE']){const _0x2c55cf=new F();return _0x2c55cf['compose'](_0x988478,_0x119e78,_0x26323f),_0x2c55cf;}['setColumnMajor'](_0x467e7c,_0x234e0e,_0x428545,_0x4b7864,_0x1894d2,_0x1ec05d,_0x512f7f,_0x1b8a77,_0x4a8112){this['mat'][0x0]=_0x467e7c,this['mat'][0x1]=_0x234e0e,this['mat'][0x2]=_0x428545,this['mat'][0x3]=_0x4b7864,this['mat'][0x4]=_0x1894d2,this['mat'][0x5]=_0x1ec05d,this['mat'][0x6]=_0x512f7f,this['mat'][0x7]=_0x1b8a77,this['mat'][0x8]=_0x4a8112;}['setRowMajor'](_0x58110c,_0x48abd8,_0x4404d6,_0x4593c4,_0x46573e,_0x23532e,_0x27c96b,_0x233a13,_0x4517d5){this['mat'][0x0]=_0x58110c,this['mat'][0x1]=_0x4593c4,this['mat'][0x2]=_0x27c96b,this['mat'][0x3]=_0x48abd8,this['mat'][0x4]=_0x46573e,this['mat'][0x5]=_0x233a13,this['mat'][0x6]=_0x4404d6,this['mat'][0x7]=_0x23532e,this['mat'][0x8]=_0x4517d5;}['copy'](_0x2ee473){for(let _0x35ba8e=0x0;_0x35ba8e<0x9;_0x35ba8e++)this['mat'][_0x35ba8e]=_0x2ee473['mat'][_0x35ba8e];}['element'](_0xfceee1,_0x123731){return this['mat'][_0x123731*0x3+_0xfceee1];}['set'](_0x261245,_0x4e9b2d,_0xf6cded){this['mat'][_0xf6cded*0x3+_0x4e9b2d]=_0x261245;}['multiply'](_0xe9a309){const _0x12c170=F['multiply'](_0xe9a309,this);this['copy'](_0x12c170);}['setTranslation'](_0x5c1773){this['setRowMajor'](0x1,0x0,_0x5c1773['x'],0x0,0x1,_0x5c1773['y'],0x0,0x0,0x1);}['setRotation'](_0x3bfc1c){const _0x14eb02=Math['cos'](_0x3bfc1c),_0x215857=Math['sin'](_0x3bfc1c);this['setRowMajor'](_0x14eb02,-_0x215857,0x0,_0x215857,_0x14eb02,0x0,0x0,0x0,0x1);}['setScale'](_0x3395dc){this['setRowMajor'](_0x3395dc['x'],0x0,0x0,0x0,_0x3395dc['y'],0x0,0x0,0x0,0x1);}['multiplyScalar'](_0x5df38a){for(let _0x53c5a3=0x0;_0x53c5a3<0x9;_0x53c5a3++)this['mat'][_0x53c5a3]*=_0x5df38a;}['inverse'](){const _0x1a5399=new F(),_0x510e4a=this['mat'][0x0]*this['mat'][0x4]*this['mat'][0x8]+this['mat'][0x1]*this['mat'][0x5]*this['mat'][0x6]+this['mat'][0x2]*this['mat'][0x3]*this['mat'][0x7]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0x7]-this['mat'][0x1]*this['mat'][0x3]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x6];return this['mat'][0x0]=(this['mat'][0x4]*this['mat'][0x8]-this['mat'][0x5]*this['mat'][0x7])/_0x510e4a,this['mat'][0x1]=(this['mat'][0x2]*this['mat'][0x7]-this['mat'][0x1]*this['mat'][0x8])/_0x510e4a,this['mat'][0x2]=(this['mat'][0x1]*this['mat'][0x5]-this['mat'][0x2]*this['mat'][0x4])/_0x510e4a,this['mat'][0x3]=(this['mat'][0x5]*this['mat'][0x6]-this['mat'][0x3]*this['mat'][0x8])/_0x510e4a,this['mat'][0x4]=(this['mat'][0x0]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x6])/_0x510e4a,this['mat'][0x5]=(this['mat'][0x2]*this['mat'][0x3]-this['mat'][0x0]*this['mat'][0x5])/_0x510e4a,this['mat'][0x6]=(this['mat'][0x3]*this['mat'][0x7]-this['mat'][0x4]*this['mat'][0x6])/_0x510e4a,this['mat'][0x7]=(this['mat'][0x1]*this['mat'][0x6]-this['mat'][0x0]*this['mat'][0x7])/_0x510e4a,this['mat'][0x8]=(this['mat'][0x0]*this['mat'][0x4]-this['mat'][0x1]*this['mat'][0x3])/_0x510e4a,_0x1a5399;}['invert'](){const _0x5e3d0c=this['inverse']();this['copy'](_0x5e3d0c);}['transpose'](){return F['fromRowMajor'](this['mat'][0x0],this['mat'][0x1],this['mat'][0x2],this['mat'][0x3],this['mat'][0x4],this['mat'][0x5],this['mat'][0x6],this['mat'][0x7],this['mat'][0x8]);}['compose'](_0x471751=x['ZERO'],_0x2f5d4a=0x0,_0x5aaaa1=x['ONE']){this['setTranslation'](_0x471751),this['multiply'](F['makeRotation'](_0x2f5d4a)),this['multiply'](F['makeScale'](_0x5aaaa1));}['decompose'](){const _0x59954d=new x(),_0x4d68a9=new x();return _0x59954d['setPositionFromMatrix'](this),_0x4d68a9['setScaleFromMatrix'](this),[_0x59954d,Math['atan2'](this['mat'][0x1],this['mat'][0x0]),_0x4d68a9];}};let lt=F;o(lt,'IDENTITY',new F());class St{constructor(){o(this,'min');o(this,'max');this['min']=new x(),this['max']=new x();}['copy'](_0x34c5da){this['min']['copy'](_0x34c5da['min']),this['max']['copy'](_0x34c5da['max']);}['transform'](_0x3af618,_0x172d99,_0x371369){this['min']['multiply'](_0x371369),this['max']['multiply'](_0x371369);const _0x7f8269=new x(this['min']['x'],this['max']['y']),_0xa26d22=new x(this['max']['x'],this['max']['y']),_0x38b593=new x(this['min']['x'],this['min']['y']),_0x2f3d65=new x(this['max']['x'],this['min']['y']);_0x7f8269['rotate'](_0x172d99),_0xa26d22['rotate'](_0x172d99),_0x38b593['rotate'](_0x172d99),_0x2f3d65['rotate'](_0x172d99),this['min']['x']=Math['min'](_0x7f8269['x'],Math['min'](_0xa26d22['x'],Math['min'](_0x38b593['x'],_0x2f3d65['x']))),this['min']['y']=Math['min'](_0x7f8269['y'],Math['min'](_0xa26d22['y'],Math['min'](_0x38b593['y'],_0x2f3d65['y']))),this['max']['x']=Math['max'](_0x7f8269['x'],Math['max'](_0xa26d22['x'],Math['max'](_0x38b593['x'],_0x2f3d65['x']))),this['max']['y']=Math['max'](_0x7f8269['y'],Math['max'](_0xa26d22['y'],Math['max'](_0x38b593['y'],_0x2f3d65['y']))),this['min']['add'](_0x3af618),this['max']['add'](_0x3af618);}['intersects'](_0x10fce2){const _0x46b8c9=x['add'](this['max'],this['min']);_0x46b8c9['multiplyScalar'](0.5);const _0x214bdf=x['add'](_0x10fce2['max'],_0x10fce2['min']);_0x214bdf['multiplyScalar'](0.5);const _0x341ebd=x['subtract'](this['max'],this['min']);_0x341ebd['multiplyScalar'](0.5);const _0xcfb30c=x['subtract'](_0x10fce2['max'],_0x10fce2['min']);return _0xcfb30c['multiplyScalar'](0.5),Math['abs'](_0x46b8c9['x']-_0x214bdf['x'])>_0x341ebd['x']+_0xcfb30c['x']?!0x1:!(Math['abs'](_0x46b8c9['y']-_0x214bdf['y'])>_0x341ebd['y']+_0xcfb30c['y']);}}class Dt{constructor(){o(this,'center');o(this,'radius');this['center']=new x(),this['radius']=0x0;}['copy'](_0x19f688){this['center']['copy'](_0x19f688['center']),this['radius']=_0x19f688['radius'];}['transform'](_0x7d270d,_0x574fc3){this['center']['multiply'](_0x574fc3),this['center']['add'](_0x7d270d),_0x574fc3['x']>=_0x574fc3['y']?this['radius']*=_0x574fc3['x']:this['radius']*=_0x574fc3['y'];}['intersects'](_0x29aa61){return this['center']['distanceTo'](_0x29aa61['center'])<this['radius']+_0x29aa61['radius'];}}class qt{constructor(){o(this,'children');o(this,'parent');o(this,'position');o(this,'rotation');o(this,'scale');o(this,'layer');o(this,'autoUpdateMatrix');o(this,'matrix');o(this,'worldMatrix');o(this,'visible');o(this,'boundingBox');o(this,'boundingCircle');this['children']=[],this['position']=new x(),this['rotation']=0x0,this['scale']=new x(0x1,0x1),this['autoUpdateMatrix']=!0x0,this['matrix']=new lt(),this['worldMatrix']=new lt(),this['layer']=0x0,this['visible']=!0x0,this['parent']=null,this['boundingBox']=new St(),this['boundingCircle']=new Dt();}['draw'](_0x3411fd){!this['visible']||this['children']['forEach'](_0x19a8ae=>{_0x19a8ae['draw'](this);});}['traverseSceneGraph'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']),this['children']['forEach'](_0x5323b3=>{_0x5323b3['traverseSceneGraph']();});}['updateWorldMatrix'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['parent']['updateWorldMatrix'](),this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']);}['add'](_0x3312d5){this['children']['push'](_0x3312d5),_0x3312d5['parent']=this;}['remove'](){return this['parent']==null?!0x1:this['parent']['removeChild'](this)!=null;}['removeChild'](_0x3fc645){const _0x384b62=this['children']['indexOf'](_0x3fc645);if(_0x384b62==-0x1)return null;{const _0x1ecd0f=this['children']['splice'](_0x384b62,0x1);return _0x1ecd0f[0x0]['parent']=null,_0x1ecd0f[0x0];}}['translate'](_0x2948ab){const _0x5c7f5c=x['rotate'](_0x2948ab,this['rotation']);this['position']['add'](_0x5c7f5c);}['translateX'](_0x564eb8){const _0x249a01=x['rotate'](new x(_0x564eb8,0x0),this['rotation']);this['position']['add'](_0x249a01);}['translateY'](_0x55e89e){const _0x4c427b=x['rotate'](new x(0x0,_0x55e89e),this['rotation']);this['position']['add'](_0x4c427b);}['lookAt'](_0x57aef6,_0x21053a=x['UP']){this['updateWorldMatrix']();const [_0xf28d0d,_0x16670d,_0x4d06c6]=this['worldMatrix']['decompose'](),_0x5251ef=x['subtract'](_0x57aef6,_0xf28d0d);if(_0x5251ef['length']()>0x0){const _0x47982c=x['rotate'](_0x21053a,_0x16670d);this['rotation']+=_0x47982c['angleBetweenSigned'](_0x5251ef);}}['intersects'](_0x3a1635,_0x2929e2=0x0){if(_0x2929e2==0x0){const _0xf28b20=new Dt();_0xf28b20['copy'](this['boundingCircle']),_0xf28b20['transform'](this['position'],this['scale']);const _0x1084d7=new Dt();return _0x1084d7['copy'](_0x3a1635['boundingCircle']),_0x1084d7['transform'](_0x3a1635['position'],_0x3a1635['scale']),_0xf28b20['intersects'](_0x1084d7);}else if(_0x2929e2==0x1){const _0x1fa36f=new St();_0x1fa36f['copy'](this['boundingBox']),_0x1fa36f['transform'](this['position'],this['rotation'],this['scale']);const _0x3db018=new St();return _0x3db018['copy'](_0x3a1635['boundingBox']),_0x3db018['transform'](_0x3a1635['position'],_0x3a1635['rotation'],_0x3a1635['scale']),_0x1fa36f['intersects'](_0x3db018);}else return!0x1;}}class Kt{constructor(){o(this,'lights');o(this,'lightTypes');o(this,'lightPositions');o(this,'ambientIntensities');o(this,'diffuseIntensities');o(this,'specularIntensities');this['lights']=[],this['lightTypes']=[],this['lightPositions']=[],this['ambientIntensities']=[],this['diffuseIntensities']=[],this['specularIntensities']=[];}['clear'](){this['lights']=[],this['lightTypes']=[],this['lightPositions']=[],this['ambientIntensities']=[],this['diffuseIntensities']=[],this['specularIntensities']=[];}['addLight'](_0x495c88){this['lights']['some'](_0x226b02=>_0x226b02==_0x495c88)||this['lights']['push'](_0x495c88);}['getNumLights'](){return this['lights']['length'];}['updateLights'](){this['lights']['forEach'](_0x519634=>{const [_0x5a3172,_0x343794,_0x1a9661]=_0x519634['worldMatrix']['decompose']();this['lightPositions']['push'](_0x5a3172['x'],_0x5a3172['y'],_0x5a3172['z']),this['lightTypes']['push'](_0x519634['getType']()),_0x519634['visible']?(this['ambientIntensities']['push'](_0x519634['ambientIntensity']['x'],_0x519634['ambientIntensity']['y'],_0x519634['ambientIntensity']['z']),this['diffuseIntensities']['push'](_0x519634['diffuseIntensity']['x'],_0x519634['diffuseIntensity']['y'],_0x519634['diffuseIntensity']['z']),this['specularIntensities']['push'](_0x519634['specularIntensity']['x'],_0x519634['specularIntensity']['y'],_0x519634['specularIntensity']['z'])):(this['ambientIntensities']['push'](0x0,0x0,0x0),this['diffuseIntensities']['push'](0x0,0x0,0x0),this['specularIntensities']['push'](0x0,0x0,0x0));});}}class Qt{constructor(){o(this,'root3d');o(this,'root2d');o(this,'lightManager');this['root3d']=new G(),this['root2d']=new qt(),this['lightManager']=new Kt();}['draw'](_0x1b8887){_0x1b8887['updateWorldMatrix'](),this['lightManager']['clear'](),this['root3d']['setLights'](this['lightManager']),this['lightManager']['updateLights'](),this['root3d']['children']['forEach'](_0x54a8a5=>{_0x54a8a5['draw'](this['root3d'],_0x1b8887,this['lightManager']);}),this['root2d']['children']['forEach'](_0x29389d=>{_0x29389d['draw'](this['root2d']);});}['add'](_0x3a0715){_0x3a0715 instanceof G?this['root3d']['add'](_0x3a0715):this['root2d']['add'](_0x3a0715);}['traverseSceneGraph'](){this['root3d']['children']['forEach'](_0x2edb30=>{_0x2edb30['traverseSceneGraph']();}),this['root2d']['children']['forEach'](_0x4260ce=>{_0x4260ce['traverseSceneGraph']();});}}class ti{constructor(){o(this,'requestedAssets');o(this,'loadedAssets');o(this,'errorAssets');this['requestedAssets']=[],this['loadedAssets']=[],this['errorAssets']=[];}['allAssetsLoaded'](){return this['requestedAssets']['length']==this['loadedAssets']['length']+this['errorAssets']['length'];}}const Mt=class{constructor(_0x380b73=!0x1){o(this,'renderer');o(this,'camera');o(this,'scene');o(this,'assetManager');o(this,'runInBackground');o(this,'time');o(this,'paused');o(this,'previousTouches');Mt['instance']=this,this['time']=Date['now'](),this['paused']=!0x1,this['camera']=new $t(),this['scene']=new Qt(),this['renderer']=new Zt(_0x380b73),this['assetManager']=new ti(),this['runInBackground']=!0x1,this['previousTouches']=[new x()],window['addEventListener']('resize',()=>{this['resize']();},!0x1),window['addEventListener']('mousedown',_0x122865=>{this['onMouseDown'](_0x122865);}),window['addEventListener']('mouseup',_0x4c2410=>{this['onMouseUp'](_0x4c2410);}),window['addEventListener']('mousemove',_0x25a436=>{this['onMouseMove'](_0x25a436);}),window['addEventListener']('wheel',_0x2b459c=>{this['onMouseWheel'](_0x2b459c);}),window['addEventListener']('keydown',_0xf4d53=>{this['onKeyDown'](_0xf4d53);}),window['addEventListener']('keyup',_0x362e32=>{this['onKeyUp'](_0x362e32);}),window['addEventListener']('focus',_0x30fe5c=>{this['onFocusReceived'](_0x30fe5c);}),window['addEventListener']('blur',_0x543428=>{this['onFocusLost'](_0x543428);}),window['addEventListener']('touchstart',_0x54ea5a=>{this['onTouchStart'](_0x54ea5a);},{'passive':!0x1}),window['addEventListener']('touchmove',_0xa2ab1a=>{this['onTouchMove'](_0xa2ab1a);},{'passive':!0x1}),window['addEventListener']('touchend',_0x3f7d2c=>{this['onTouchEnd'](_0x3f7d2c);},{'passive':!0x1}),window['addEventListener']('touchcancel',_0x8e4211=>{this['onTouchEnd'](_0x8e4211);},{'passive':!0x1}),window['addEventListener']('contextmenu',_0x5be6d1=>_0x5be6d1['preventDefault']()),this['camera']['setOrthographicCamera'](0x0,0x1,0x0,0x1,0.01,0x1);}static['getInstance'](){return Mt['instance'];}['start'](){this['createScene'](),this['initializationLoop']();}['initializationLoop'](){this['assetManager']['allAssetsLoaded']()?(this['onAssetsLoaded'](),this['time']=Date['now'](),this['mainLoop']()):window['requestAnimationFrame'](()=>this['initializationLoop']());}['mainLoop'](){(this['runInBackground']||!this['paused'])&&(this['update']((Date['now']()-this['time'])/0x3e8),this['scene']['traverseSceneGraph'](),this['lateUpdate']((Date['now']()-this['time'])/0x3e8),this['renderer']['render'](this['scene'],this['camera']),this['time']=Date['now']()),window['requestAnimationFrame'](()=>this['mainLoop']());}['resize'](){this['renderer']['resize'](window['innerWidth'],window['innerHeight'],this['camera']['getAspectRatio']());}['onTouchStart'](_0x5efe96){_0x5efe96['touches']['length']==0x1&&this['simulateMouseEvent']('mousedown',_0x5efe96);}['onTouchMove'](_0x45562a){_0x45562a['preventDefault'](),_0x45562a['touches']['length']==0x1?this['simulateMouseEvent']('mousemove',_0x45562a):this['simulateWheelEvent'](_0x45562a);}['onTouchEnd'](_0x2007dc){_0x2007dc['touches']['length']==0x0&&this['simulateMouseEvent']('mouseup',_0x2007dc);}['onFocusReceived'](_0xc61b20){this['resume']();}['onFocusLost'](_0x16bc47){this['pause']();}['pause'](){this['paused']=!0x0;}['resume'](){this['time']=Date['now'](),this['paused']=!0x1;}['isPaused'](){return this['paused'];}['getNormalizedDeviceCoordinates'](_0x1ebc9,_0xcf105d){return this['renderer']['getNormalizedDeviceCoordinates'](_0x1ebc9,_0xcf105d);}['simulateMouseEvent'](_0x3fce44,_0x3d9c3c){if(this['previousTouches']['length']==0x1){const _0x5639c8=new MouseEvent(_0x3fce44,{'button':0x0,'buttons':0x1,'clientX':_0x3d9c3c['changedTouches'][0x0]['clientX'],'clientY':_0x3d9c3c['changedTouches'][0x0]['clientY'],'screenX':_0x3d9c3c['changedTouches'][0x0]['screenX'],'screenY':_0x3d9c3c['changedTouches'][0x0]['screenY'],'movementX':_0x3d9c3c['changedTouches'][0x0]['clientX']-this['previousTouches'][0x0]['x'],'movementY':_0x3d9c3c['changedTouches'][0x0]['clientY']-this['previousTouches'][0x0]['y'],'view':_0x3d9c3c['view'],'cancelable':!0x0,'bubbles':!0x0});_0x3d9c3c['target']['dispatchEvent'](_0x5639c8);}this['previousTouches']=[new x(_0x3d9c3c['changedTouches'][0x0]['clientX'],_0x3d9c3c['changedTouches'][0x0]['clientY'])];}['simulateWheelEvent'](_0xacebb4){if(this['previousTouches']['length']>0x1){const _0x1bf423=this['previousTouches'][0x0]['distanceTo'](this['previousTouches'][0x1]),_0x549d5a=Math['sqrt']((_0xacebb4['touches'][0x0]['clientX']-_0xacebb4['touches'][0x1]['clientX'])*(_0xacebb4['touches'][0x0]['clientX']-_0xacebb4['touches'][0x1]['clientX'])+(_0xacebb4['touches'][0x0]['clientY']-_0xacebb4['touches'][0x1]['clientY'])*(_0xacebb4['touches'][0x0]['clientY']-_0xacebb4['touches'][0x1]['clientY']));let _0x3c9e1c=0x0;_0x549d5a>_0x1bf423?_0x3c9e1c=-_0x549d5a/_0x1bf423:_0x549d5a<_0x1bf423&&(_0x3c9e1c=_0x1bf423/_0x549d5a);const _0x1ffc87=new WheelEvent('wheel',{'clientX':(_0xacebb4['touches'][0x0]['clientX']+_0xacebb4['touches'][0x1]['clientX'])/0x2,'clientY':(_0xacebb4['touches'][0x0]['clientY']+_0xacebb4['touches'][0x1]['clientY'])/0x2,'screenX':(_0xacebb4['touches'][0x0]['screenX']+_0xacebb4['touches'][0x1]['screenX'])/0x2,'screenY':(_0xacebb4['touches'][0x0]['screenY']+_0xacebb4['touches'][0x1]['screenY'])/0x2,'movementX':(_0xacebb4['touches'][0x0]['clientX']-this['previousTouches'][0x0]['x']+(_0xacebb4['touches'][0x1]['clientX']-this['previousTouches'][0x1]['x']))/0x2,'movementY':(_0xacebb4['touches'][0x0]['clientY']-this['previousTouches'][0x0]['y']+(_0xacebb4['touches'][0x1]['clientY']-this['previousTouches'][0x1]['y']))/0x2,'deltaX':0x0,'deltaY':0x32*_0x3c9e1c,'deltaZ':0x0,'deltaMode':WheelEvent['DOM_DELTA_PIXEL'],'view':_0xacebb4['view'],'cancelable':!0x0,'bubbles':!0x0});_0xacebb4['target']['dispatchEvent'](_0x1ffc87);}this['previousTouches']=[];for(let _0x5944b4=0x0;_0x5944b4<_0xacebb4['changedTouches']['length'];_0x5944b4++)this['previousTouches']['push'](new x(_0xacebb4['touches'][_0x5944b4]['clientX'],_0xacebb4['touches'][_0x5944b4]['clientY']));}['lateUpdate'](_0x4f2769){}['onAssetsLoaded'](){}['onMouseDown'](_0x18a5fb){}['onMouseUp'](_0x42260c){}['onMouseMove'](_0x142220){}['onMouseWheel'](_0x4a4777){}['onKeyDown'](_0x393b7c){}['onKeyUp'](_0x47386f){}};let S=Mt;o(S,'instance');var ii='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20vec3\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(worldNormal,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20worldNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20vertColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(worldPosition,\x201);\x0a}',ei='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';class ut{constructor(){o(this,'visible');o(this,'side');o(this,'gl');this['visible']=!0x0,this['side']=0x0,this['gl']=S['getInstance']()['renderer']['gl'];}['initialize'](){if(this['side']==0x2){this['gl']['disable'](this['gl']['CULL_FACE']);return;}this['gl']['enable'](this['gl']['CULL_FACE']),this['side']==0x0?this['gl']['cullFace'](this['gl']['BACK']):this['gl']['cullFace'](this['gl']['FRONT']);}}class ot{constructor(_0x4724bc,_0x15ff04){o(this,'vertexShader');o(this,'fragmentShader');o(this,'shaderProgram');o(this,'vertexSource');o(this,'fragmentSource');o(this,'initialized');this['vertexSource']=_0x4724bc,this['fragmentSource']=_0x15ff04,this['vertexShader']=null,this['fragmentShader']=null,this['shaderProgram']=null,this['initialized']=!0x1;}['initialize'](_0x1a3b2b){this['initialized']||(this['initialized']=!0x0,this['vertexShader']=this['createVertexShader'](_0x1a3b2b,this['vertexSource']),this['fragmentShader']=this['createFragmentShader'](_0x1a3b2b,this['fragmentSource']),this['vertexShader']&&this['fragmentShader']&&(this['shaderProgram']=this['createShaderProgram'](_0x1a3b2b,this['vertexShader'],this['fragmentShader'])));}['createVertexShader'](_0x3247f3,_0x5f594d){const _0x4c1722=_0x3247f3['createShader'](_0x3247f3['VERTEX_SHADER']);return _0x4c1722?(_0x3247f3['shaderSource'](_0x4c1722,_0x5f594d),_0x3247f3['compileShader'](_0x4c1722),_0x3247f3['getShaderParameter'](_0x4c1722,_0x3247f3['COMPILE_STATUS'])||(console['error']('Error:\x20unable\x20to\x20load\x20vertex\x20shader'),console['error'](_0x3247f3['getShaderInfoLog'](_0x4c1722)))):console['error']('Error:\x20unable\x20to\x20create\x20vertex\x20shader'),_0x4c1722;}['createFragmentShader'](_0x4217c3,_0x2bc68f){const _0x2872a6=_0x4217c3['createShader'](_0x4217c3['FRAGMENT_SHADER']);return _0x2872a6?(_0x4217c3['shaderSource'](_0x2872a6,_0x2bc68f),_0x4217c3['compileShader'](_0x2872a6),_0x4217c3['getShaderParameter'](_0x2872a6,_0x4217c3['COMPILE_STATUS'])||(console['error']('Error:\x20unable\x20to\x20load\x20fragment\x20shader'),console['error'](_0x4217c3['getShaderInfoLog'](_0x2872a6)))):console['error']('Error:\x20unable\x20to\x20create\x20fragment\x20shader'),_0x2872a6;}['createShaderProgram'](_0x45157e,_0x46a595,_0x633684){let _0x4167c3=null;if(_0x46a595&&_0x633684){if(_0x4167c3=_0x45157e['createProgram'](),!_0x4167c3)return console['error']('Error:\x20could\x20not\x20create\x20shader\x20program'),null;if(_0x45157e['attachShader'](_0x4167c3,_0x46a595),_0x45157e['attachShader'](_0x4167c3,_0x633684),_0x45157e['linkProgram'](_0x4167c3),!_0x45157e['getProgramParameter'](_0x4167c3,_0x45157e['LINK_STATUS']))return console['error']('Error:\x20could\x20not\x20link\x20shader\x20program'),console['error'](_0x45157e['getProgramInfoLog'](_0x4167c3)),null;}return _0x4167c3;}['getProgram'](){return this['shaderProgram'];}['getAttribute'](_0x5b8cac,_0x2be945){return this['shaderProgram']?_0x5b8cac['getAttribLocation'](this['shaderProgram'],_0x2be945):-0x1;}['getUniform'](_0xfa4e4d,_0x14e4e1){return this['shaderProgram']?_0xfa4e4d['getUniformLocation'](this['shaderProgram'],_0x14e4e1):null;}}const U=class extends ut{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,U['shader']['initialize'](this['gl']),this['kAmbientUniform']=U['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=U['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=U['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=U['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=U['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=U['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=U['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=U['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=U['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=U['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=U['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=U['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=U['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=U['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=U['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=U['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=U['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=U['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0xe031a2,_0x10c34b,_0x4b2f61,_0x15eabd){if(!this['visible']||_0xe031a2['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](U['shader']['getProgram']());const _0xe8c395=new m();_0xe8c395['transform'](_0x4b2f61['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0xe8c395['x'],_0xe8c395['y'],_0xe8c395['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x10c34b['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x4b2f61['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x4b2f61['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x10c34b['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x15eabd['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x15eabd['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x15eabd['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x15eabd['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x15eabd['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x15eabd['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0xe031a2['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0xe031a2['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0xe031a2['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0xe031a2['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0xe031a2['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0xe031a2['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0);}['setColor'](_0x7024b6){this['ambientColor']['copy'](_0x7024b6),this['diffuseColor']['copy'](_0x7024b6),this['specularColor']['copy'](_0x7024b6);}};let Bt=U;o(Bt,'shader',new ot(ii,ei));class Xt extends G{constructor(){super();o(this,'gl');o(this,'positionBuffer');o(this,'normalBuffer');o(this,'colorBuffer');o(this,'indexBuffer');o(this,'texCoordBuffer');o(this,'morphTargetPositionBuffer');o(this,'morphTargetNormalBuffer');o(this,'vertexCount');o(this,'triangleCount');o(this,'material');o(this,'morphTargetBoundingBox');o(this,'morphTargetBoundingSphere');this['gl']=S['getInstance']()['renderer']['gl'],this['positionBuffer']=this['gl']['createBuffer'](),this['normalBuffer']=this['gl']['createBuffer'](),this['colorBuffer']=this['gl']['createBuffer'](),this['indexBuffer']=this['gl']['createBuffer'](),this['texCoordBuffer']=this['gl']['createBuffer'](),this['morphTargetPositionBuffer']=this['gl']['createBuffer'](),this['morphTargetNormalBuffer']=this['gl']['createBuffer'](),this['vertexCount']=0x0,this['triangleCount']=0x0,this['material']=new Bt(),this['morphTargetBoundingBox']=new vt(),this['morphTargetBoundingSphere']=new Ct();}['draw'](_0x5c3d9f,_0x497c31,_0x2ed69e){!this['visible']||(this['material']['draw'](this,this,_0x497c31,_0x2ed69e),this['children']['forEach'](_0x2d48ec=>{_0x2d48ec['draw'](this,_0x497c31,_0x2ed69e);}));}['setVertices'](_0xfdfd28,_0x365953=!0x1){if(_0xfdfd28['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),typeof _0xfdfd28[0x0]=='number')_0x365953?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0xfdfd28),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0xfdfd28),this['gl']['STATIC_DRAW']),this['vertexCount']=_0xfdfd28['length']/0x3,this['boundingBox']['computeBounds'](_0xfdfd28),this['boundingSphere']['computeBounds'](_0xfdfd28,this['boundingBox']);else{const _0x52a59f=[];_0xfdfd28['forEach'](_0x48cd03=>{_0x52a59f['push'](_0x48cd03['x'],_0x48cd03['y'],_0x48cd03['z']);}),_0x365953?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x52a59f),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x52a59f),this['gl']['STATIC_DRAW']),this['vertexCount']=_0xfdfd28['length'],this['boundingBox']['computeBounds'](_0x52a59f),this['boundingSphere']['computeBounds'](_0x52a59f,this['boundingBox']);}}['setNormals'](_0x4ae9de,_0x3e20c=!0x1){if(_0x4ae9de['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['normalBuffer']),typeof _0x4ae9de[0x0]=='number')_0x3e20c?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4ae9de),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4ae9de),this['gl']['STATIC_DRAW']);else{const _0x3980bc=[];_0x4ae9de['forEach'](_0x42e784=>{_0x3980bc['push'](_0x42e784['x'],_0x42e784['y'],_0x42e784['z']);}),_0x3e20c?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3980bc),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3980bc),this['gl']['STATIC_DRAW']);}}['setColors'](_0xddae85,_0x486ddf=!0x1){if(_0xddae85['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),typeof _0xddae85[0x0]=='number')_0x486ddf?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0xddae85),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0xddae85),this['gl']['STATIC_DRAW']);else{const _0x4d1a63=[];_0xddae85['forEach'](_0x2a9473=>{_0x4d1a63['push'](_0x2a9473['r'],_0x2a9473['g'],_0x2a9473['b'],_0x2a9473['a']);}),_0x486ddf?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4d1a63),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4d1a63),this['gl']['STATIC_DRAW']);}}['setTextureCoordinates'](_0x1edd83,_0x354aad=!0x1){if(_0x1edd83['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['texCoordBuffer']),typeof _0x1edd83[0x0]=='number')_0x354aad?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1edd83),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1edd83),this['gl']['STATIC_DRAW']);else{const _0x1325eb=[];_0x1edd83['forEach'](_0x4d3366=>{_0x1325eb['push'](_0x4d3366['x'],_0x4d3366['y']);}),_0x354aad?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1325eb),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1325eb),this['gl']['STATIC_DRAW']);}}['setIndices'](_0xe5434c,_0x74b9c8=!0x1){if(_0xe5434c['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],this['indexBuffer']),typeof _0xe5434c[0x0]=='number')this['triangleCount']=_0xe5434c['length']/0x3,_0x74b9c8?this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0xe5434c),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0xe5434c),this['gl']['STATIC_DRAW']);else{this['triangleCount']=_0xe5434c['length'];const _0x3b0440=[];_0xe5434c['forEach'](_0x439141=>{_0x3b0440['push'](_0x439141['x'],_0x439141['y'],_0x439141['z']);}),_0x74b9c8?this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x3b0440),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x3b0440),this['gl']['STATIC_DRAW']);}}['setArrayBuffer'](_0x4f2734,_0x5b674e,_0x3a1849=!0x1){if(_0x4f2734['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x5b674e),typeof _0x4f2734[0x0]=='number')_0x3a1849?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4f2734),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4f2734),this['gl']['STATIC_DRAW']);else{const _0xdf33c6=[];_0x4f2734['forEach'](_0x5b044b=>{_0xdf33c6['push'](_0x5b044b['x'],_0x5b044b['y'],_0x5b044b['z']);}),_0x3a1849?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0xdf33c6),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0xdf33c6),this['gl']['STATIC_DRAW']);}}['setMorphTargetVertices'](_0x212d2f,_0x4dc28d=!0x1,_0x3cdb0b=!0x0){if(_0x212d2f['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['morphTargetPositionBuffer']),typeof _0x212d2f[0x0]=='number')_0x4dc28d?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x212d2f),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x212d2f),this['gl']['STATIC_DRAW']),this['morphTargetBoundingBox']['computeBounds'](_0x212d2f),this['morphTargetBoundingSphere']['computeBounds'](_0x212d2f,this['morphTargetBoundingBox']);else{const _0x446c2a=[];_0x212d2f['forEach'](_0x25a28b=>{_0x446c2a['push'](_0x25a28b['x'],_0x25a28b['y'],_0x25a28b['z']);}),_0x4dc28d?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x446c2a),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x446c2a),this['gl']['STATIC_DRAW']),this['morphTargetBoundingBox']['computeBounds'](_0x446c2a),this['morphTargetBoundingSphere']['computeBounds'](_0x446c2a,this['morphTargetBoundingBox']);}}['setMorphTargetNormals'](_0x3a2e3d,_0x3efad9=!0x1){if(_0x3a2e3d['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['morphTargetNormalBuffer']),typeof _0x3a2e3d[0x0]=='number')_0x3efad9?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3a2e3d),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x3a2e3d),this['gl']['STATIC_DRAW']);else{const _0x1318b6=[];_0x3a2e3d['forEach'](_0x33e987=>{_0x1318b6['push'](_0x33e987['x'],_0x33e987['y'],_0x33e987['z']);}),_0x3efad9?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1318b6),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1318b6),this['gl']['STATIC_DRAW']);}}['getVertices'](){const _0x2c19c7=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x2c19c7),[..._0x2c19c7];}['getNormals'](){const _0x206148=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['normalBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x206148),[..._0x206148];}['getColors'](){const _0x4bc50f=new Float32Array(this['vertexCount']*0x4);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x4bc50f),[..._0x4bc50f];}['getTextureCoordinates'](){const _0x2c0eca=new Float32Array(this['vertexCount']*0x2);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['texCoordBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x2c0eca),[..._0x2c0eca];}['getIndices'](){const _0x3ad292=new Uint16Array(this['triangleCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],this['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x3ad292),[..._0x3ad292];}['getArrayBuffer'](_0x51c478){const _0x2cafc8=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x51c478),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x2cafc8),[..._0x2cafc8];}['createDefaultVertexColors'](){const _0x5ec98a=[];for(let _0x24632b=0x0;_0x24632b<this['vertexCount'];_0x24632b++)_0x5ec98a['push'](0x1,0x1,0x1,0x1);this['setColors'](_0x5ec98a);}['computeBounds'](_0x431bc4){_0x431bc4||(_0x431bc4=this['getVertices']()),_0x431bc4['length']!=0x0&&(this['boundingBox']['computeBounds'](_0x431bc4),this['boundingSphere']['computeBounds'](_0x431bc4,this['boundingBox']));}['mergeSharedVertices'](){const _0xcab165=this['getVertices'](),_0x5e536b=this['getNormals'](),_0x15ab08=this['getColors'](),_0x77aef0=this['getTextureCoordinates'](),_0x2ee086=[],_0x3f72a1=[],_0x32b1e2=[],_0x1b1eea=[],_0x3e7b2e=this['getIndices']();for(let _0x2d6ad8=0x0;_0x2d6ad8<_0xcab165['length'];_0x2d6ad8+=0x3)_0x2ee086['push'](new m(_0xcab165[_0x2d6ad8],_0xcab165[_0x2d6ad8+0x1],_0xcab165[_0x2d6ad8+0x2])),_0x3f72a1['push'](new m(_0x5e536b[_0x2d6ad8],_0x5e536b[_0x2d6ad8+0x1],_0x5e536b[_0x2d6ad8+0x2])),_0x32b1e2['push'](new M(_0x15ab08[_0x2d6ad8],_0x15ab08[_0x2d6ad8+0x1],_0x15ab08[_0x2d6ad8+0x2]));for(let _0x42255c=0x0;_0x42255c<_0x77aef0['length'];_0x42255c+=0x2)_0x1b1eea['push'](new x(_0x77aef0[_0x42255c],_0x77aef0[_0x42255c+0x1]));const _0x1a2d3d=[],_0x5d5cdc=[],_0x1e6ba3=[],_0x2675d1=[],_0x47ce9b=_0x3e7b2e['slice'](),_0x11e2a3=[];for(let _0x2b47a3=0x0;_0x2b47a3<_0x2ee086['length'];_0x2b47a3++){let _0x406e28=!0x1;for(let _0x187b98=0x0;_0x187b98<_0x1a2d3d['length'];_0x187b98++)if(_0x2ee086[_0x2b47a3]['equals'](_0x1a2d3d[_0x187b98])){for(let _0x5086b1=0x0;_0x5086b1<_0x3e7b2e['length'];_0x5086b1++)_0x3e7b2e[_0x5086b1]==_0x2b47a3&&(_0x47ce9b[_0x5086b1]=_0x187b98);_0x5d5cdc[_0x187b98]['add'](_0x3f72a1[_0x2b47a3]),_0x1e6ba3[_0x187b98]['add'](_0x32b1e2[_0x2b47a3]),_0x2675d1[_0x187b98]['add'](_0x1b1eea[_0x2b47a3]),_0x11e2a3[_0x187b98]++,_0x406e28=!0x0;}if(!_0x406e28){_0x1a2d3d['push'](_0x2ee086[_0x2b47a3]),_0x5d5cdc['push'](_0x3f72a1[_0x2b47a3]),_0x1e6ba3['push'](_0x32b1e2[_0x2b47a3]),_0x2675d1['push'](_0x1b1eea[_0x2b47a3]),_0x11e2a3['push'](0x1);for(let _0x4f284d=0x0;_0x4f284d<_0x3e7b2e['length'];_0x4f284d++)_0x3e7b2e[_0x4f284d]==_0x2b47a3&&(_0x47ce9b[_0x4f284d]=_0x1a2d3d['length']-0x1);}}for(let _0x47db70=0x0;_0x47db70<_0x1a2d3d['length'];_0x47db70++)_0x5d5cdc[_0x47db70]['multiplyScalar'](0x1/_0x11e2a3[_0x47db70]),_0x1e6ba3[_0x47db70]['multiplyScalar'](0x1/_0x11e2a3[_0x47db70]),_0x2675d1[_0x47db70]['multiplyScalar'](0x1/_0x11e2a3[_0x47db70]);this['setVertices'](_0x1a2d3d),this['setNormals'](_0x5d5cdc),this['setColors'](_0x1e6ba3),this['setTextureCoordinates'](_0x2675d1),this['setIndices'](_0x47ce9b);}}class pt extends G{constructor(_0x20719e,_0x44fc8=!0x0){super();o(this,'baseMesh');o(this,'material');this['baseMesh']=_0x20719e,this['material']=_0x20719e['material'],_0x44fc8&&(this['position']['copy'](_0x20719e['position']),this['rotation']['copy'](_0x20719e['rotation']),this['scale']['copy'](_0x20719e['scale']));}['getBaseMesh'](){return this['baseMesh'];}['draw'](_0x16f3da,_0xeb1f19,_0x224b48){!this['visible']||(this['material']['draw'](this['baseMesh'],this,_0xeb1f19,_0x224b48),this['children']['forEach'](_0x3a68b6=>{_0x3a68b6['draw'](this,_0xeb1f19,_0x224b48);}));}}class K extends Xt{constructor(_0x82d7c9=0x1,_0x13c474=0x1,_0x24941c=0x1){super();o(this,'width');o(this,'height');o(this,'depth');this['width']=_0x82d7c9,this['height']=_0x13c474,this['depth']=_0x24941c,this['createVertices'](this['width'],this['height'],this['depth']),this['createNormals'](),this['createTextureCoords'](),this['createIndices'](),this['createDefaultVertexColors']();}['setLine'](_0x466dbd,_0x103cb9,_0x410262){this['position']['copy'](_0x466dbd),this['lookAt'](_0x103cb9);const _0x344ea8=m['distanceBetween'](_0x466dbd,_0x103cb9);this['translateZ'](-_0x344ea8/0x2),this['scale']['x']=_0x410262,this['scale']['y']=_0x410262,this['scale']['z']=_0x344ea8;}['createVertices'](_0x46751d,_0x2df7d2,_0x45e6ed){const _0xc2d95a=[];_0xc2d95a['push'](-_0x46751d/0x2,-_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,-_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,-_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,-_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,-_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,-_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,-_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,-_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,-_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,-_0x2df7d2/0x2,_0x45e6ed/0x2),_0xc2d95a['push'](_0x46751d/0x2,-_0x2df7d2/0x2,-_0x45e6ed/0x2),_0xc2d95a['push'](-_0x46751d/0x2,-_0x2df7d2/0x2,-_0x45e6ed/0x2),this['setVertices'](_0xc2d95a);}['createNormals'](){const _0x5ea17b=[];_0x5ea17b['push'](0x0,0x0,0x1),_0x5ea17b['push'](0x0,0x0,0x1),_0x5ea17b['push'](0x0,0x0,0x1),_0x5ea17b['push'](0x0,0x0,0x1),_0x5ea17b['push'](0x0,0x0,-0x1),_0x5ea17b['push'](0x0,0x0,-0x1),_0x5ea17b['push'](0x0,0x0,-0x1),_0x5ea17b['push'](0x0,0x0,-0x1),_0x5ea17b['push'](-0x1,0x0,0x0),_0x5ea17b['push'](-0x1,0x0,0x0),_0x5ea17b['push'](-0x1,0x0,0x0),_0x5ea17b['push'](-0x1,0x0,0x0),_0x5ea17b['push'](0x1,0x0,0x0),_0x5ea17b['push'](0x1,0x0,0x0),_0x5ea17b['push'](0x1,0x0,0x0),_0x5ea17b['push'](0x1,0x0,0x0),_0x5ea17b['push'](0x0,0x1,0x0),_0x5ea17b['push'](0x0,0x1,0x0),_0x5ea17b['push'](0x0,0x1,0x0),_0x5ea17b['push'](0x0,0x1,0x0),_0x5ea17b['push'](0x0,-0x1,0x0),_0x5ea17b['push'](0x0,-0x1,0x0),_0x5ea17b['push'](0x0,-0x1,0x0),_0x5ea17b['push'](0x0,-0x1,0x0),this['setNormals'](_0x5ea17b);}['createIndices'](){const _0x6a871=[];_0x6a871['push'](0x0,0x1,0x2),_0x6a871['push'](0x2,0x3,0x0),_0x6a871['push'](0x4,0x6,0x5),_0x6a871['push'](0x6,0x4,0x7),_0x6a871['push'](0x8,0x9,0xa),_0x6a871['push'](0xa,0xb,0x8),_0x6a871['push'](0xc,0xe,0xd),_0x6a871['push'](0xe,0xc,0xf),_0x6a871['push'](0x10,0x11,0x12),_0x6a871['push'](0x12,0x13,0x10),_0x6a871['push'](0x14,0x16,0x15),_0x6a871['push'](0x16,0x14,0x17),this['setIndices'](_0x6a871);}['createTextureCoords'](){const _0x1a357d=[];_0x1a357d['push'](0x0,0x1),_0x1a357d['push'](0x1,0x1),_0x1a357d['push'](0x1,0x0),_0x1a357d['push'](0x0,0x0),_0x1a357d['push'](0x1,0x1),_0x1a357d['push'](0x0,0x1),_0x1a357d['push'](0x0,0x0),_0x1a357d['push'](0x1,0x0),_0x1a357d['push'](0x0,0x1),_0x1a357d['push'](0x1,0x1),_0x1a357d['push'](0x1,0x0),_0x1a357d['push'](0x0,0x0),_0x1a357d['push'](0x1,0x1),_0x1a357d['push'](0x0,0x1),_0x1a357d['push'](0x0,0x0),_0x1a357d['push'](0x1,0x0),_0x1a357d['push'](0x0,0x1),_0x1a357d['push'](0x1,0x1),_0x1a357d['push'](0x1,0x0),_0x1a357d['push'](0x0,0x0),_0x1a357d['push'](0x1,0x1),_0x1a357d['push'](0x0,0x1),_0x1a357d['push'](0x0,0x0),_0x1a357d['push'](0x1,0x0),this['setTextureCoordinates'](_0x1a357d);}}class yt extends Xt{constructor(_0x82b2a5=0x1,_0x6f95aa=0x3){super();o(this,'radius');o(this,'subdivisions');this['radius']=_0x82b2a5,this['subdivisions']=_0x6f95aa,this['createSphere'](this['radius'],this['subdivisions']);}['createSphere'](_0x3b02d6,_0x30cab7){let _0x52fec8=[],_0x5d3e5a=[];const _0x5dd8c8=[],_0x8b0739=[],_0x18d03b=(0x1+Math['sqrt'](0x5))*0.5,_0x2d7a16=0x1,_0x5741e9=0x1/_0x18d03b;_0x52fec8['push'](new m(0x0,_0x5741e9,-_0x2d7a16)),_0x52fec8['push'](new m(_0x5741e9,_0x2d7a16,0x0)),_0x52fec8['push'](new m(-_0x5741e9,_0x2d7a16,0x0)),_0x52fec8['push'](new m(0x0,_0x5741e9,_0x2d7a16)),_0x52fec8['push'](new m(0x0,-_0x5741e9,_0x2d7a16)),_0x52fec8['push'](new m(-_0x2d7a16,0x0,_0x5741e9)),_0x52fec8['push'](new m(0x0,-_0x5741e9,-_0x2d7a16)),_0x52fec8['push'](new m(_0x2d7a16,0x0,-_0x5741e9)),_0x52fec8['push'](new m(_0x2d7a16,0x0,_0x5741e9)),_0x52fec8['push'](new m(-_0x2d7a16,0x0,-_0x5741e9)),_0x52fec8['push'](new m(_0x5741e9,-_0x2d7a16,0x0)),_0x52fec8['push'](new m(-_0x5741e9,-_0x2d7a16,0x0));for(let _0x5a7b67=0x0;_0x5a7b67<_0x52fec8['length'];_0x5a7b67++)_0x52fec8[_0x5a7b67]['normalize']();_0x5d3e5a['push'](0x2,0x1,0x0),_0x5d3e5a['push'](0x1,0x2,0x3),_0x5d3e5a['push'](0x5,0x4,0x3),_0x5d3e5a['push'](0x4,0x8,0x3),_0x5d3e5a['push'](0x7,0x6,0x0),_0x5d3e5a['push'](0x6,0x9,0x0),_0x5d3e5a['push'](0xb,0xa,0x4),_0x5d3e5a['push'](0xa,0xb,0x6),_0x5d3e5a['push'](0x9,0x5,0x2),_0x5d3e5a['push'](0x5,0x9,0xb),_0x5d3e5a['push'](0x8,0x7,0x1),_0x5d3e5a['push'](0x7,0x8,0xa),_0x5d3e5a['push'](0x2,0x5,0x3),_0x5d3e5a['push'](0x8,0x1,0x3),_0x5d3e5a['push'](0x9,0x2,0x0),_0x5d3e5a['push'](0x1,0x7,0x0),_0x5d3e5a['push'](0xb,0x9,0x6),_0x5d3e5a['push'](0x7,0xa,0x6),_0x5d3e5a['push'](0x5,0xb,0x4),_0x5d3e5a['push'](0xa,0x8,0x4);for(let _0x205ba0=0x0;_0x205ba0<_0x30cab7;_0x205ba0++){const _0x5d536f=[];for(let _0x4880ea=0x0;_0x4880ea<_0x5d3e5a['length']/0x3;_0x4880ea++){const _0x418bd6=_0x4880ea*0x3,_0x10d0b3=this['createCentroids'](_0x52fec8,_0x5d3e5a[_0x418bd6],_0x5d3e5a[_0x418bd6+0x1],_0x5d3e5a[_0x418bd6+0x2]);_0x52fec8['push'](..._0x10d0b3);const _0x2810c8=this['subdivide'](_0x5d3e5a[_0x418bd6],_0x5d3e5a[_0x418bd6+0x1],_0x5d3e5a[_0x418bd6+0x2],_0x52fec8['length']-0x3,_0x52fec8['length']-0x2,_0x52fec8['length']-0x1);_0x5d536f['push'](..._0x2810c8);}_0x5d3e5a=_0x5d536f;}for(let _0x58b7a0=0x0;_0x58b7a0<_0x52fec8['length'];_0x58b7a0++)_0x52fec8[_0x58b7a0]['multiplyScalar'](_0x3b02d6);[_0x52fec8,_0x5d3e5a]=this['mergeSphereVertices'](_0x52fec8,_0x5d3e5a);for(let _0x29cd9e=0x0;_0x29cd9e<_0x52fec8['length'];_0x29cd9e++){_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x29cd9e]));const _0x398b00=0x1-(_0x52fec8[_0x29cd9e]['y']+_0x3b02d6)/(0x2*_0x3b02d6),_0x4476e1=new m(_0x52fec8[_0x29cd9e]['x'],0x0,_0x52fec8[_0x29cd9e]['z']);_0x4476e1['normalize']();let _0x465c4b=Math['acos'](m['FORWARD']['dot'](_0x4476e1));_0x4476e1['x']>0x0&&(_0x465c4b=Math['PI']*0x2-_0x465c4b);const _0x1692a0=_0x465c4b/(Math['PI']*0x2);_0x8b0739['push'](_0x1692a0,_0x398b00);}const _0x362694=_0x5d3e5a['length'];for(let _0x299728=0x0;_0x299728<_0x362694;_0x299728+=0x3)this['isSeamVertex'](_0x299728,_0x52fec8,_0x5d3e5a)?this['isEndVertex'](_0x299728+0x1,_0x52fec8,_0x5d3e5a)&&this['isEndVertex'](_0x299728+0x2,_0x52fec8,_0x5d3e5a)?(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728]*0x2+0x1]),_0x5d3e5a[_0x299728]=_0x52fec8['length']-0x1):this['isEndVertex'](_0x299728+0x1,_0x52fec8,_0x5d3e5a)?(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728]*0x2+0x1]),_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x2]*0x2+0x1]),_0x5d3e5a[_0x299728]=_0x52fec8['length']-0x2,_0x5d3e5a[_0x299728+0x2]=_0x52fec8['length']-0x1):this['isEndVertex'](_0x299728+0x2,_0x52fec8,_0x5d3e5a)&&(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728]*0x2+0x1]),_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x1]*0x2+0x1]),_0x5d3e5a[_0x299728]=_0x52fec8['length']-0x2,_0x5d3e5a[_0x299728+0x1]=_0x52fec8['length']-0x1):this['isSeamVertex'](_0x299728+0x1,_0x52fec8,_0x5d3e5a)?this['isEndVertex'](_0x299728,_0x52fec8,_0x5d3e5a)&&this['isEndVertex'](_0x299728+0x2,_0x52fec8,_0x5d3e5a)?(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x1]*0x2+0x1]),_0x5d3e5a[_0x299728+0x1]=_0x52fec8['length']-0x1):this['isEndVertex'](_0x299728,_0x52fec8,_0x5d3e5a)?(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x1]*0x2+0x1]),_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x2]*0x2+0x1]),_0x5d3e5a[_0x299728+0x1]=_0x52fec8['length']-0x2,_0x5d3e5a[_0x299728+0x2]=_0x52fec8['length']-0x1):this['isEndVertex'](_0x299728+0x2,_0x52fec8,_0x5d3e5a)&&(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728]*0x2+0x1]),_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x1]*0x2+0x1]),_0x5d3e5a[_0x299728]=_0x52fec8['length']-0x2,_0x5d3e5a[_0x299728+0x1]=_0x52fec8['length']-0x1):this['isSeamVertex'](_0x299728+0x2,_0x52fec8,_0x5d3e5a)&&(this['isEndVertex'](_0x299728,_0x52fec8,_0x5d3e5a)&&this['isEndVertex'](_0x299728+0x1,_0x52fec8,_0x5d3e5a)?(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x2]*0x2+0x1]),_0x5d3e5a[_0x299728+0x2]=_0x52fec8['length']-0x1):this['isEndVertex'](_0x299728,_0x52fec8,_0x5d3e5a)?(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x1]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x1]*0x2+0x1]),_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x2]*0x2+0x1]),_0x5d3e5a[_0x299728+0x1]=_0x52fec8['length']-0x2,_0x5d3e5a[_0x299728+0x2]=_0x52fec8['length']-0x1):this['isEndVertex'](_0x299728+0x1,_0x52fec8,_0x5d3e5a)&&(_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728]*0x2+0x1]),_0x52fec8['push'](m['copy'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x5dd8c8['push'](m['normalize'](_0x52fec8[_0x5d3e5a[_0x299728+0x2]])),_0x8b0739['push'](0x1,_0x8b0739[_0x5d3e5a[_0x299728+0x2]*0x2+0x1]),_0x5d3e5a[_0x299728]=_0x52fec8['length']-0x2,_0x5d3e5a[_0x299728+0x2]=_0x52fec8['length']-0x1));this['setVertices'](_0x52fec8),this['setNormals'](_0x5dd8c8),this['setTextureCoordinates'](_0x8b0739),this['setIndices'](_0x5d3e5a),this['createDefaultVertexColors']();}['isEndVertex'](_0x43fcf7,_0x342d09,_0x1a5034){return _0x342d09[_0x1a5034[_0x43fcf7]]['x']>0x0;}['isSeamVertex'](_0x5419e1,_0x425e41,_0x14d927){return _0x425e41[_0x14d927[_0x5419e1]]['x']==0x0&&_0x425e41[_0x14d927[_0x5419e1]]['z']<=0x0;}['createCentroids'](_0x44d66b,_0x531406,_0x4bc404,_0x3ba40f){const _0x501434=[],_0x40009f=m['add'](_0x44d66b[_0x531406],_0x44d66b[_0x4bc404]);_0x40009f['divideScalar'](0x2),_0x40009f['normalize'](),_0x501434['push'](_0x40009f);const _0x5a7244=m['add'](_0x44d66b[_0x4bc404],_0x44d66b[_0x3ba40f]);_0x5a7244['divideScalar'](0x2),_0x5a7244['normalize'](),_0x501434['push'](_0x5a7244);const _0x566456=m['add'](_0x44d66b[_0x3ba40f],_0x44d66b[_0x531406]);return _0x566456['divideScalar'](0x2),_0x566456['normalize'](),_0x501434['push'](_0x566456),_0x501434;}['subdivide'](_0x4aca25,_0x3602fc,_0x221241,_0x2a1963,_0x119c02,_0x282449){const _0x373ad5=[];return _0x373ad5['push'](_0x4aca25,_0x2a1963,_0x282449),_0x373ad5['push'](_0x3602fc,_0x119c02,_0x2a1963),_0x373ad5['push'](_0x221241,_0x282449,_0x119c02),_0x373ad5['push'](_0x2a1963,_0x119c02,_0x282449),_0x373ad5;}['mergeSphereVertices'](_0x303181,_0x5b5ed5){const _0x567baf=[],_0x18d609=[];_0x5b5ed5['forEach'](_0x37f014=>{_0x18d609['push'](_0x37f014);});for(let _0x1aa3f3=0x0;_0x1aa3f3<_0x303181['length'];_0x1aa3f3++){let _0x503429=!0x1;for(let _0x121313=0x0;_0x121313<_0x567baf['length'];_0x121313++)if(_0x303181[_0x1aa3f3]['equals'](_0x567baf[_0x121313])){for(let _0x30e89c=0x0;_0x30e89c<_0x5b5ed5['length'];_0x30e89c++)_0x5b5ed5[_0x30e89c]==_0x1aa3f3&&(_0x18d609[_0x30e89c]=_0x121313);_0x503429=!0x0;}if(!_0x503429){_0x567baf['push'](_0x303181[_0x1aa3f3]);for(let _0x28c2fd=0x0;_0x28c2fd<_0x5b5ed5['length'];_0x28c2fd++)_0x5b5ed5[_0x28c2fd]==_0x1aa3f3&&(_0x18d609[_0x28c2fd]=_0x567baf['length']-0x1);}}return[_0x567baf,_0x18d609];}}var si='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelViewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201);\x0a}',ni='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20materialColor;\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec2\x20uv;\x0a\x0ain\x20vec4\x20vertColor;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20materialColor\x20*\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const Y=class extends ut{constructor(){super();o(this,'texture');o(this,'color');o(this,'colorUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'modelViewUniform');o(this,'projectionUniform');o(this,'positionAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['color']=new M(0x1,0x1,0x1),Y['shader']['initialize'](this['gl']),this['colorUniform']=Y['shader']['getUniform'](this['gl'],'materialColor'),this['textureUniform']=Y['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=Y['shader']['getUniform'](this['gl'],'useTexture'),this['modelViewUniform']=Y['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform']=Y['shader']['getUniform'](this['gl'],'projectionMatrix'),this['positionAttribute']=Y['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute']=Y['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=Y['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x5d6b06,_0x1949dd,_0x2462ff,_0x47b67d){!this['visible']||_0x5d6b06['triangleCount']==0x0||(this['initialize'](),this['gl']['useProgram'](Y['shader']['getProgram']()),this['gl']['uniformMatrix4fv'](this['modelViewUniform'],!0x1,j['multiply'](_0x1949dd['worldMatrix'],_0x2462ff['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x2462ff['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x5d6b06['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x5d6b06['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x5d6b06['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x5d6b06['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x5d6b06['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x90d94){this['color']['copy'](_0x90d94);}};let V=Y;o(V,'shader',new ot(si,ni));var ri='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat3\x20modelMatrix;\x0auniform\x20float\x20layer;\x0a\x0ain\x20vec2\x20position;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec3(position,\x201);\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(worldPosition.x,\x20worldPosition.y,\x20layer,\x201);\x0a}',oi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20materialColor;\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20materialColor\x20*\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const k=class{constructor(){o(this,'visible');o(this,'color');o(this,'drawMode');o(this,'texture');o(this,'gl');o(this,'colorUniform');o(this,'modelUniform');o(this,'layerUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'positionAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['gl']=S['getInstance']()['renderer']['gl'],this['visible']=!0x0,this['color']=new M(0x1,0x1,0x1),this['drawMode']=this['gl']['LINE_LOOP'],this['texture']=null,k['shader']['initialize'](this['gl']),this['colorUniform']=k['shader']['getUniform'](this['gl'],'materialColor'),this['modelUniform']=k['shader']['getUniform'](this['gl'],'modelMatrix'),this['layerUniform']=k['shader']['getUniform'](this['gl'],'layer'),this['textureUniform']=k['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=k['shader']['getUniform'](this['gl'],'useTexture'),this['positionAttribute']=k['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute']=k['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=k['shader']['getAttribute'](this['gl'],'texCoord');}['copy'](_0x27b6ad){this['visible']=_0x27b6ad['visible'],this['color']['copy'](_0x27b6ad['color']),this['drawMode']=_0x27b6ad['drawMode'],this['texture']=_0x27b6ad['texture'];}['draw'](_0x57ee97,_0x59b988){!this['visible']||_0x57ee97['vertexCount']==0x0||(this['gl']['useProgram'](k['shader']['getProgram']()),this['gl']['uniformMatrix3fv'](this['modelUniform'],!0x1,_0x59b988['worldMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['uniform1f'](this['layerUniform'],_0x59b988['layer']),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x57ee97['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x57ee97['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x57ee97['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['drawArrays'](this['drawMode'],0x0,_0x57ee97['vertexCount']));}};let N=k;o(N,'shader',new ot(ri,oi));class ai{constructor(){o(this,'visible');o(this,'color');o(this,'colorUniform3d');o(this,'useTextureUniform3d');o(this,'textureUniform3d');o(this,'modelViewUniform3d');o(this,'projectionUniform3d');o(this,'positionAttribute3d');o(this,'colorAttribute3d');o(this,'texCoordAttribute3d');o(this,'colorUniform2d');o(this,'useTextureUniform2d');o(this,'textureUniform2d');o(this,'modelUniform2d');o(this,'layerUniform2d');o(this,'positionAttribute2d');o(this,'colorAttribute2d');o(this,'texCoordAttribute2d');o(this,'gl');this['visible']=!0x0,this['color']=new M(0x1,0x1,0x1),this['gl']=S['getInstance']()['renderer']['gl'],V['shader']['initialize'](this['gl']),this['colorUniform3d']=V['shader']['getUniform'](this['gl'],'materialColor'),this['modelViewUniform3d']=V['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform3d']=V['shader']['getUniform'](this['gl'],'projectionMatrix'),this['useTextureUniform3d']=V['shader']['getUniform'](this['gl'],'useTexture'),this['textureUniform3d']=V['shader']['getUniform'](this['gl'],'textureImage'),this['positionAttribute3d']=V['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute3d']=V['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute3d']=V['shader']['getAttribute'](this['gl'],'texCoord'),N['shader']['initialize'](this['gl']),this['colorUniform2d']=N['shader']['getUniform'](this['gl'],'materialColor'),this['modelUniform2d']=N['shader']['getUniform'](this['gl'],'modelMatrix'),this['layerUniform2d']=N['shader']['getUniform'](this['gl'],'layer'),this['useTextureUniform2d']=N['shader']['getUniform'](this['gl'],'useTexture'),this['textureUniform2d']=N['shader']['getUniform'](this['gl'],'textureImage'),this['positionAttribute2d']=N['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute2d']=N['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute2d']=N['shader']['getAttribute'](this['gl'],'texCoord');}['draw3d'](_0x5cf8eb,_0x4d78eb){!this['visible']||_0x5cf8eb['vertexCount']<0x2||(this['gl']['useProgram'](V['shader']['getProgram']()),this['gl']['uniform1i'](this['useTextureUniform3d'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute3d']),this['gl']['uniformMatrix4fv'](this['modelViewUniform3d'],!0x1,j['multiply'](_0x5cf8eb['worldMatrix'],_0x4d78eb['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform3d'],!0x1,_0x4d78eb['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform3d'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['colorAttribute3d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x5cf8eb['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute3d'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute3d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x5cf8eb['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute3d'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['drawArrays'](_0x5cf8eb['glLineMode'](),0x0,_0x5cf8eb['vertexCount']));}['draw2d'](_0x48207f){!this['visible']||_0x48207f['vertexCount']<0x2||(this['gl']['useProgram'](N['shader']['getProgram']()),this['gl']['uniform1i'](this['useTextureUniform2d'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute2d']),this['gl']['uniformMatrix3fv'](this['modelUniform2d'],!0x1,_0x48207f['worldMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform2d'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['uniform1f'](this['layerUniform2d'],_0x48207f['layer']),this['gl']['enableVertexAttribArray'](this['colorAttribute2d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x48207f['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute2d'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute2d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x48207f['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute2d'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['drawArrays'](_0x48207f['glLineMode'](),0x0,_0x48207f['vertexCount']));}}var Vt=(_0x544b38=>(_0x544b38[_0x544b38['LINES']=0x0]='LINES',_0x544b38[_0x544b38['LINE_STRIP']=0x1]='LINE_STRIP',_0x544b38[_0x544b38['LINE_LOOP']=0x2]='LINE_LOOP',_0x544b38))(Vt||{});class Ht extends G{constructor(_0x8d097=0x1){super();o(this,'gl');o(this,'positionBuffer');o(this,'colorBuffer');o(this,'vertexCount');o(this,'material');o(this,'lineMode');this['gl']=S['getInstance']()['renderer']['gl'],this['positionBuffer']=this['gl']['createBuffer'](),this['colorBuffer']=this['gl']['createBuffer'](),this['vertexCount']=0x0,this['material']=new ai(),this['lineMode']=_0x8d097;}['createFromBox'](_0x3212d4){const _0xb54691=[];_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['min']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['min']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['min']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['min']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['min']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['min']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['min']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['min']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['max']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['max']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['max']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['max']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['max']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['max']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['max']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['max']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['min']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['max']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['min']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['max']['x'],_0x3212d4['max']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['min']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['max']['y'],_0x3212d4['min']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['min']['y'],_0x3212d4['max']['z']),_0xb54691['push'](_0x3212d4['min']['x'],_0x3212d4['max']['y'],_0x3212d4['max']['z']),this['setVertices'](_0xb54691),this['createDefaultVertexColors'](),this['lineMode']=0x0;}['draw'](_0x4bce30,_0x52d23c,_0x397e1f){!this['visible']||(this['material']['draw3d'](this,_0x52d23c),this['children']['forEach'](_0x351c3d=>{_0x351c3d['draw'](this,_0x52d23c,_0x397e1f);}));}['setVertices'](_0x51e254,_0x1414ec=this['gl']['STATIC_DRAW']){if(_0x51e254['length']>0x0){this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']);let _0x4eb893;typeof _0x51e254[0x0]=='number'?_0x4eb893=_0x51e254:(_0x4eb893=[],_0x51e254['forEach'](_0x57cc2b=>{_0x4eb893['push'](_0x57cc2b['x'],_0x57cc2b['y'],_0x57cc2b['z']);})),this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4eb893),_0x1414ec),this['vertexCount']=_0x4eb893['length']/0x3,this['boundingBox']['computeBounds'](_0x4eb893),this['boundingSphere']['computeBounds'](_0x4eb893,this['boundingBox']);}}['setColors'](_0x37f242,_0x15f689=this['gl']['STATIC_DRAW']){if(_0x37f242['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),typeof _0x37f242[0x0]=='number')this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x37f242),_0x15f689);else{const _0x360913=[];_0x37f242['forEach'](_0x47e035=>{_0x360913['push'](_0x47e035['r'],_0x47e035['g'],_0x47e035['b'],_0x47e035['a']);}),this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x360913),_0x15f689);}}['getVertices'](){const _0x419d04=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x419d04),[..._0x419d04];}['getColors'](){const _0x1dff3d=new Float32Array(this['vertexCount']*0x4);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x1dff3d),[..._0x1dff3d];}['createDefaultVertexColors'](){const _0x38e89e=[];for(let _0x4858dd=0x0;_0x4858dd<this['vertexCount'];_0x4858dd++)_0x38e89e['push'](0x1,0x1,0x1,0x1);this['setColors'](_0x38e89e);}['glLineMode'](){return this['lineMode']==0x0?this['gl']['LINES']:this['lineMode']==0x1?this['gl']['LINE_STRIP']:this['gl']['LINE_LOOP'];}}class hi extends Ht{constructor(_0x842427=0x1){super(Vt['LINES']);const _0x4dd1b2=[],_0x53710f=[];_0x4dd1b2['push'](0x0,0x0,0x0),_0x4dd1b2['push'](_0x842427,0x0,0x0),_0x53710f['push'](0x1,0x0,0x0,0x1),_0x53710f['push'](0x1,0x0,0x0,0x1),_0x4dd1b2['push'](0x0,0x0,0x0),_0x4dd1b2['push'](0x0,_0x842427,0x0),_0x53710f['push'](0x0,0x1,0x0,0x1),_0x53710f['push'](0x0,0x1,0x0,0x1),_0x4dd1b2['push'](0x0,0x0,0x0),_0x4dd1b2['push'](0x0,0x0,_0x842427),_0x53710f['push'](0x0,0x0,0x1,0x1),_0x53710f['push'](0x0,0x0,0x1,0x1),this['setVertices'](_0x4dd1b2),this['setColors'](_0x53710f);}}class li{constructor(_0x15e789,_0x3502cb=0x1,_0x23e957=!0x0){o(this,'camera');o(this,'zoomable');o(this,'rotationSpeedX');o(this,'rotationSpeedY');o(this,'zoomSpeed');o(this,'targetPoint');o(this,'distance');o(this,'cameraOrbitX');o(this,'cameraOrbitY');o(this,'rotationDirection');o(this,'zoomDirection');o(this,'mouseDrag');o(this,'mouseMovement');this['camera']=_0x15e789,this['zoomable']=_0x23e957,this['distance']=_0x3502cb,this['rotationSpeedX']=Math['PI']/0x4,this['rotationSpeedY']=Math['PI']/0x4,this['zoomSpeed']=0.25,this['targetPoint']=new m(),this['cameraOrbitX']=new D(),this['cameraOrbitY']=new D(),this['rotationDirection']=new m(),this['zoomDirection']=0x0,this['mouseDrag']=!0x1,this['mouseMovement']=new x(),window['addEventListener']('mousedown',_0x198f27=>{this['onMouseDown'](_0x198f27);}),window['addEventListener']('mouseup',_0x3c215e=>{this['onMouseUp'](_0x3c215e);}),window['addEventListener']('mousemove',_0x6b1a55=>{this['onMouseMove'](_0x6b1a55);}),window['addEventListener']('wheel',_0x403e70=>{this['onMouseWheel'](_0x403e70);}),this['updateCamera']();}['setTargetPoint'](_0x1e6847){this['targetPoint']['copy'](_0x1e6847),this['updateCamera']();}['setDistance'](_0x532ba2){this['distance']=_0x532ba2,this['updateCamera']();}['setOrbit'](_0x182a1e,_0x433b14){this['cameraOrbitX']['setRotationX'](_0x182a1e),this['cameraOrbitY']['setRotationY'](_0x433b14),this['updateCamera']();}['onMouseDown'](_0x230ddc){_0x230ddc['target']['localName']=='canvas'&&(this['mouseDrag']=!0x0);}['onMouseUp'](_0x10de5a){this['mouseDrag']=!0x1;}['onMouseMove'](_0x83c3e9){this['mouseDrag']&&(this['mouseMovement']['x']=-_0x83c3e9['movementY'],this['mouseMovement']['y']=-_0x83c3e9['movementX']);}['onMouseWheel'](_0x46e60b){this['zoomable']&&(this['zoomDirection']+=_0x46e60b['deltaY']);}['update'](_0x101706){this['rotationDirection']['x']+=this['mouseMovement']['x'],this['rotationDirection']['y']+=this['mouseMovement']['y'],this['mouseMovement']['x']=0x0,this['mouseMovement']['y']=0x0,this['cameraOrbitX']['multiply'](D['makeRotationX'](this['rotationDirection']['x']*this['rotationSpeedX']*_0x101706)),this['cameraOrbitY']['multiply'](D['makeRotationY'](this['rotationDirection']['y']*this['rotationSpeedY']*_0x101706)),this['distance']+=this['zoomDirection']*this['zoomSpeed']*_0x101706,this['rotationDirection']['set'](0x0,0x0,0x0),this['zoomDirection']=0x0,this['updateCamera']();}['updateCamera'](){this['camera']['rotation']['copy'](this['cameraOrbitY']),this['camera']['rotation']['multiply'](this['cameraOrbitX']),this['camera']['position']['set'](0x0,0x0,this['distance']),this['camera']['position']['rotate'](this['camera']['rotation']),this['camera']['position']['add'](this['targetPoint']);}['freeze'](){this['mouseDrag']=!0x1,this['mouseMovement']['x']=0x0,this['mouseMovement']['y']=0x0;}}class nt{constructor(_0x4c0071=new m(),_0x1a612e=new m(0x0,0x0,-0x1)){o(this,'point');o(this,'normal');this['point']=_0x4c0071,this['normal']=_0x1a612e;}}class Tt{constructor(_0xd46c96=new m(),_0xc66c2b=new m(0x0,0x0,-0x1)){o(this,'origin');o(this,'direction');this['origin']=_0xd46c96,this['direction']=_0xc66c2b;}['set'](_0x282c6d,_0xb2c7c5){this['origin']=_0x282c6d,this['direction']=_0xb2c7c5;}['setPickRay'](_0x180b7b,_0x4d4a47){const [_0x27353d,_0x3e823b,_0x5dd259]=_0x4d4a47['worldMatrix']['decompose']();this['origin']['copy'](_0x27353d),this['direction']['set'](_0x180b7b['x'],_0x180b7b['y'],-0x1),this['direction']['transform'](_0x4d4a47['projectionMatrix']['inverse']()),this['direction']['rotate'](_0x3e823b),this['direction']['normalize']();}['intersectsPlane'](_0x68b108){const _0x466232=this['direction']['dot'](_0x68b108['normal']);if(Math['abs'](_0x466232)>0.000001){const _0x35a309=m['subtract'](_0x68b108['point'],this['origin'])['dot'](_0x68b108['normal'])/_0x466232;if(_0x35a309>0x0){const _0x87b317=m['multiplyScalar'](this['direction'],_0x35a309);return _0x87b317['add'](this['origin']),_0x87b317;}}return null;}['intersectsSphere'](_0x4367c2){const _0x3b3f6a=m['subtract'](_0x4367c2['center'],this['origin']),_0xdc5761=_0x3b3f6a['dot'](this['direction']),_0x37b5e4=_0x4367c2['radius']*_0x4367c2['radius'],_0x319f8c=_0x3b3f6a['dot'](_0x3b3f6a)-_0xdc5761*_0xdc5761;if(_0x319f8c>_0x37b5e4)return null;const _0x1378de=Math['sqrt'](_0x37b5e4-_0x319f8c),_0x143994=_0xdc5761-_0x1378de,_0x3aa125=_0xdc5761+_0x1378de;if(_0x143994<0x0&&_0x3aa125<0x0)return null;const _0x26c0f1=this['direction']['clone']();return _0x143994<_0x3aa125?_0x26c0f1['multiplyScalar'](_0x143994):_0x26c0f1['multiplyScalar'](_0x3aa125),_0x26c0f1['add'](this['origin']),_0x26c0f1;}['intersectsBox'](_0x56dc58){let _0x36823b=(_0x56dc58['min']['x']-this['origin']['x'])/this['direction']['x'],_0x1917cf=(_0x56dc58['max']['x']-this['origin']['x'])/this['direction']['x'];if(_0x36823b>_0x1917cf){const _0xe4ec8f=_0x36823b;_0x36823b=_0x1917cf,_0x1917cf=_0xe4ec8f;}let _0x54f682=(_0x56dc58['min']['y']-this['origin']['y'])/this['direction']['y'],_0x14c970=(_0x56dc58['max']['y']-this['origin']['y'])/this['direction']['y'];if(_0x54f682>_0x14c970){const _0xb893a3=_0x54f682;_0x54f682=_0x14c970,_0x14c970=_0xb893a3;}if(_0x36823b>_0x14c970||_0x54f682>_0x1917cf)return null;_0x54f682>_0x36823b&&(_0x36823b=_0x54f682),_0x14c970<_0x1917cf&&(_0x1917cf=_0x14c970);let _0x354ea7=(_0x56dc58['min']['z']-this['origin']['z'])/this['direction']['z'],_0x12dca7=(_0x56dc58['max']['z']-this['origin']['z'])/this['direction']['z'];if(_0x354ea7>_0x12dca7){const _0x183e4e=_0x354ea7;_0x354ea7=_0x12dca7,_0x12dca7=_0x183e4e;}if(_0x36823b>_0x12dca7||_0x354ea7>_0x1917cf)return null;_0x354ea7>_0x36823b&&(_0x36823b=_0x354ea7),_0x12dca7<_0x1917cf&&(_0x1917cf=_0x12dca7);const _0x3842cc=m['multiplyScalar'](this['direction'],_0x36823b);return _0x3842cc['add'](this['origin']),_0x3842cc;}['intersectsOrientedBoundingBox'](_0x375969){const _0x47f639=this['createLocalRay'](_0x375969)['intersectsBox'](_0x375969['boundingBox']);return _0x47f639&&_0x47f639['transform'](_0x375969['worldMatrix']),_0x47f639;}['intersectsOrientedBoundingSphere'](_0x5bc3b2){const _0x1da71d=this['createLocalRay'](_0x5bc3b2)['intersectsSphere'](_0x5bc3b2['boundingSphere']);return _0x1da71d&&_0x1da71d['transform'](_0x5bc3b2['worldMatrix']),_0x1da71d;}['intersectsMesh'](_0xe3ca97){if(!this['intersectsOrientedBoundingBox'](_0xe3ca97))return null;const _0x3364a1=_0xe3ca97['getVertices'](),_0x5dd340=_0xe3ca97['getIndices'](),_0x5e795b=this['createLocalRay'](_0xe3ca97),_0x46ff8d=[];for(let _0xdd9266=0x0;_0xdd9266<_0x5dd340['length'];_0xdd9266+=0x3){const _0x515ec1=this['intersectsTriangle'](_0x5e795b,new m(_0x3364a1[_0x5dd340[_0xdd9266]*0x3],_0x3364a1[_0x5dd340[_0xdd9266]*0x3+0x1],_0x3364a1[_0x5dd340[_0xdd9266]*0x3+0x2]),new m(_0x3364a1[_0x5dd340[_0xdd9266+0x1]*0x3],_0x3364a1[_0x5dd340[_0xdd9266+0x1]*0x3+0x1],_0x3364a1[_0x5dd340[_0xdd9266+0x1]*0x3+0x2]),new m(_0x3364a1[_0x5dd340[_0xdd9266+0x2]*0x3],_0x3364a1[_0x5dd340[_0xdd9266+0x2]*0x3+0x1],_0x3364a1[_0x5dd340[_0xdd9266+0x2]*0x3+0x2]));_0x515ec1&&(_0x515ec1['transform'](_0xe3ca97['worldMatrix']),_0x46ff8d['push'](_0x515ec1));}if(_0x46ff8d['length']==0x0)return null;{let _0x2717b7=0x0,_0x2f0bef=this['origin']['distanceTo'](_0x46ff8d[0x0]);for(let _0x56705f=0x1;_0x56705f<_0x46ff8d['length'];_0x56705f++){const _0x431f38=this['origin']['distanceTo'](_0x46ff8d[_0x56705f]);_0x431f38<_0x2f0bef&&(_0x2717b7=_0x56705f,_0x2f0bef=_0x431f38);}return _0x46ff8d[_0x2717b7];}}['intersectsTriangle'](_0x544a4f,_0x244831,_0x3f3bcf,_0x4be6c6){const _0x49dae3=m['subtract'](_0x3f3bcf,_0x244831),_0x304c43=m['subtract'](_0x4be6c6,_0x244831),_0x2c80ac=m['cross'](_0x544a4f['direction'],_0x304c43),_0x413d67=_0x49dae3['dot'](_0x2c80ac);if(_0x413d67>-1e-7&&_0x413d67<1e-7)return null;const _0x67e0f9=0x1/_0x413d67,_0x33c32a=m['subtract'](_0x544a4f['origin'],_0x244831),_0x19a0f5=_0x67e0f9*_0x33c32a['dot'](_0x2c80ac);if(_0x19a0f5<0x0||_0x19a0f5>0x1)return null;const _0x29c9d6=m['cross'](_0x33c32a,_0x49dae3),_0x436361=_0x67e0f9*_0x544a4f['direction']['dot'](_0x29c9d6);if(_0x436361<0x0||_0x19a0f5+_0x436361>0x1)return null;const _0x1b5e1b=_0x67e0f9*_0x304c43['dot'](_0x29c9d6);if(_0x1b5e1b>1e-7){const _0x2ac5e5=_0x544a4f['direction']['clone']();return _0x2ac5e5['multiplyScalar'](_0x1b5e1b),_0x2ac5e5['add'](_0x544a4f['origin']),_0x2ac5e5;}return null;}['createLocalRay'](_0x4f92e3){const _0xd946c9=new Tt(this['origin']['clone'](),this['direction']['clone']()),[_0x4e1f8c,_0x1d284a,_0x59a1dd]=_0x4f92e3['worldMatrix']['decompose']();_0xd946c9['origin']['subtract'](_0x4e1f8c);const _0x234cf8=_0x1d284a['inverse']();_0xd946c9['origin']['rotate'](_0x234cf8),_0xd946c9['direction']['rotate'](_0x234cf8);const _0x1786ee=_0x59a1dd,_0x2fdc1f=new m();return _0x2fdc1f['x']=0x1/_0x1786ee['x'],_0x2fdc1f['y']=0x1/_0x1786ee['y'],_0x2fdc1f['z']=0x1/_0x1786ee['z'],_0xd946c9['origin']['multiply'](_0x2fdc1f),_0xd946c9['direction']['multiply'](_0x2fdc1f),_0xd946c9['direction']['normalize'](),_0xd946c9;}}class ui extends G{constructor(_0x5d7d2f=0x1,_0x3c8dc8=0.01,_0x27855b=0.05){super();o(this,'axes');o(this,'thickAxes');o(this,'deviceCoords');o(this,'currentAxis');o(this,'selectionPoint');this['currentAxis']=-0x1,this['deviceCoords']=new x(),this['selectionPoint']=new m(),this['axes']=new hi(_0x5d7d2f),this['add'](this['axes']),this['thickAxes']=[],this['thickAxes']['push'](new K(_0x5d7d2f,_0x3c8dc8,_0x3c8dc8)),this['thickAxes']['push'](new K(_0x3c8dc8,_0x5d7d2f,_0x3c8dc8)),this['thickAxes']['push'](new K(_0x3c8dc8,_0x3c8dc8,_0x5d7d2f)),this['thickAxes'][0x0]['position']['set'](_0x5d7d2f/0x2,0x0,0x0),this['thickAxes'][0x1]['position']['set'](0x0,_0x5d7d2f/0x2,0x0),this['thickAxes'][0x2]['position']['set'](0x0,0x0,_0x5d7d2f/0x2),this['thickAxes'][0x0]['material']=new V(),this['thickAxes'][0x1]['material']=new V(),this['thickAxes'][0x2]['material']=new V(),this['thickAxes'][0x0]['material']['setColor'](new M(0x1,0x0,0x0)),this['thickAxes'][0x1]['material']['setColor'](new M(0x0,0x1,0x0)),this['thickAxes'][0x2]['material']['setColor'](new M(0x0,0x0,0x1)),this['thickAxes'][0x0]['boundingBox']['max']['y']=_0x27855b,this['thickAxes'][0x0]['boundingBox']['max']['z']=_0x27855b,this['thickAxes'][0x1]['boundingBox']['max']['x']=_0x27855b,this['thickAxes'][0x1]['boundingBox']['max']['z']=_0x27855b,this['thickAxes'][0x2]['boundingBox']['max']['x']=_0x27855b,this['thickAxes'][0x2]['boundingBox']['max']['y']=_0x27855b,this['add'](this['thickAxes'][0x0]),this['add'](this['thickAxes'][0x1]),this['add'](this['thickAxes'][0x2]),window['addEventListener']('mousedown',_0x4eb602=>{this['onMouseDown'](_0x4eb602);}),window['addEventListener']('mouseup',_0x167bea=>{this['onMouseUp'](_0x167bea);}),window['addEventListener']('mousemove',_0x163a7c=>{this['onMouseMove'](_0x163a7c);});}['update'](_0x27524a){const _0x2b5966=new Tt();if(_0x2b5966['setPickRay'](this['deviceCoords'],S['getInstance']()['camera']),this['currentAxis']==-0x1)this['thickAxes'][0x0]['visible']=!0x1,this['thickAxes'][0x1]['visible']=!0x1,this['thickAxes'][0x2]['visible']=!0x1,_0x2b5966['intersectsOrientedBoundingBox'](this['thickAxes'][0x0])?this['thickAxes'][0x0]['visible']=!0x0:_0x2b5966['intersectsOrientedBoundingBox'](this['thickAxes'][0x1])?this['thickAxes'][0x1]['visible']=!0x0:_0x2b5966['intersectsOrientedBoundingBox'](this['thickAxes'][0x2])&&(this['thickAxes'][0x2]['visible']=!0x0);else if(this['currentAxis']==0x0){const [_0x513548,_0x2d0a4d,_0x534a0b]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x9d46c7=_0x2b5966['intersectsPlane'](new nt(m['ZERO'],new m(0x0,_0x513548['y'],_0x513548['z'])));_0x9d46c7&&(this['translateX'](_0x9d46c7['x']-this['selectionPoint']['x']),this['selectionPoint']=_0x9d46c7);}else if(this['currentAxis']==0x1){const [_0x97e465,_0x4acd8b,_0x4d4e51]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x5f2408=_0x2b5966['intersectsPlane'](new nt(m['ZERO'],new m(_0x97e465['x'],0x0,_0x97e465['z'])));_0x5f2408&&(this['translateY'](_0x5f2408['y']-this['selectionPoint']['y']),this['selectionPoint']=_0x5f2408);}else if(this['currentAxis']==0x2){const [_0x230dd4,_0x29b1c2,_0x6f7629]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x1d4b9b=_0x2b5966['intersectsPlane'](new nt(m['ZERO'],new m(_0x230dd4['x'],_0x230dd4['y'],0x0)));_0x1d4b9b&&(this['translateZ'](_0x1d4b9b['z']-this['selectionPoint']['z']),this['selectionPoint']=_0x1d4b9b);}}['onMouseDown'](_0x3831bb){this['deviceCoords']=S['getInstance']()['getNormalizedDeviceCoordinates'](_0x3831bb['x'],_0x3831bb['y']);const _0x54dc76=new Tt();if(_0x54dc76['setPickRay'](this['deviceCoords'],S['getInstance']()['camera']),this['currentAxis']==-0x1){if(_0x54dc76['intersectsOrientedBoundingBox'](this['thickAxes'][0x0])){const [_0x4c7ac1,_0x454f0d,_0x394eba]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0xceb0d9=_0x54dc76['intersectsPlane'](new nt(m['ZERO'],new m(0x0,_0x4c7ac1['y'],_0x4c7ac1['z'])));_0xceb0d9&&(this['selectionPoint']=_0xceb0d9,this['currentAxis']=0x0);return;}if(_0x54dc76['intersectsOrientedBoundingBox'](this['thickAxes'][0x1])){const [_0x3fcb20,_0x1c31ff,_0x323e22]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x148e5a=_0x54dc76['intersectsPlane'](new nt(m['ZERO'],new m(_0x3fcb20['x'],0x0,_0x3fcb20['z'])));_0x148e5a&&(this['selectionPoint']=_0x148e5a,this['currentAxis']=0x1);return;}if(_0x54dc76['intersectsOrientedBoundingBox'](this['thickAxes'][0x2])){const [_0x1034c5,_0x39a912,_0x21e6ac]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x2ec27f=_0x54dc76['intersectsPlane'](new nt(m['ZERO'],new m(_0x1034c5['x'],_0x1034c5['y'],0x0)));_0x2ec27f&&(this['selectionPoint']=_0x2ec27f,this['currentAxis']=0x2);return;}}}['onMouseUp'](_0x447120){this['currentAxis']=-0x1;}['onMouseMove'](_0x276323){this['deviceCoords']=S['getInstance']()['getNormalizedDeviceCoordinates'](_0x276323['x'],_0x276323['y']);}['isSelected'](){return this['currentAxis']>=0x0;}}var Ot=(_0x54b05a=>(_0x54b05a[_0x54b05a['POINT']=0x0]='POINT',_0x54b05a[_0x54b05a['DIRECTIONAL']=0x1]='DIRECTIONAL',_0x54b05a))(Ot||{});class Gt extends G{constructor(_0x509559,_0x8493d,_0x1b2eca,_0x3263bd){super();o(this,'ambientIntensity');o(this,'diffuseIntensity');o(this,'specularIntensity');o(this,'type');this['type']=_0x509559,_0x8493d instanceof m?this['ambientIntensity']=new m(_0x8493d['x'],_0x8493d['y'],_0x8493d['z']):this['ambientIntensity']=new m(_0x8493d['r'],_0x8493d['g'],_0x8493d['b']),_0x1b2eca instanceof m?this['diffuseIntensity']=new m(_0x1b2eca['x'],_0x1b2eca['y'],_0x1b2eca['z']):this['diffuseIntensity']=new m(_0x1b2eca['r'],_0x1b2eca['g'],_0x1b2eca['b']),_0x3263bd instanceof m?this['specularIntensity']=new m(_0x3263bd['x'],_0x3263bd['y'],_0x3263bd['z']):this['specularIntensity']=new m(_0x3263bd['r'],_0x3263bd['g'],_0x3263bd['b']);}['getType'](){return this['type'];}['setLights'](_0x230ae2){_0x230ae2['addLight'](this),super['setLights'](_0x230ae2);}}class ci extends Gt{constructor(_0x402c45=new m(0.5,0.5,0.5)){super(Ot['POINT'],_0x402c45,m['ZERO'],m['ZERO']);}}class mi extends Gt{constructor(_0x52e224=new m(0.5,0.5,0.5)){super(Ot['DIRECTIONAL'],m['ZERO'],_0x52e224,_0x52e224);}}var fi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec3\x20vertPosition;\x0aout\x20vec3\x20vertNormal;\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vertPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20vertNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(vertPosition,\x201);\x0a}',di='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec3\x20vertPosition;\x0ain\x20vec3\x20vertNormal;\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20normalize(vertNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20vertPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(n,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20vertPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20n);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x20\x20\x20\x20fragColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const R=class extends ut{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,R['shader']['initialize'](this['gl']),this['kAmbientUniform']=R['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=R['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=R['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=R['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=R['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=R['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=R['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=R['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=R['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=R['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=R['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=R['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=R['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=R['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=R['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=R['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=R['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=R['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x2bfe42,_0x13a301,_0x4a0785,_0x61556c){if(!this['visible']||_0x2bfe42['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](R['shader']['getProgram']());const _0x62e893=new m();_0x62e893['transform'](_0x4a0785['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x62e893['x'],_0x62e893['y'],_0x62e893['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x13a301['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x4a0785['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x4a0785['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x13a301['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x61556c['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x61556c['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x61556c['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x61556c['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x61556c['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x61556c['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2bfe42['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2bfe42['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2bfe42['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x2bfe42['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x2bfe42['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x2bfe42['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0);}['setColor'](_0x18daf6){this['ambientColor']['copy'](_0x18daf6),this['diffuseColor']['copy'](_0x18daf6),this['specularColor']['copy'](_0x18daf6);}};let It=R;o(It,'shader',new ot(fi,di));var gi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelViewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0a\x0ain\x20vec3\x20position;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201);\x0a}',pi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20color;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20color;\x0a}';const _=class extends ut{constructor(){super();o(this,'color');o(this,'positionAttribute');o(this,'modelViewUniform');o(this,'projectionUniform');o(this,'colorUniform');this['color']=new M(0x1,0x1,0x1,0x1),_['shader']['initialize'](this['gl']),this['positionAttribute']=_['shader']['getAttribute'](this['gl'],'position'),this['modelViewUniform']=_['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform']=_['shader']['getUniform'](this['gl'],'projectionMatrix'),this['colorUniform']=_['shader']['getUniform'](this['gl'],'color');}['draw'](_0x502592,_0x199a0d,_0xdbc6f6,_0x3eed00){!this['visible']||_0x502592['triangleCount']==0x0||(this['initialize'](),this['gl']['useProgram'](_['shader']['getProgram']()),this['gl']['uniformMatrix4fv'](this['modelViewUniform'],!0x1,j['multiply'](_0x199a0d['worldMatrix'],_0xdbc6f6['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0xdbc6f6['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x502592['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),_['wireframeBuffers']['get'](_0x502592)||this['updateWireframeBuffer'](_0x502592),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_['wireframeBuffers']['get'](_0x502592)),this['gl']['drawElements'](this['gl']['LINES'],_0x502592['triangleCount']*0x6,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x6393fe){this['color']['copy'](_0x6393fe);}['updateWireframeBuffer'](_0x3434f4){let _0x1be1c;_0x1be1c=_['wireframeBuffers']['get'](_0x3434f4),_0x1be1c||(_0x1be1c=this['gl']['createBuffer'](),_0x1be1c&&_['wireframeBuffers']['set'](_0x3434f4,_0x1be1c));const _0x174a5d=new Uint16Array(_0x3434f4['triangleCount']*0x3);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x3434f4['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x174a5d);const _0x158ab0=[..._0x174a5d],_0x4e0779=[];for(let _0x2cf0e7=0x0;_0x2cf0e7<_0x3434f4['triangleCount'];_0x2cf0e7++)_0x4e0779['push'](_0x158ab0[_0x2cf0e7*0x3]),_0x4e0779['push'](_0x158ab0[_0x2cf0e7*0x3+0x1]),_0x4e0779['push'](_0x158ab0[_0x2cf0e7*0x3+0x1]),_0x4e0779['push'](_0x158ab0[_0x2cf0e7*0x3+0x2]),_0x4e0779['push'](_0x158ab0[_0x2cf0e7*0x3+0x2]),_0x4e0779['push'](_0x158ab0[_0x2cf0e7*0x3]);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x1be1c),this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x4e0779),this['gl']['STATIC_DRAW']);}};let xt=_;o(xt,'shader',new ot(gi,pi)),o(xt,'wireframeBuffers',new Map());var yi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0auniform\x20float\x20morphAlpha;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0ain\x20vec3\x20morphTargetPosition;\x0ain\x20vec3\x20morphTargetNormal;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition,\x20worldNormal;\x0a\x20\x20\x20\x20if(morphAlpha\x20>\x200.0f)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20mix(position,\x20morphTargetPosition,\x20morphAlpha);\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(worldPosition,\x201)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20mix(normal,\x20morphTargetNormal,\x20morphAlpha);\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(worldNormal,\x200)).xyz);\x0a\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20else\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(worldNormal,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20worldNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20vertColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(worldPosition,\x201);\x0a}',xi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const C=class extends ut{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');o(this,'morphAlpha');o(this,'morphAlphaUniform');o(this,'morphTargetPositionAttribute');o(this,'morphTargetNormalAttribute');o(this,'wireframe');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,C['shader']['initialize'](this['gl']),this['kAmbientUniform']=C['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=C['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=C['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=C['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=C['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=C['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=C['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=C['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=C['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=C['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=C['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=C['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=C['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=C['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=C['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=C['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=C['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=C['shader']['getAttribute'](this['gl'],'texCoord'),this['morphAlpha']=0x0,this['morphAlphaUniform']=C['shader']['getUniform'](this['gl'],'morphAlpha'),this['morphTargetPositionAttribute']=C['shader']['getAttribute'](this['gl'],'morphTargetPosition'),this['morphTargetNormalAttribute']=C['shader']['getAttribute'](this['gl'],'morphTargetNormal'),this['wireframe']=!0x1;}['draw'](_0x386bd0,_0x31cd38,_0x3744a0,_0x28669c){if(!this['visible']||_0x386bd0['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](C['shader']['getProgram']());const _0x2e27fa=new m();_0x2e27fa['transform'](_0x3744a0['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x2e27fa['x'],_0x2e27fa['y'],_0x2e27fa['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x31cd38['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x3744a0['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x3744a0['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x31cd38['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x28669c['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x28669c['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x28669c['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x28669c['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x28669c['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x28669c['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x386bd0['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x386bd0['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x386bd0['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['uniform1f'](this['morphAlphaUniform'],this['morphAlpha']),this['morphAlpha']>0x0?(this['gl']['enableVertexAttribArray'](this['morphTargetPositionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x386bd0['morphTargetPositionBuffer']),this['gl']['vertexAttribPointer'](this['morphTargetPositionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['morphTargetNormalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x386bd0['morphTargetNormalBuffer']),this['gl']['vertexAttribPointer'](this['morphTargetNormalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['disableVertexAttribArray'](this['morphTargetPositionAttribute']),this['gl']['disableVertexAttribArray'](this['morphTargetNormalAttribute'])),this['wireframe']?(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute']),C['wireframeBuffers']['get'](_0x386bd0)||this['updateWireframeBuffer'](_0x386bd0),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],C['wireframeBuffers']['get'](_0x386bd0)),this['gl']['drawElements'](this['gl']['LINES'],_0x386bd0['triangleCount']*0x6,this['gl']['UNSIGNED_SHORT'],0x0)):(this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x386bd0['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x386bd0['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x386bd0['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x5d5c6c){this['ambientColor']['copy'](_0x5d5c6c),this['diffuseColor']['copy'](_0x5d5c6c),this['specularColor']['copy'](_0x5d5c6c);}['updateWireframeBuffer'](_0x5550a2){let _0x17428a;_0x17428a=C['wireframeBuffers']['get'](_0x5550a2),_0x17428a||(_0x17428a=this['gl']['createBuffer'](),_0x17428a&&C['wireframeBuffers']['set'](_0x5550a2,_0x17428a));const _0x338fd8=new Uint16Array(_0x5550a2['triangleCount']*0x3);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x5550a2['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x338fd8);const _0x4c560c=[..._0x338fd8],_0x6d3a2c=[];for(let _0x3a9b91=0x0;_0x3a9b91<_0x5550a2['triangleCount'];_0x3a9b91++)_0x6d3a2c['push'](_0x4c560c[_0x3a9b91*0x3]),_0x6d3a2c['push'](_0x4c560c[_0x3a9b91*0x3+0x1]),_0x6d3a2c['push'](_0x4c560c[_0x3a9b91*0x3+0x1]),_0x6d3a2c['push'](_0x4c560c[_0x3a9b91*0x3+0x2]),_0x6d3a2c['push'](_0x4c560c[_0x3a9b91*0x3+0x2]),_0x6d3a2c['push'](_0x4c560c[_0x3a9b91*0x3]);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x17428a),this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x6d3a2c),this['gl']['STATIC_DRAW']);}};let bt=C;o(bt,'shader',new ot(yi,xi)),o(bt,'wireframeBuffers',new Map());var At=typeof globalThis<'u'?globalThis:typeof window<'u'?window:typeof global<'u'?global:typeof self<'u'?self:{},Q={};Number['EPSILON']===void 0x0&&(Number['EPSILON']=Math['pow'](0x2,-0x34));Math['sign']===void 0x0&&(Math['sign']=function(_0x3ec5e4){return _0x3ec5e4<0x0?-0x1:_0x3ec5e4>0x0?0x1:+_0x3ec5e4;});Function['prototype']['name']===void 0x0&&Object['defineProperty'](Function['prototype'],'name',{'get':function(){return this['toString']()['match'](/^\s*function\s*([^(\s]*)/)[0x1];}});Object['assign']===void 0x0&&(function(){Object['assign']=function(_0x34acf9){if(_0x34acf9==null)throw new TypeError('Cannot\x20convert\x20undefined\x20or\x20null\x20to\x20object');for(var _0x69fefa=Object(_0x34acf9),_0x4e5e76=0x1;_0x4e5e76<arguments['length'];_0x4e5e76++){var _0x3cd2c0=arguments[_0x4e5e76];if(_0x3cd2c0!=null)for(var _0x3edaa2 in _0x3cd2c0)Object['prototype']['hasOwnProperty']['call'](_0x3cd2c0,_0x3edaa2)&&(_0x69fefa[_0x3edaa2]=_0x3cd2c0[_0x3edaa2]);}return _0x69fefa;};}());var Ut={},et={};Object['defineProperty'](et,'__esModule',{'value':!0x0});et['Tools']=void 0x0;var bi={'error':function(_0x41d206){console['error'](_0x41d206);}};et['Tools']=bi;var W={};Object['defineProperty'](W,'__esModule',{'value':!0x0});W['V3']=void 0x0;var Ai=(function(){function _0x2d4ff4(_0x2bde51,_0x16ce27,_0x57f0b6){this['x']=_0x2bde51||0x0,this['y']=_0x16ce27||0x0,this['z']=_0x57f0b6||0x0;}return _0x2d4ff4['prototype']['set']=function(_0x2aa1c3,_0x48f2db,_0xee3d1f){return this['x']=_0x2aa1c3||0x0,this['y']=_0x48f2db||0x0,this['z']=_0xee3d1f||0x0,this;},_0x2d4ff4['prototype']['distanceTo']=function(_0x32af7f){return Math['sqrt'](this['distanceToSquared'](_0x32af7f));},_0x2d4ff4['prototype']['distanceToSquared']=function(_0x1e7fb5){var _0x3c6f0f=this['x']-_0x1e7fb5['x'],_0x126188=this['y']-_0x1e7fb5['y'],_0xa91f4c=this['z']-_0x1e7fb5['z'];return _0x3c6f0f*_0x3c6f0f+_0x126188*_0x126188+_0xa91f4c*_0xa91f4c;},_0x2d4ff4['prototype']['abs']=function(){return new _0x2d4ff4(this['x']<0x0?-this['x']:this['x'],this['y']<0x0?-this['y']:this['y'],this['z']<0x0?-this['z']:this['z']);},_0x2d4ff4['prototype']['dot']=function(_0x1049bf){return this['x']*_0x1049bf['x']+this['y']*_0x1049bf['y']+this['z']*_0x1049bf['z'];},_0x2d4ff4['prototype']['length']=function(){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);},_0x2d4ff4['prototype']['lengthSq']=function(){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];},_0x2d4ff4['prototype']['normalize']=function(){return this['divideScalar'](this['length']()||0x1);},_0x2d4ff4['prototype']['normalised']=function(){return new _0x2d4ff4(this['x'],this['y'],this['z'])['normalize']();},_0x2d4ff4['prototype']['add']=function(_0x317bc7){return this['x']+=_0x317bc7['x'],this['y']+=_0x317bc7['y'],this['z']+=_0x317bc7['z'],this;},_0x2d4ff4['prototype']['min']=function(_0x5141fd){return this['x']-=_0x5141fd['x'],this['y']-=_0x5141fd['y'],this['z']-=_0x5141fd['z'],this;},_0x2d4ff4['prototype']['plus']=function(_0x1c729a){return new _0x2d4ff4(this['x']+_0x1c729a['x'],this['y']+_0x1c729a['y'],this['z']+_0x1c729a['z']);},_0x2d4ff4['prototype']['minus']=function(_0x57b6a1){return new _0x2d4ff4(this['x']-_0x57b6a1['x'],this['y']-_0x57b6a1['y'],this['z']-_0x57b6a1['z']);},_0x2d4ff4['prototype']['divideBy']=function(_0x2e5474){return new _0x2d4ff4(this['x']/_0x2e5474,this['y']/_0x2e5474,this['z']/_0x2e5474);},_0x2d4ff4['prototype']['multiply']=function(_0x16c920){return new _0x2d4ff4(this['x']*_0x16c920,this['y']*_0x16c920,this['z']*_0x16c920);},_0x2d4ff4['prototype']['multiplyScalar']=function(_0x33a0a5){return this['x']*=_0x33a0a5,this['y']*=_0x33a0a5,this['z']*=_0x33a0a5,this;},_0x2d4ff4['prototype']['divideScalar']=function(_0x565f58){return this['multiplyScalar'](0x1/_0x565f58);},_0x2d4ff4['prototype']['cross']=function(_0x32f324){return new _0x2d4ff4(this['y']*_0x32f324['z']-this['z']*_0x32f324['y'],this['z']*_0x32f324['x']-this['x']*_0x32f324['z'],this['x']*_0x32f324['y']-this['y']*_0x32f324['x']);},_0x2d4ff4['prototype']['crossVectors']=function(_0x5672c7,_0x3d9051){var _0x4cfa51=_0x5672c7['x'],_0x51430e=_0x5672c7['y'],_0x28fc50=_0x5672c7['z'],_0x12fb65=_0x3d9051['x'],_0x30d76a=_0x3d9051['y'],_0x493977=_0x3d9051['z'];return this['x']=_0x51430e*_0x493977-_0x28fc50*_0x30d76a,this['y']=_0x28fc50*_0x12fb65-_0x4cfa51*_0x493977,this['z']=_0x4cfa51*_0x30d76a-_0x51430e*_0x12fb65,this;},_0x2d4ff4['prototype']['negate']=function(){return this['x']=-this['x'],this['y']=-this['y'],this['z']=-this['z'],this;},_0x2d4ff4['prototype']['negated']=function(){return new _0x2d4ff4(-this['x'],-this['y'],-this['z']);},_0x2d4ff4['prototype']['clone']=function(){return new _0x2d4ff4(this['x'],this['y'],this['z']);},_0x2d4ff4['prototype']['copy']=function(_0x3239b6){return this['x']=_0x3239b6['x'],this['y']=_0x3239b6['y'],this['z']=_0x3239b6['z'],this;},_0x2d4ff4['prototype']['approximatelyEquals']=function(_0x3537d7,_0x3d7c2b){if(_0x3d7c2b<0x0)return!0x1;var _0x40e56f=Math['abs'](this['x']-_0x3537d7['x']),_0x6f208b=Math['abs'](this['y']-_0x3537d7['y']),_0x1203d4=Math['abs'](this['z']-_0x3537d7['z']);return _0x40e56f<_0x3d7c2b&&_0x6f208b<_0x3d7c2b&&_0x1203d4<_0x3d7c2b;},_0x2d4ff4['prototype']['zero']=function(){return this['x']=0x0,this['y']=0x0,this['z']=0x0,this;},_0x2d4ff4['prototype']['rotate']=function(_0x417ed7,_0x4423bb){var _0x236c0a=Math['cos'](_0x417ed7),_0x250388=Math['sin'](_0x417ed7),_0x5668b9,_0x28c78e,_0x56115d;switch(_0x4423bb){case'X':_0x5668b9=this['x'],_0x28c78e=this['y']*_0x236c0a-this['z']*_0x250388,_0x56115d=this['y']*_0x250388+this['z']*_0x236c0a;break;case'Y':_0x5668b9=this['z']*_0x250388+this['x']*_0x236c0a,_0x28c78e=this['y'],_0x56115d=this['z']*_0x236c0a-this['x']*_0x250388;break;case'Z':_0x5668b9=this['x']*_0x236c0a-this['y']*_0x250388,_0x28c78e=this['x']*_0x250388+this['y']*_0x236c0a,_0x56115d=this['z'];break;}return this['x']=_0x5668b9,this['y']=_0x28c78e,this['z']=_0x56115d,this;},_0x2d4ff4['prototype']['projectOnVector']=function(_0x55d55a){var _0x3e5428=_0x55d55a['dot'](this)/_0x55d55a['lengthSq']();return this['copy'](_0x55d55a)['multiplyScalar'](_0x3e5428);},Object['defineProperty'](_0x2d4ff4['prototype'],'projectOnPlane',{'get':function(){var _0x4c4f7f=this,_0x4dc411=new _0x2d4ff4();return function(_0x5e159e){return _0x4dc411['copy'](_0x4c4f7f)['projectOnVector'](_0x5e159e['normalised']()),_0x4c4f7f['min'](_0x4dc411)['normalize']();};},'enumerable':!0x1,'configurable':!0x0}),_0x2d4ff4['prototype']['applyM3']=function(_0x37b5a5){var _0xf802ab=this['x'],_0x44fd81=this['y'],_0x5eeac0=this['z'],_0x482269=_0x37b5a5['elements'];return this['x']=_0x482269[0x0]*_0xf802ab+_0x482269[0x1]*_0x44fd81+_0x482269[0x2]*_0x5eeac0,this['y']=_0x482269[0x3]*_0xf802ab+_0x482269[0x4]*_0x44fd81+_0x482269[0x5]*_0x5eeac0,this['z']=_0x482269[0x6]*_0xf802ab+_0x482269[0x7]*_0x44fd81+_0x482269[0x8]*_0x5eeac0,this['normalize']();},_0x2d4ff4['prototype']['applyMatrix3']=function(_0x3fb7f0){var _0x1afd79=this['x'],_0x592ade=this['y'],_0xffb37f=this['z'],_0x2a1b97=_0x3fb7f0['elements'];return this['x']=_0x2a1b97[0x0]*_0x1afd79+_0x2a1b97[0x3]*_0x592ade+_0x2a1b97[0x6]*_0xffb37f,this['y']=_0x2a1b97[0x1]*_0x1afd79+_0x2a1b97[0x4]*_0x592ade+_0x2a1b97[0x7]*_0xffb37f,this['z']=_0x2a1b97[0x2]*_0x1afd79+_0x2a1b97[0x5]*_0x592ade+_0x2a1b97[0x8]*_0xffb37f,this;},_0x2d4ff4['prototype']['applyQuaternion']=function(_0x2f4d94){var _0x4c48a6=this['x'],_0x515dad=this['y'],_0x17fc85=this['z'],_0x42dbb8=_0x2f4d94['x'],_0x57add5=_0x2f4d94['y'],_0x4c38a8=_0x2f4d94['z'],_0x59d3ee=_0x2f4d94['w'],_0x276c2a=_0x59d3ee*_0x4c48a6+_0x57add5*_0x17fc85-_0x4c38a8*_0x515dad,_0x2b21a6=_0x59d3ee*_0x515dad+_0x4c38a8*_0x4c48a6-_0x42dbb8*_0x17fc85,_0x401997=_0x59d3ee*_0x17fc85+_0x42dbb8*_0x515dad-_0x57add5*_0x4c48a6,_0x4e7461=-_0x42dbb8*_0x4c48a6-_0x57add5*_0x515dad-_0x4c38a8*_0x17fc85;return this['x']=_0x276c2a*_0x59d3ee+_0x4e7461*-_0x42dbb8+_0x2b21a6*-_0x4c38a8-_0x401997*-_0x57add5,this['y']=_0x2b21a6*_0x59d3ee+_0x4e7461*-_0x57add5+_0x401997*-_0x42dbb8-_0x276c2a*-_0x4c38a8,this['z']=_0x401997*_0x59d3ee+_0x4e7461*-_0x4c38a8+_0x276c2a*-_0x57add5-_0x2b21a6*-_0x42dbb8,this;},_0x2d4ff4['prototype']['sign']=function(_0x38500d,_0x3d692d){var _0x196e9b=this['cross'](_0x38500d)['dot'](_0x3d692d);return _0x196e9b>=0x0?0x1:-0x1;},_0x2d4ff4['prototype']['angleTo']=function(_0x2b6755){var _0xb4c0d5=this['dot'](_0x2b6755)/Math['sqrt'](this['lengthSq']()*_0x2b6755['lengthSq']());return _0xb4c0d5<=-0x1?Math['PI']:_0xb4c0d5>=0x1?0x0:Math['acos'](_0xb4c0d5);},_0x2d4ff4['prototype']['getSignedAngle']=function(_0x1cf682,_0x3e00e7){var _0x4dd84b=this['angleTo'](_0x1cf682),_0x12b4ea=this['sign'](_0x1cf682,_0x3e00e7);return _0x12b4ea===0x1?_0x4dd84b:-_0x4dd84b;},_0x2d4ff4['prototype']['constrainedUV']=function(_0x3c6bf7,_0x3322b5,_0x259ed8,_0x1ab03a,_0x535696){var _0x4f00e0=_0x3c6bf7['getSignedAngle'](this,_0x3322b5);return _0x4f00e0>_0x535696&&this['copy'](_0x259ed8['rotateAboutAxis'](_0x3c6bf7,_0x535696,_0x3322b5)),_0x4f00e0<_0x1ab03a&&this['copy'](_0x259ed8['rotateAboutAxis'](_0x3c6bf7,_0x1ab03a,_0x3322b5)),this;},_0x2d4ff4['prototype']['limitAngle']=function(_0x118053,_0x5e52d9,_0x51f13c){var _0x478664=_0x118053['angleTo'](this);if(_0x478664>_0x51f13c){var _0x178261=_0x118053['normalised']()['cross'](this)['normalize']();this['copy'](_0x5e52d9['rotateAboutAxis'](_0x118053,_0x51f13c,_0x178261));}return this;},_0x2d4ff4['isVector3']=!0x0,_0x2d4ff4;}());W['V3']=Ai;(function(_0x47b737){Object['defineProperty'](_0x47b737,'__esModule',{'value':!0x0}),_0x47b737['_Math']=void 0x0;var _0x8e3228=et,_0x38742b=W;_0x47b737['_Math']={'toRad':Math['PI']/0xb4,'toDeg':0xb4/Math['PI'],'pi90':Math['PI']*0.5,'findAngle':function(_0xac1308,_0x327510){var _0x1660c5=_0xac1308['end']['minus'](_0x327510['end'])['lengthSq'](),_0x1c6d5d=_0xac1308['end']['minus'](_0xac1308['start'])['lengthSq'](),_0x328d95=_0x327510['end']['minus'](_0xac1308['start'])['lengthSq'](),_0x305ad5,_0x21bcd6=(_0x1660c5+_0x1c6d5d-_0x328d95)/Math['sqrt'](0x4*_0x1660c5*_0x1c6d5d);_0x21bcd6<=-0x1?_0x305ad5=Math['PI']:_0x21bcd6>=0x1?_0x305ad5=0x0:_0x305ad5=Math['acos'](_0x21bcd6);var _0x2b1ca3=_0xac1308['end']['x']*_0x327510['end']['y']-_0xac1308['end']['y']*_0x327510['end']['x'];return _0x2b1ca3>=0x0?_0x305ad5:-_0x305ad5;},'clamp':function(_0x104bc7,_0x33fb54,_0x25e9e7){return _0x104bc7=_0x104bc7<_0x33fb54?_0x33fb54:_0x104bc7,_0x104bc7=_0x104bc7>_0x25e9e7?_0x25e9e7:_0x104bc7,_0x104bc7;},'lerp':function(_0x5bbb50,_0x1fc4a5,_0x3671ff){return(0x1-_0x3671ff)*_0x5bbb50+_0x3671ff*_0x1fc4a5;},'rand':function(_0x426dc1,_0x4746f6){return _0x426dc1+Math['random']()*(_0x4746f6-_0x426dc1);},'randInt':function(_0x2b3c93,_0x334361){return _0x2b3c93+Math['floor'](Math['random']()*(_0x334361-_0x2b3c93+0x1));},'nearEquals':function(_0x39575b,_0x355a69,_0x374134){return Math['abs'](_0x39575b-_0x355a69)<=_0x374134;},'perpendicular':function(_0x11e8b4,_0x3f5f8a){return!!_0x47b737['_Math']['nearEquals'](_0x11e8b4['dot'](_0x3f5f8a),0x0,0.01);},'genPerpendicularVectorQuick':function(_0x4ca511){var _0x499ee8=_0x4ca511['clone']();return Math['abs'](_0x4ca511['y'])<0.99?_0x499ee8['set'](-_0x4ca511['z'],0x0,_0x4ca511['x'])['normalize']():_0x499ee8['set'](0x0,_0x4ca511['z'],-_0x4ca511['y'])['normalize']();},'genPerpendicularVectorFrisvad':function(_0x1eb2c6){var _0x3f4268=_0x1eb2c6['clone']();if(_0x1eb2c6['z']<-0.9999999)return _0x3f4268['set'](0x0,-0x1,0x0);var _0x34fd1c=0x1/(0x1+_0x1eb2c6['z']);return _0x3f4268['set'](0x1-_0x1eb2c6['x']*_0x1eb2c6['x']*_0x34fd1c,-_0x1eb2c6['x']*_0x1eb2c6['y']*_0x34fd1c,-_0x1eb2c6['x'])['normalize']();},'rotateXDegs':function(_0x5c7d24,_0x4be0b0){return _0x5c7d24['clone']()['rotate'](_0x4be0b0*_0x47b737['_Math']['toRad'],'X');},'rotateYDegs':function(_0x3631f2,_0xae84e2){return _0x3631f2['clone']()['rotate'](_0xae84e2*_0x47b737['_Math']['toRad'],'Y');},'rotateZDegs':function(_0x545311,_0x120832){return _0x545311['clone']()['rotate'](_0x120832*_0x47b737['_Math']['toRad'],'Z');},'withinManhattanDistance':function(_0x4becb3,_0x473602,_0x5e9ae4){return!(Math['abs'](_0x473602['x']-_0x4becb3['x'])>_0x5e9ae4||Math['abs'](_0x473602['y']-_0x4becb3['y'])>_0x5e9ae4||Math['abs'](_0x473602['z']-_0x4becb3['z'])>_0x5e9ae4);},'manhattanDistanceBetween':function(_0x51a3f3,_0x524520){return Math['abs'](_0x524520['x']-_0x51a3f3['x'])+Math['abs'](_0x524520['x']-_0x51a3f3['x'])+Math['abs'](_0x524520['x']-_0x51a3f3['x']);},'distanceBetween':function(_0x3e8bb0,_0x2428e0){var _0x7fb846=_0x2428e0['x']-_0x3e8bb0['x'],_0x1173ab=_0x2428e0['y']-_0x3e8bb0['y'],_0x1d014d=_0x3e8bb0 instanceof _0x38742b['V3']&&_0x2428e0 instanceof _0x38742b['V3']?_0x2428e0['z']-_0x3e8bb0['z']:0x0;return Math['sqrt'](_0x7fb846*_0x7fb846+_0x1173ab*_0x1173ab+_0x1d014d*_0x1d014d);},'rotateDegs':function(_0x2b0308,_0x3ade8c){return _0x2b0308['clone']()['rotate'](_0x3ade8c*_0x47b737['_Math']['toRad']);},'validateDirectionUV':function(_0x17900c){_0x17900c['length']()<0x0&&_0x8e3228['Tools']['error']('vector\x20direction\x20unit\x20vector\x20cannot\x20be\x20zero.');},'validateLength':function(_0xed3e1c){_0xed3e1c<0x0&&_0x8e3228['Tools']['error']('Length\x20must\x20be\x20a\x20greater\x20than\x20or\x20equal\x20to\x20zero.');}};}(Ut));var st={};Object['defineProperty'](st,'__esModule',{'value':!0x0});st['V2']=void 0x0;var wi=(function(){function _0x3fbe1b(_0x408855,_0xc84c59){this['x']=_0x408855||0x0,this['y']=_0xc84c59||0x0;}return _0x3fbe1b['prototype']['set']=function(_0x1dc24f,_0x4dd52a){return this['x']=_0x1dc24f||0x0,this['y']=_0x4dd52a||0x0,this;},_0x3fbe1b['prototype']['distanceTo']=function(_0x4d4c9d){return Math['sqrt'](this['distanceToSquared'](_0x4d4c9d));},_0x3fbe1b['prototype']['distanceToSquared']=function(_0x1a3d81){var _0x37c520=this['x']-_0x1a3d81['x'],_0x3b3ca4=this['y']-_0x1a3d81['y'];return _0x37c520*_0x37c520+_0x3b3ca4*_0x3b3ca4;},_0x3fbe1b['prototype']['multiplyScalar']=function(_0x33ab02){return this['x']*=_0x33ab02,this['y']*=_0x33ab02,this;},_0x3fbe1b['prototype']['divideScalar']=function(_0x2c8f76){return this['multiplyScalar'](0x1/_0x2c8f76);},_0x3fbe1b['prototype']['length']=function(){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);},_0x3fbe1b['prototype']['normalize']=function(){return this['divideScalar'](this['length']()||0x1);},_0x3fbe1b['prototype']['normalised']=function(){return new _0x3fbe1b(this['x'],this['y'])['normalize']();},_0x3fbe1b['prototype']['lengthSq']=function(){return this['x']*this['x']+this['y']*this['y'];},_0x3fbe1b['prototype']['add']=function(_0x41fe12){return this['x']+=_0x41fe12['x'],this['y']+=_0x41fe12['y'],this;},_0x3fbe1b['prototype']['plus']=function(_0x381b64){return new _0x3fbe1b(this['x']+_0x381b64['x'],this['y']+_0x381b64['y']);},_0x3fbe1b['prototype']['min']=function(_0x3eab54){return this['x']-=_0x3eab54['x'],this['y']-=_0x3eab54['y'],this;},_0x3fbe1b['prototype']['minus']=function(_0x59c3dd){return new _0x3fbe1b(this['x']-_0x59c3dd['x'],this['y']-_0x59c3dd['y']);},_0x3fbe1b['prototype']['divideBy']=function(_0x2ef0c6){return new _0x3fbe1b(this['x'],this['y'])['divideScalar'](_0x2ef0c6);},_0x3fbe1b['prototype']['dot']=function(_0x2635f3){return this['x']*_0x2635f3['x']+this['y']*_0x2635f3['y'];},_0x3fbe1b['prototype']['negate']=function(){return this['x']=-this['x'],this['y']=-this['y'],this;},_0x3fbe1b['prototype']['negated']=function(){return new _0x3fbe1b(-this['x'],-this['y']);},_0x3fbe1b['prototype']['clone']=function(){return new _0x3fbe1b(this['x'],this['y']);},_0x3fbe1b['prototype']['copy']=function(_0x40a9b5){return this['x']=_0x40a9b5['x'],this['y']=_0x40a9b5['y'],this;},_0x3fbe1b['prototype']['cross']=function(_0x4b6138){return this['x']*_0x4b6138['y']-this['y']*_0x4b6138['x'];},_0x3fbe1b['prototype']['sign']=function(_0x576b67){var _0x14abd6=this['cross'](_0x576b67);return _0x14abd6>=0x0?0x1:-0x1;},_0x3fbe1b['prototype']['approximatelyEquals']=function(_0x1e281e,_0x1dbedb){if(_0x1dbedb<0x0)return!0x1;var _0x3beedd=Math['abs'](this['x']-_0x1e281e['x']),_0x45ba6a=Math['abs'](this['y']-_0x1e281e['y']);return _0x3beedd<_0x1dbedb&&_0x45ba6a<_0x1dbedb;},_0x3fbe1b['prototype']['rotate']=function(_0x2c5c30){var _0x17bc17=Math['cos'](_0x2c5c30),_0x5839ea=Math['sin'](_0x2c5c30),_0x1cd160=this['x']*_0x17bc17-this['y']*_0x5839ea,_0x183e61=this['x']*_0x5839ea+this['y']*_0x17bc17;return this['x']=_0x1cd160,this['y']=_0x183e61,this;},_0x3fbe1b['prototype']['angleTo']=function(_0x174abe){var _0x557fb7=this['dot'](_0x174abe)/Math['sqrt'](this['lengthSq']()*_0x174abe['lengthSq']());return _0x557fb7<=-0x1?Math['PI']:_0x557fb7>=0x1?0x0:Math['acos'](_0x557fb7);},_0x3fbe1b['prototype']['getSignedAngle']=function(_0x1b8d67){var _0x28b83d=this['angleTo'](_0x1b8d67),_0x1d9185=this['sign'](_0x1b8d67);return _0x1d9185===0x1?_0x28b83d:-_0x28b83d;},_0x3fbe1b['prototype']['constrainedUV']=function(_0x38ca3e,_0x509d04,_0x106554){var _0x4b4ab3=_0x38ca3e['getSignedAngle'](this);return _0x4b4ab3>_0x106554&&this['copy'](_0x38ca3e)['rotate'](_0x106554),_0x4b4ab3<_0x509d04&&this['copy'](_0x38ca3e)['rotate'](_0x509d04),this;},_0x3fbe1b['isVector2']=!0x0,_0x3fbe1b;}());st['V2']=wi;var at={};Object['defineProperty'](at,'__esModule',{'value':!0x0});at['M3']=void 0x0;var Nt=W,vi=(function(){function _0x5e76c2(){this['elements']=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1],arguments['length']>0x0&&console['error']('M3:\x20the\x20constructor\x20no\x20longer\x20reads\x20arguments.\x20use\x20.set()\x20instead.');}return _0x5e76c2['prototype']['set']=function(_0x183af6,_0x256bc0,_0x5c4a2a,_0x27a954,_0x435600,_0x3357fb,_0x196762,_0x4d7bd6,_0x31e291){var _0x281909=this['elements'];return _0x281909[0x0]=_0x183af6,_0x281909[0x1]=_0x27a954,_0x281909[0x2]=_0x196762,_0x281909[0x3]=_0x256bc0,_0x281909[0x4]=_0x435600,_0x281909[0x5]=_0x4d7bd6,_0x281909[0x6]=_0x5c4a2a,_0x281909[0x7]=_0x3357fb,_0x281909[0x8]=_0x31e291,this;},_0x5e76c2['prototype']['identity']=function(){return this['set'](0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1),this;},_0x5e76c2['prototype']['setV3']=function(_0x552fdb,_0x5d9ffe,_0x53bdd2){var _0x336ece=this['elements'];return _0x336ece[0x0]=_0x552fdb['x'],_0x336ece[0x3]=_0x552fdb['y'],_0x336ece[0x6]=_0x552fdb['z'],_0x336ece[0x1]=_0x5d9ffe['x'],_0x336ece[0x4]=_0x5d9ffe['y'],_0x336ece[0x7]=_0x5d9ffe['z'],_0x336ece[0x2]=_0x53bdd2['x'],_0x336ece[0x5]=_0x53bdd2['y'],_0x336ece[0x8]=_0x53bdd2['z'],this;},_0x5e76c2['prototype']['transpose']=function(){var _0x1482a1,_0x1f20e3=this['elements'];return _0x1482a1=_0x1f20e3[0x1],_0x1f20e3[0x1]=_0x1f20e3[0x3],_0x1f20e3[0x3]=_0x1482a1,_0x1482a1=_0x1f20e3[0x2],_0x1f20e3[0x2]=_0x1f20e3[0x6],_0x1f20e3[0x6]=_0x1482a1,_0x1482a1=_0x1f20e3[0x5],_0x1f20e3[0x5]=_0x1f20e3[0x7],_0x1f20e3[0x7]=_0x1482a1,this;},_0x5e76c2['prototype']['createRotationMatrix']=function(_0x58e388){var _0x343e1f=_0x58e388,_0x3fb306=new Nt['V3'](0x1,0x0,0x0),_0x4c7f1b=new Nt['V3'](0x0,0x1,0x0);if(_0x58e388['z']<-0.9999999)_0x3fb306['set'](0x1,0x0,0x0),_0x4c7f1b['set'](0x0,0x1,0x0);else{var _0x5d3f70=0x1/(0x1+_0x343e1f['z']),_0x1145d5=-_0x343e1f['x']*_0x343e1f['y']*_0x5d3f70;_0x3fb306['set'](0x1-_0x343e1f['x']*_0x343e1f['x']*_0x5d3f70,_0x1145d5,-_0x343e1f['x'])['normalize'](),_0x4c7f1b['set'](_0x1145d5,0x1-_0x343e1f['y']*_0x343e1f['y']*_0x5d3f70,-_0x343e1f['y'])['normalize']();}return this['setV3'](_0x3fb306,_0x4c7f1b,_0x343e1f);},_0x5e76c2['prototype']['rotateAboutAxis']=function(_0x1403ef,_0x39828a,_0x78b240){var _0x3728f5=Math['sin'](_0x39828a),_0x1e82bc=Math['cos'](_0x39828a),_0x208f73=0x1-_0x1e82bc,_0x50e755=_0x78b240['x']*_0x78b240['y']*_0x208f73,_0x9b81ea=_0x78b240['x']*_0x78b240['z']*_0x208f73,_0x550370=_0x78b240['y']*_0x78b240['z']*_0x208f73,_0x5846fe=this['elements'];return _0x5846fe[0x0]=_0x78b240['x']*_0x78b240['x']*_0x208f73+_0x1e82bc,_0x5846fe[0x3]=_0x50e755+_0x78b240['z']*_0x3728f5,_0x5846fe[0x6]=_0x9b81ea-_0x78b240['y']*_0x3728f5,_0x5846fe[0x1]=_0x50e755-_0x78b240['z']*_0x3728f5,_0x5846fe[0x4]=_0x78b240['y']*_0x78b240['y']*_0x208f73+_0x1e82bc,_0x5846fe[0x7]=_0x550370+_0x78b240['x']*_0x3728f5,_0x5846fe[0x2]=_0x9b81ea+_0x78b240['y']*_0x3728f5,_0x5846fe[0x5]=_0x550370-_0x78b240['x']*_0x3728f5,_0x5846fe[0x8]=_0x78b240['z']*_0x78b240['z']*_0x208f73+_0x1e82bc,_0x1403ef['clone']()['applyM3'](this);},_0x5e76c2['isMatrix3']=!0x0,_0x5e76c2;}());at['M3']=vi;var ct={},J={};(function(_0x3e1bcb){Object['defineProperty'](_0x3e1bcb,'__esModule',{'value':!0x0}),_0x3e1bcb['RIGHT']=_0x3e1bcb['LEFT']=_0x3e1bcb['DOWN']=_0x3e1bcb['UP']=_0x3e1bcb['Z_NEG']=_0x3e1bcb['Y_NEG']=_0x3e1bcb['X_NEG']=_0x3e1bcb['Z_AXE']=_0x3e1bcb['Y_AXE']=_0x3e1bcb['X_AXE']=_0x3e1bcb['ConnectionType']=_0x3e1bcb['JointType']=_0x3e1bcb['BaseboneConstraintType']=_0x3e1bcb['TODEG']=_0x3e1bcb['TORAD']=_0x3e1bcb['PI']=_0x3e1bcb['MAX_VALUE']=_0x3e1bcb['PRECISION_DEG']=_0x3e1bcb['PRECISION']=_0x3e1bcb['REVISION']=void 0x0;var _0x2374b9=W,_0xf6f8da=st;_0x3e1bcb['REVISION']='1.3.3',_0x3e1bcb['PRECISION']=0.001,_0x3e1bcb['PRECISION_DEG']=0.01,_0x3e1bcb['MAX_VALUE']=0x1/0x0,_0x3e1bcb['PI']=Math['PI'],_0x3e1bcb['TORAD']=Math['PI']/0xb4,_0x3e1bcb['TODEG']=0xb4/Math['PI'],function(_0x12f974){_0x12f974[_0x12f974['NONE']=0x1]='NONE',_0x12f974[_0x12f974['GLOBAL_ROTOR']=0x2]='GLOBAL_ROTOR',_0x12f974[_0x12f974['GLOBAL_HINGE']=0x3]='GLOBAL_HINGE',_0x12f974[_0x12f974['LOCAL_ROTOR']=0x4]='LOCAL_ROTOR',_0x12f974[_0x12f974['LOCAL_HINGE']=0x5]='LOCAL_HINGE',_0x12f974[_0x12f974['GLOBAL_ABSOLUTE']=0x6]='GLOBAL_ABSOLUTE',_0x12f974[_0x12f974['LOCAL_RELATIVE']=0x7]='LOCAL_RELATIVE',_0x12f974[_0x12f974['LOCAL_ABSOLUTE']=0x8]='LOCAL_ABSOLUTE';}(_0x3e1bcb['BaseboneConstraintType']||(_0x3e1bcb['BaseboneConstraintType']={})),function(_0x2bc901){_0x2bc901[_0x2bc901['J_BALL']=0xa]='J_BALL',_0x2bc901[_0x2bc901['J_LOCAL']=0xb]='J_LOCAL',_0x2bc901[_0x2bc901['J_GLOBAL']=0xc]='J_GLOBAL';}(_0x3e1bcb['JointType']||(_0x3e1bcb['JointType']={})),function(_0x103a73){_0x103a73[_0x103a73['START']=0x14]='START',_0x103a73[_0x103a73['END']=0x15]='END';}(_0x3e1bcb['ConnectionType']||(_0x3e1bcb['ConnectionType']={})),_0x3e1bcb['X_AXE']=new _0x2374b9['V3'](0x1,0x0,0x0),_0x3e1bcb['Y_AXE']=new _0x2374b9['V3'](0x0,0x1,0x0),_0x3e1bcb['Z_AXE']=new _0x2374b9['V3'](0x0,0x0,0x1),_0x3e1bcb['X_NEG']=new _0x2374b9['V3'](-0x1,0x0,0x0),_0x3e1bcb['Y_NEG']=new _0x2374b9['V3'](0x0,-0x1,0x0),_0x3e1bcb['Z_NEG']=new _0x2374b9['V3'](0x0,0x0,-0x1),_0x3e1bcb['UP']=new _0xf6f8da['V2'](0x0,0x1),_0x3e1bcb['DOWN']=new _0xf6f8da['V2'](0x0,-0x1),_0x3e1bcb['LEFT']=new _0xf6f8da['V2'](-0x1,0x0),_0x3e1bcb['RIGHT']=new _0xf6f8da['V2'](0x1,0x0);}(J));Object['defineProperty'](ct,'__esModule',{'value':!0x0});ct['Joint3D']=void 0x0;var Yt=W,O=J,Ci=(function(){function _0x100403(){this['rotor']=O['PI'],this['min']=-O['PI'],this['max']=O['PI'],this['freeHinge']=!0x0,this['rotationAxisUV']=new Yt['V3'](),this['referenceAxisUV']=new Yt['V3'](),this['type']=O['JointType']['J_BALL'];}return _0x100403['prototype']['clone']=function(){var _0x3dff2d=new _0x100403();return _0x3dff2d['type']=this['type'],_0x3dff2d['rotor']=this['rotor'],_0x3dff2d['max']=this['max'],_0x3dff2d['min']=this['min'],_0x3dff2d['freeHinge']=this['freeHinge'],_0x3dff2d['rotationAxisUV']['copy'](this['rotationAxisUV']),_0x3dff2d['referenceAxisUV']['copy'](this['referenceAxisUV']),_0x3dff2d;},_0x100403['prototype']['testAngle']=function(){this['max']===O['PI']&&this['min']===-O['PI']?this['freeHinge']=!0x0:this['freeHinge']=!0x1;},_0x100403['prototype']['validateAngle']=function(_0x46b4aa){return _0x46b4aa=_0x46b4aa<0x0?0x0:_0x46b4aa,_0x46b4aa=_0x46b4aa>0xb4?0xb4:_0x46b4aa,_0x46b4aa;},_0x100403['prototype']['setAsBallJoint']=function(_0x2b71ab){this['rotor']=this['validateAngle'](_0x2b71ab)*O['TORAD'],this['type']=O['JointType']['J_BALL'];},_0x100403['prototype']['setHinge']=function(_0x43ae04,_0x344bd0,_0x20ba4b,_0x28435e,_0x4f19f7){this['type']=_0x43ae04,_0x20ba4b<0x0&&(_0x20ba4b*=-0x1),this['min']=-this['validateAngle'](_0x20ba4b)*O['TORAD'],this['max']=this['validateAngle'](_0x28435e)*O['TORAD'],this['testAngle'](),this['rotationAxisUV']['copy'](_0x344bd0)['normalize'](),this['referenceAxisUV']['copy'](_0x4f19f7)['normalize']();},_0x100403['prototype']['getHingeReferenceAxis']=function(){return this['referenceAxisUV'];},_0x100403['prototype']['getHingeRotationAxis']=function(){return this['rotationAxisUV'];},_0x100403['prototype']['setBallJointConstraintDegs']=function(_0x2abda8){this['rotor']=this['validateAngle'](_0x2abda8)*O['TORAD'];},_0x100403['prototype']['setHingeClockwise']=function(_0x3220fd){_0x3220fd<0x0&&(_0x3220fd*=-0x1),this['min']=-this['validateAngle'](_0x3220fd)*O['TORAD'],this['testAngle']();},_0x100403['prototype']['setHingeAnticlockwise']=function(_0x42a1d3){this['max']=this['validateAngle'](_0x42a1d3)*O['TORAD'],this['testAngle']();},_0x100403['isJoint3D']=!0x0,_0x100403;}());ct['Joint3D']=Ci;var mt={};Object['defineProperty'](mt,'__esModule',{'value':!0x0});mt['Bone3D']=void 0x0;var Bi=J,Ti=ct,kt=W,Mi=(function(){function _0x5d0138(_0x4d75d8,_0x45e55e,_0x56a4eb,_0xc34ba2){this['joint']=new Ti['Joint3D'](),this['start']=new kt['V3'](),this['end']=new kt['V3'](),this['boneConnectionPoint']=Bi['ConnectionType']['END'],this['length']=0x0,this['name']='',this['init'](_0x4d75d8,_0x45e55e,_0x56a4eb,_0xc34ba2);}return _0x5d0138['prototype']['init']=function(_0x26ea1a,_0x469303,_0x44a3ba,_0x14b1f3){this['setStartLocation'](_0x26ea1a),_0x469303?(this['setEndLocation'](_0x469303),this['length']=this['getLength']()):_0x14b1f3&&_0x44a3ba&&(this['setLength'](_0x14b1f3),this['setEndLocation'](this['start']['plus'](_0x44a3ba['normalised']()['multiplyScalar'](_0x14b1f3))));},_0x5d0138['prototype']['clone']=function(){var _0x25a7e8=new _0x5d0138(this['start'],this['end']);return _0x25a7e8['joint']=this['joint']['clone'](),_0x25a7e8;},_0x5d0138['prototype']['setBoneConnectionPoint']=function(_0x1f62db){this['boneConnectionPoint']=_0x1f62db;},_0x5d0138['prototype']['setHingeClockwise']=function(_0x553575){this['joint']['setHingeClockwise'](_0x553575);},_0x5d0138['prototype']['setHingeAnticlockwise']=function(_0x18517e){this['joint']['setHingeAnticlockwise'](_0x18517e);},_0x5d0138['prototype']['setBallJointConstraintDegs']=function(_0x53440a){this['joint']['setBallJointConstraintDegs'](_0x53440a);},_0x5d0138['prototype']['setStartLocation']=function(_0x5a87c6){this['start']['copy'](_0x5a87c6);},_0x5d0138['prototype']['setEndLocation']=function(_0x334081){this['end']['copy'](_0x334081);},_0x5d0138['prototype']['setLength']=function(_0x18ef04){_0x18ef04>0x0&&(this['length']=_0x18ef04);},_0x5d0138['prototype']['setJoint']=function(_0x1f2771){this['joint']=_0x1f2771;},_0x5d0138['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x5d0138['prototype']['getDirectionUV']=function(){return this['end']['minus'](this['start'])['normalize']();},_0x5d0138['prototype']['getLength']=function(){return this['start']['distanceTo'](this['end']);},_0x5d0138['isBone3D']=!0x0,_0x5d0138;}());mt['Bone3D']=Mi;var Rt={};Object['defineProperty'](Rt,'__esModule',{'value':!0x0});Rt['Chain3D']=void 0x0;var b=J,wt=Ut,Z=W,Ui=at,Pt=mt,rt=et,Ri=(function(){function _0x15be0a(){this['tmpTarget']=new Z['V3'](),this['tmpMtx']=new Ui['M3'](),this['bones']=[],this['name']='',this['solveDistanceThreshold']=0x1,this['minIterationChange']=0.01,this['maxIteration']=0x14,this['precision']=0.001,this['chainLength']=0x0,this['numBones']=0x0,this['baseLocation']=new Z['V3'](),this['fixedBaseMode']=!0x0,this['baseboneConstraintType']=b['BaseboneConstraintType']['NONE'],this['baseboneConstraintUV']=new Z['V3'](),this['baseboneRelativeConstraintUV']=new Z['V3'](),this['baseboneRelativeReferenceConstraintUV']=new Z['V3'](),this['lastTargetLocation']=new Z['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['lastBaseLocation']=new Z['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['currentSolveDistance']=b['MAX_VALUE'],this['connectedChainNumber']=-0x1,this['connectedBoneNumber']=-0x1,this['boneConnectionPoint']=b['ConnectionType']['END'],this['isFullForward']=!0x1,this['embeddedTarget']=new Z['V3'](),this['useEmbeddedTarget']=!0x1;}return _0x15be0a['prototype']['clone']=function(){var _0x47a177=new _0x15be0a();return _0x47a177['solveDistanceThreshold']=this['solveDistanceThreshold'],_0x47a177['minIterationChange']=this['minIterationChange'],_0x47a177['maxIteration']=this['maxIteration'],_0x47a177['precision']=this['precision'],_0x47a177['bones']=this['cloneBones'](),_0x47a177['baseLocation']['copy'](this['baseLocation']),_0x47a177['lastTargetLocation']['copy'](this['lastTargetLocation']),_0x47a177['lastBaseLocation']['copy'](this['lastBaseLocation']),this['baseboneConstraintType']!==b['BaseboneConstraintType']['NONE']&&(_0x47a177['baseboneConstraintUV']['copy'](this['baseboneConstraintUV']),_0x47a177['baseboneRelativeConstraintUV']['copy'](this['baseboneRelativeConstraintUV'])),_0x47a177['fixedBaseMode']=this['fixedBaseMode'],_0x47a177['chainLength']=this['chainLength'],_0x47a177['numBones']=this['numBones'],_0x47a177['currentSolveDistance']=this['currentSolveDistance'],_0x47a177['boneConnectionPoint']=this['boneConnectionPoint'],_0x47a177['connectedChainNumber']=this['connectedChainNumber'],_0x47a177['connectedBoneNumber']=this['connectedBoneNumber'],_0x47a177['baseboneConstraintType']=this['baseboneConstraintType'],_0x47a177['embeddedTarget']=this['embeddedTarget']['clone'](),_0x47a177['useEmbeddedTarget']=this['useEmbeddedTarget'],_0x47a177;},_0x15be0a['prototype']['clear']=function(){for(var _0x3637d5=this['numBones'];_0x3637d5--;)this['removeBone'](_0x3637d5);this['numBones']=0x0;},_0x15be0a['prototype']['addBone']=function(_0x2f43d1){this['bones']['push'](_0x2f43d1),this['numBones']++,this['numBones']===0x1&&(this['baseLocation']['copy'](_0x2f43d1['start']),this['baseboneConstraintUV']['copy'](_0x2f43d1['getDirectionUV']())),this['updateChainLength']();},_0x15be0a['prototype']['removeBone']=function(_0x4045fe){_0x4045fe<this['numBones']&&(this['bones']['splice'](_0x4045fe,0x1),this['numBones']--,this['updateChainLength']());},_0x15be0a['prototype']['addConsecutiveBone']=function(_0x4aad95,_0x468611){this['numBones']>0x0&&this['addBone'](new Pt['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0x4aad95['normalised'](),_0x468611));},_0x15be0a['prototype']['addConsecutiveFreelyRotatingHingedBone']=function(_0x457b41,_0x217fd4,_0x4517ac,_0x4593c7){this['addConsecutiveHingedBone'](_0x457b41,_0x217fd4,_0x4517ac,_0x4593c7,0xb4,0xb4,wt['_Math']['genPerpendicularVectorQuick'](_0x4593c7));},_0x15be0a['prototype']['addConsecutiveHingedBone']=function(_0x4a0345,_0x13c0df,_0x5a0ca3,_0x36b9e6,_0x59ae2d,_0x2d7745,_0x4117e1){if(this['numBones']!==0x0){var _0x1eafd5=_0x4a0345['normalised'](),_0x34ac99=_0x36b9e6['normalised'](),_0x41eea2=new Pt['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0x1eafd5,_0x13c0df);_0x5a0ca3=_0x5a0ca3||'global',_0x41eea2['joint']['setHinge'](_0x5a0ca3==='global'?b['JointType']['J_GLOBAL']:b['JointType']['J_LOCAL'],_0x34ac99,_0x59ae2d,_0x2d7745,_0x4117e1),this['addBone'](_0x41eea2);}},_0x15be0a['prototype']['addConsecutiveRotorConstrainedBone']=function(_0xd3b002,_0x3c77d9,_0x35245b){if(this['numBones']!==0x0){_0xd3b002=_0xd3b002['normalised']();var _0x3c9a7f=new Pt['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0xd3b002,_0x3c77d9);_0x3c9a7f['joint']['setAsBallJoint'](_0x35245b),this['addBone'](_0x3c9a7f);}},_0x15be0a['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x15be0a['prototype']['getConnectedBoneNumber']=function(){return this['connectedBoneNumber'];},_0x15be0a['prototype']['getConnectedChainNumber']=function(){return this['connectedChainNumber'];},_0x15be0a['prototype']['getBaseboneConstraintType']=function(){return this['baseboneConstraintType'];},_0x15be0a['prototype']['getBaseboneConstraintUV']=function(){if(this['baseboneConstraintType']!==b['BaseboneConstraintType']['NONE'])return this['baseboneConstraintUV'];},_0x15be0a['prototype']['getBaseLocation']=function(){return this['bones'][0x0]['start'];},_0x15be0a['prototype']['getEffectorLocation']=function(){return this['bones'][this['numBones']-0x1]['end'];},_0x15be0a['prototype']['getLastTargetLocation']=function(){return this['lastTargetLocation'];},_0x15be0a['prototype']['getLiveChainLength']=function(){for(var _0x3dba5c=0x0,_0x9e9cd7=this['numBones'];_0x9e9cd7--;)_0x3dba5c+=this['bones'][_0x9e9cd7]['getLength']();return _0x3dba5c;},_0x15be0a['prototype']['getBaseboneRelativeReferenceConstraintUV']=function(){return this['baseboneRelativeReferenceConstraintUV'];},_0x15be0a['prototype']['setConnectedBoneNumber']=function(_0x53f42b){this['connectedBoneNumber']=_0x53f42b;},_0x15be0a['prototype']['setConnectedChainNumber']=function(_0x5ab639){this['connectedChainNumber']=_0x5ab639;},_0x15be0a['prototype']['setBoneConnectionPoint']=function(_0x563e83){this['boneConnectionPoint']=_0x563e83;},_0x15be0a['prototype']['setBaseboneRelativeConstraintUV']=function(_0x56ae8d){_0x56ae8d&&(this['baseboneRelativeConstraintUV']=_0x56ae8d['normalised']());},_0x15be0a['prototype']['setBaseboneRelativeReferenceConstraintUV']=function(_0x27174c){this['baseboneRelativeReferenceConstraintUV']=_0x27174c['normalised']();},_0x15be0a['prototype']['setBaseboneConstraintUV']=function(_0x1dec1e){this['baseboneConstraintUV']=_0x1dec1e['normalised']();},_0x15be0a['prototype']['setRotorBaseboneConstraint']=function(_0x11c08d,_0x23ce37,_0x459216){if(this['numBones']===0x0){rt['Tools']['error']('Chain\x20must\x20contain\x20a\x20basebone\x20before\x20we\x20can\x20specify\x20the\x20basebone\x20constraint\x20type.');return;}if(!(_0x23ce37['length']()>0x0)){rt['Tools']['error']('Constraint\x20axis\x20cannot\x20be\x20zero.');return;}_0x11c08d=_0x11c08d||'global',this['baseboneConstraintType']=_0x11c08d==='global'?b['BaseboneConstraintType']['GLOBAL_ROTOR']:b['BaseboneConstraintType']['LOCAL_ROTOR'],this['baseboneConstraintUV']=_0x23ce37['normalised'](),this['baseboneRelativeConstraintUV']['copy'](this['baseboneConstraintUV']),this['bones'][0x0]['joint']['setAsBallJoint'](_0x459216);},_0x15be0a['prototype']['setHingeBaseboneConstraint']=function(_0xd1a710,_0x4ab3c3,_0x402ab0,_0xada7b9,_0x29e433){if(this['numBones']===0x0){rt['Tools']['error']('Chain\x20must\x20contain\x20a\x20basebone\x20before\x20we\x20can\x20specify\x20the\x20basebone\x20constraint\x20type.');return;}if(_0x4ab3c3['length']()<=0x0){rt['Tools']['error']('Hinge\x20rotation\x20axis\x20cannot\x20be\x20zero.');return;}if(_0x29e433['length']()<=0x0){rt['Tools']['error']('Hinge\x20reference\x20axis\x20cannot\x20be\x20zero.');return;}if(!wt['_Math']['perpendicular'](_0x4ab3c3,_0x29e433)){rt['Tools']['error']('The\x20hinge\x20reference\x20axis\x20must\x20be\x20in\x20the\x20plane\x20of\x20the\x20hinge\x20rotation\x20axis,\x20that\x20is,\x20they\x20must\x20be\x20perpendicular.');return;}_0xd1a710=_0xd1a710||'global',this['baseboneConstraintType']=_0xd1a710==='global'?b['BaseboneConstraintType']['GLOBAL_HINGE']:b['BaseboneConstraintType']['LOCAL_HINGE'],this['baseboneConstraintUV']=_0x4ab3c3['normalised'](),this['bones'][0x0]['joint']['setHinge'](_0xd1a710==='global'?b['JointType']['J_GLOBAL']:b['JointType']['J_LOCAL'],_0x4ab3c3,_0x402ab0,_0xada7b9,_0x29e433);},_0x15be0a['prototype']['setFreelyRotatingGlobalHingedBasebone']=function(_0x2a3c93){this['setHingeBaseboneConstraint']('global',_0x2a3c93,0xb4,0xb4,wt['_Math']['genPerpendicularVectorQuick'](_0x2a3c93));},_0x15be0a['prototype']['setGlobalHingedBasebone']=function(_0x1b8fcb,_0x2fc7ba,_0x4a21dd,_0x2827bf){this['setHingeBaseboneConstraint']('global',_0x1b8fcb,_0x2fc7ba,_0x4a21dd,_0x2827bf);},_0x15be0a['prototype']['setFreelyRotatingLocalHingedBasebone']=function(_0x28c927){this['setHingeBaseboneConstraint']('local',_0x28c927,0xb4,0xb4,wt['_Math']['genPerpendicularVectorQuick'](_0x28c927));},_0x15be0a['prototype']['setLocalHingedBasebone']=function(_0x2bba84,_0x3e62c2,_0x41822c,_0x41cf2f){this['setHingeBaseboneConstraint']('local',_0x2bba84,_0x3e62c2,_0x41822c,_0x41cf2f);},_0x15be0a['prototype']['setBaseLocation']=function(_0x54c2f9){this['baseLocation']['copy'](_0x54c2f9);},_0x15be0a['prototype']['setFixedBaseMode']=function(_0x3c63ed){!_0x3c63ed&&this['connectedChainNumber']!==-0x1||this['baseboneConstraintType']===b['BaseboneConstraintType']['GLOBAL_ROTOR']&&!_0x3c63ed||(this['fixedBaseMode']=_0x3c63ed);},_0x15be0a['prototype']['setMaxIterationAttempts']=function(_0x63b24c){_0x63b24c<0x1||(this['maxIteration']=_0x63b24c);},_0x15be0a['prototype']['setMinIterationChange']=function(_0x172c14){_0x172c14<0x0||(this['minIterationChange']=_0x172c14);},_0x15be0a['prototype']['setSolveDistanceThreshold']=function(_0x4ba057){_0x4ba057<0x0||(this['solveDistanceThreshold']=_0x4ba057);},_0x15be0a['prototype']['solveForEmbeddedTarget']=function(){if(this['useEmbeddedTarget'])return this['solveForTarget'](this['embeddedTarget']);},_0x15be0a['prototype']['resetTarget']=function(){this['lastBaseLocation']=new Z['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['currentSolveDistance']=b['MAX_VALUE'];},_0x15be0a['prototype']['solveForTarget']=function(_0x4bbbe5){this['tmpTarget']['set'](_0x4bbbe5['x'],_0x4bbbe5['y'],_0x4bbbe5['z']);var _0x16ae0b=this['precision'],_0x3ac974=this['lastBaseLocation']['approximatelyEquals'](this['baseLocation'],_0x16ae0b);if(this['lastTargetLocation']['approximatelyEquals'](this['tmpTarget'],_0x16ae0b)&&_0x3ac974)return this['currentSolveDistance'];var _0x40f2ea,_0x5ba1fd=null;_0x3ac974?(_0x40f2ea=this['bones'][this['numBones']-0x1]['end']['distanceTo'](this['tmpTarget']),_0x5ba1fd=this['cloneBones']()):_0x40f2ea=b['MAX_VALUE'];for(var _0x5ae180=[],_0x1c5430=b['MAX_VALUE'],_0x2058a8=b['MAX_VALUE'],_0x1885ec,_0x3d2bde=this['maxIteration'];_0x3d2bde--;){if(_0x1885ec=this['solveIK'](this['tmpTarget']),_0x1885ec!==void 0x0&&_0x1885ec<_0x1c5430){if(_0x1c5430=_0x1885ec,_0x5ae180=this['cloneBones'](),_0x1885ec<=this['solveDistanceThreshold'])break;}else if(_0x1885ec===void 0x0||Math['abs'](_0x1885ec-_0x2058a8)<this['minIterationChange'])break;_0x2058a8=_0x1885ec;}return _0x1c5430<_0x40f2ea?(this['currentSolveDistance']=_0x1c5430,this['bones']=_0x5ae180):(this['currentSolveDistance']=_0x40f2ea,this['bones']=_0x5ba1fd||this['bones']),this['lastBaseLocation']['copy'](this['baseLocation']),this['lastTargetLocation']['copy'](this['tmpTarget']),this['currentSolveDistance'];},_0x15be0a['prototype']['solveIK']=function(_0x5a4ddb){if(this['numBones']!==0x0){for(var _0x1c6a07,_0x227075,_0x94033d,_0x4f9595,_0x44ccc5,_0x51194f,_0x1f7ca1=this['tmpMtx'],_0x139894=this['numBones'];_0x139894--;)if(_0x1c6a07=this['bones'][_0x139894],_0x227075=_0x1c6a07['length'],_0x94033d=_0x1c6a07['joint'],_0x4f9595=_0x94033d['type'],_0x139894!==this['numBones']-0x1){_0x44ccc5=this['bones'][_0x139894+0x1];var _0x127583=_0x44ccc5['getDirectionUV']()['negate'](),_0x946e41=_0x1c6a07['getDirectionUV']()['negate']();switch(_0x4f9595){case b['JointType']['J_BALL']:_0x946e41['limitAngle'](_0x127583,_0x1f7ca1,_0x94033d['rotor']);break;case b['JointType']['J_GLOBAL']:_0x51194f=_0x94033d['getHingeRotationAxis'](),_0x946e41['projectOnPlane'](_0x51194f);break;case b['JointType']['J_LOCAL']:_0x139894>0x0?(_0x1f7ca1['createRotationMatrix'](this['bones'][_0x139894-0x1]['getDirectionUV']()),_0x51194f=_0x94033d['getHingeRotationAxis']()['clone']()['applyM3'](_0x1f7ca1)):_0x51194f=this['baseboneRelativeConstraintUV'],_0x946e41['projectOnPlane'](_0x51194f);break;}var _0x4c9632=_0x1c6a07['end']['plus'](_0x946e41['multiplyScalar'](_0x227075));_0x1c6a07['setStartLocation'](_0x4c9632),_0x139894>0x0&&this['bones'][_0x139894-0x1]['setEndLocation'](_0x4c9632);}else{_0x1c6a07['setEndLocation'](_0x5a4ddb);var _0x946e41=_0x1c6a07['getDirectionUV']()['negated']();switch(_0x4f9595){case b['JointType']['J_BALL']:break;case b['JointType']['J_GLOBAL']:_0x51194f=_0x94033d['getHingeRotationAxis'](),_0x946e41['projectOnPlane'](_0x51194f);break;case b['JointType']['J_LOCAL']:_0x1f7ca1['createRotationMatrix'](this['bones'][_0x139894-0x1]['getDirectionUV']()),_0x51194f=_0x94033d['getHingeRotationAxis']()['clone']()['applyM3'](_0x1f7ca1),_0x946e41['projectOnPlane'](_0x51194f);break;}var _0x4c9632=_0x5a4ddb['plus'](_0x946e41['multiplyScalar'](_0x227075));_0x1c6a07['setStartLocation'](_0x4c9632),_0x139894>0x0&&this['bones'][_0x139894-0x1]['setEndLocation'](_0x4c9632);}for(_0x139894=0x0;_0x139894<this['numBones'];_0x139894++)if(_0x1c6a07=this['bones'][_0x139894],_0x227075=_0x1c6a07['length'],_0x94033d=_0x1c6a07['joint'],_0x4f9595=_0x94033d['type'],_0x139894!==0x0){var _0x16f484=_0x1c6a07['getDirectionUV'](),_0xdc9fec=this['bones'][_0x139894-0x1]['getDirectionUV'](),_0x426d5c=void 0x0,_0x26e6eb=void 0x0;switch(_0x4f9595){case b['JointType']['J_BALL']:_0x16f484['limitAngle'](_0xdc9fec,_0x1f7ca1,_0x94033d['rotor']);break;case b['JointType']['J_GLOBAL']:_0x426d5c=_0x94033d['getHingeRotationAxis'](),_0x26e6eb=_0x94033d['getHingeReferenceAxis'](),_0x16f484['projectOnPlane'](_0x426d5c),_0x94033d['freeHinge']||_0x16f484['constrainedUV'](_0x26e6eb,_0x426d5c,_0x1f7ca1,_0x94033d['min'],_0x94033d['max']);break;case b['JointType']['J_LOCAL']:_0x1f7ca1['createRotationMatrix'](_0xdc9fec),_0x426d5c=_0x94033d['getHingeRotationAxis']()['clone']()['applyM3'](_0x1f7ca1),_0x26e6eb=_0x94033d['getHingeReferenceAxis']()['clone']()['applyM3'](_0x1f7ca1),_0x16f484['projectOnPlane'](_0x426d5c),_0x94033d['freeHinge']||_0x16f484['constrainedUV'](_0x26e6eb,_0x426d5c,_0x1f7ca1,_0x94033d['min'],_0x94033d['max']);break;}var _0x41be55=_0x1c6a07['start']['plus'](_0x16f484['multiplyScalar'](_0x227075));_0x1c6a07['setEndLocation'](_0x41be55),_0x139894<this['numBones']-0x1&&this['bones'][_0x139894+0x1]['setStartLocation'](_0x41be55);}else{this['fixedBaseMode']?_0x1c6a07['setStartLocation'](this['baseLocation']):_0x1c6a07['setStartLocation'](_0x1c6a07['end']['minus'](_0x1c6a07['getDirectionUV']()['multiplyScalar'](_0x227075)));var _0x16f484=_0x1c6a07['getDirectionUV'](),_0x3941ce=void 0x0,_0x26e6eb=void 0x0;switch(this['baseboneConstraintType']){case b['BaseboneConstraintType']['NONE']:break;case b['BaseboneConstraintType']['GLOBAL_ROTOR']:_0x16f484['limitAngle'](this['baseboneConstraintUV'],_0x1f7ca1,_0x94033d['rotor']);break;case b['BaseboneConstraintType']['LOCAL_ROTOR']:_0x16f484['limitAngle'](this['baseboneRelativeConstraintUV'],_0x1f7ca1,_0x94033d['rotor']);break;case b['BaseboneConstraintType']['GLOBAL_HINGE']:_0x3941ce=_0x94033d['getHingeRotationAxis'](),_0x26e6eb=_0x94033d['getHingeReferenceAxis'](),_0x16f484['projectOnPlane'](_0x3941ce),_0x94033d['freeHinge']||_0x16f484['constrainedUV'](_0x26e6eb,_0x3941ce,_0x1f7ca1,_0x94033d['min'],_0x94033d['max']);break;case b['BaseboneConstraintType']['LOCAL_HINGE']:_0x3941ce=this['baseboneRelativeConstraintUV'],_0x26e6eb=this['baseboneRelativeReferenceConstraintUV'],_0x16f484['projectOnPlane'](_0x3941ce),_0x94033d['freeHinge']||_0x16f484['constrainedUV'](_0x26e6eb,_0x3941ce,_0x1f7ca1,_0x94033d['min'],_0x94033d['max']);break;}var _0x41be55=_0x1c6a07['start']['plus'](_0x16f484['multiplyScalar'](_0x227075));_0x1c6a07['setEndLocation'](_0x41be55),this['numBones']>0x1&&this['bones'][0x1]['setStartLocation'](_0x41be55);}return this['lastTargetLocation']['copy'](_0x5a4ddb),this['bones'][this['numBones']-0x1]['end']['distanceTo'](_0x5a4ddb);}},_0x15be0a['prototype']['updateChainLength']=function(){this['chainLength']=0x0;for(var _0x1036ab=this['numBones'];_0x1036ab--;)this['chainLength']+=this['bones'][_0x1036ab]['length'];},_0x15be0a['prototype']['cloneBones']=function(){for(var _0x2979e3=[],_0x139198=0x0,_0x513eaa=this['bones']['length'];_0x139198<_0x513eaa;_0x139198++)_0x2979e3['push'](this['bones'][_0x139198]['clone']());return _0x2979e3;},_0x15be0a['isChain3D']=!0x0,_0x15be0a;}());Rt['Chain3D']=Ri;var Lt={};Object['defineProperty'](Lt,'__esModule',{'value':!0x0});Lt['Structure3D']=void 0x0;var $=J,Li=at,Ei=(function(){function _0x5dfc1c(){this['fixedBaseMode']=!0x0,this['chains']=[],this['targets']=[],this['numChains']=0x0,this['tmpMtx']=new Li['M3']();}return _0x5dfc1c['prototype']['update']=function(){for(var _0x34ba01,_0x5bc892,_0x9f6bef,_0x57bad6,_0xee269c,_0x1f5c3d,_0x431492=0x0;_0x431492<this['numChains'];_0x431492++){if(_0x5bc892=this['chains'][_0x431492],_0x9f6bef=this['targets'][_0x431492],_0x57bad6=_0x5bc892['getConnectedChainNumber'](),_0x57bad6!==-0x1){_0xee269c=this['chains'][_0x57bad6]['bones'][_0x5bc892['getConnectedBoneNumber']()],_0x5bc892['setBaseLocation'](_0x5bc892['getBoneConnectionPoint']()===$['ConnectionType']['START']?_0xee269c['start']:_0xee269c['end']),_0x1f5c3d=_0x5bc892['getBaseboneConstraintType']();var _0x4add9f=void 0x0;switch(_0x1f5c3d){case $['BaseboneConstraintType']['NONE']:case $['BaseboneConstraintType']['GLOBAL_ROTOR']:case $['BaseboneConstraintType']['GLOBAL_HINGE']:break;case $['BaseboneConstraintType']['LOCAL_ROTOR']:case $['BaseboneConstraintType']['LOCAL_HINGE']:this['tmpMtx']['createRotationMatrix'](_0xee269c['getDirectionUV']()),_0x4add9f=(_0x34ba01=_0x5bc892['getBaseboneConstraintUV']())===null||_0x34ba01===void 0x0?void 0x0:_0x34ba01['clone']()['applyM3'](this['tmpMtx']),_0x5bc892['setBaseboneRelativeConstraintUV'](_0x4add9f),_0x1f5c3d===$['BaseboneConstraintType']['LOCAL_HINGE']&&_0x5bc892['setBaseboneRelativeReferenceConstraintUV'](_0x5bc892['bones'][0x0]['joint']['getHingeReferenceAxis']()['clone']()['applyM3'](this['tmpMtx']));break;}}_0x5bc892['useEmbeddedTarget']?_0x5bc892['solveForEmbeddedTarget']():_0x5bc892['solveForTarget'](_0x9f6bef);}},_0x5dfc1c['prototype']['clear']=function(){var _0x38649c;for(_0x38649c=this['numChains'];_0x38649c--;)this['remove'](_0x38649c);this['chains']=[],this['targets']=[];},_0x5dfc1c['prototype']['add']=function(_0x6b6554,_0x105b21){this['chains']['push'](_0x6b6554),this['targets']['push'](_0x105b21),this['numChains']++;},_0x5dfc1c['prototype']['remove']=function(_0x3f502e){this['chains'][_0x3f502e]['clear'](),this['chains']['splice'](_0x3f502e,0x1),this['targets']['splice'](_0x3f502e,0x1),this['numChains']--;},_0x5dfc1c['prototype']['setFixedBaseMode']=function(_0x212d9a){this['fixedBaseMode']=_0x212d9a;for(var _0x24d5f6=this['numChains'],_0x1d1d8f;_0x24d5f6--;)_0x1d1d8f=this['chains'][_0x24d5f6]['getConnectedChainNumber'](),_0x1d1d8f===-0x1&&this['chains'][_0x24d5f6]['setFixedBaseMode'](this['fixedBaseMode']);},_0x5dfc1c['prototype']['getNumChains']=function(){return this['numChains'];},_0x5dfc1c['prototype']['getChain']=function(_0x12231b){return this['chains'][_0x12231b];},_0x5dfc1c['prototype']['connectChain']=function(_0x35946a,_0x46dfbd,_0x1ec7de,_0x3dfca1,_0x4fd048){var _0x58c749=_0x46dfbd,_0x30c2c1=_0x1ec7de;if(!(_0x46dfbd>this['numChains'])&&!(_0x1ec7de>this['chains'][_0x46dfbd]['numBones'])){var _0xed43d6=_0x35946a['clone']();_0xed43d6['setBoneConnectionPoint'](_0x3dfca1==='end'?$['ConnectionType']['END']:$['ConnectionType']['START']),_0xed43d6['setConnectedChainNumber'](_0x58c749),_0xed43d6['setConnectedBoneNumber'](_0x30c2c1);var _0x2252ec=_0x3dfca1==='end'?this['chains'][_0x58c749]['bones'][_0x30c2c1]['end']:this['chains'][_0x58c749]['bones'][_0x30c2c1]['start'];_0xed43d6['setBaseLocation'](_0x2252ec),_0xed43d6['setFixedBaseMode'](!0x0);for(var _0x3834d4=0x0;_0x3834d4<_0xed43d6['numBones'];_0x3834d4++)_0xed43d6['bones'][_0x3834d4]['start']['add'](_0x2252ec),_0xed43d6['bones'][_0x3834d4]['end']['add'](_0x2252ec);this['add'](_0xed43d6,_0x4fd048);}},_0x5dfc1c;}());Lt['Structure3D']=Ei;var ft={};Object['defineProperty'](ft,'__esModule',{'value':!0x0});ft['Joint2D']=void 0x0;var tt=J,zi=(function(){function _0x5962b9(_0x24e90a,_0x564e95,_0x284d4f){_0x24e90a===void 0x0&&(_0x24e90a=0x0),this['isJoint2D']=!0x0,this['coordinateSystem']=_0x284d4f||tt['JointType']['J_LOCAL'],_0x24e90a<0x0&&(_0x24e90a*=-0x1),this['min']=_0x24e90a!==void 0x0?-_0x24e90a*tt['TORAD']:-tt['PI'],this['max']=_0x564e95!==void 0x0?_0x564e95*tt['TORAD']:tt['PI'];}return _0x5962b9['prototype']['clone']=function(){var _0x48501a=new _0x5962b9();return _0x48501a['coordinateSystem']=this['coordinateSystem'],_0x48501a['max']=this['max'],_0x48501a['min']=this['min'],_0x48501a;},_0x5962b9['prototype']['validateAngle']=function(_0x484ecc){return _0x484ecc=_0x484ecc<0x0?0x0:_0x484ecc,_0x484ecc=_0x484ecc>0xb4?0xb4:_0x484ecc,_0x484ecc;},_0x5962b9['prototype']['set']=function(_0x38c433){this['max']=_0x38c433['max'],this['min']=_0x38c433['min'],this['coordinateSystem']=_0x38c433['coordinateSystem'];},_0x5962b9['prototype']['setClockwiseConstraintDegs']=function(_0x334eb0){_0x334eb0<0x0&&(_0x334eb0*=-0x1),this['min']=-(this['validateAngle'](_0x334eb0)*tt['TORAD']);},_0x5962b9['prototype']['setAnticlockwiseConstraintDegs']=function(_0x51882d){this['max']=this['validateAngle'](_0x51882d)*tt['TORAD'];},_0x5962b9['prototype']['setConstraintCoordinateSystem']=function(_0x3bf2a4){this['coordinateSystem']=_0x3bf2a4;},_0x5962b9['prototype']['getConstraintCoordinateSystem']=function(){return this['coordinateSystem'];},_0x5962b9;}());ft['Joint2D']=zi;var dt={};Object['defineProperty'](dt,'__esModule',{'value':!0x0});dt['Bone2D']=void 0x0;var Si=J,Di=ft,Ft=st,Ii=(function(){function _0x442d5b(_0x13d6d5,_0x5a9e16,_0x153fc3,_0x27fd77,_0x66cd15,_0x16d023){this['isBone2D']=!0x0,this['globalConstraintUV']=new Ft['V2'](0x1,0x0),this['boneConnectionPoint']=Si['ConnectionType']['END'],this['start']=new Ft['V2'](),this['end']=new Ft['V2'](),this['length']=_0x27fd77||0x0,this['joint']=new Di['Joint2D'](_0x66cd15,_0x16d023),this['name']='',this['setStartLocation'](_0x13d6d5),_0x5a9e16?(this['setEndLocation'](_0x5a9e16),this['length']===0x0&&(this['length']=this['getLength']())):_0x153fc3&&this['setEndLocation'](this['start']['plus'](_0x153fc3['normalised']()['multiplyScalar'](this['length'])));}return _0x442d5b['prototype']['clone']=function(){var _0x31c37e=new _0x442d5b(this['start'],this['end']);return _0x31c37e['length']=this['length'],_0x31c37e['globalConstraintUV']=this['globalConstraintUV'],_0x31c37e['boneConnectionPoint']=this['boneConnectionPoint'],_0x31c37e['joint']=this['joint']['clone'](),_0x31c37e['name']=this['name'],_0x31c37e;},_0x442d5b['prototype']['setName']=function(_0x1da515){this['name']=_0x1da515;},_0x442d5b['prototype']['setBoneConnectionPoint']=function(_0x285a34){this['boneConnectionPoint']=_0x285a34;},_0x442d5b['prototype']['setStartLocation']=function(_0x5e8d9a){this['start']['copy'](_0x5e8d9a);},_0x442d5b['prototype']['setEndLocation']=function(_0x3648b8){this['end']['copy'](_0x3648b8);},_0x442d5b['prototype']['setLength']=function(_0x22a97d){_0x22a97d>0x0&&(this['length']=_0x22a97d);},_0x442d5b['prototype']['setGlobalConstraintUV']=function(_0x2fc916){this['globalConstraintUV']=_0x2fc916;},_0x442d5b['prototype']['setJoint']=function(_0x2c2b24){this['joint']=_0x2c2b24;},_0x442d5b['prototype']['setClockwiseConstraintDegs']=function(_0x325ad9){this['joint']['setClockwiseConstraintDegs'](_0x325ad9);},_0x442d5b['prototype']['setAnticlockwiseConstraintDegs']=function(_0x18a56e){this['joint']['setAnticlockwiseConstraintDegs'](_0x18a56e);},_0x442d5b['prototype']['setJointConstraintCoordinateSystem']=function(_0x101ed9){this['joint']['setConstraintCoordinateSystem'](_0x101ed9);},_0x442d5b['prototype']['getGlobalConstraintUV']=function(){return this['globalConstraintUV'];},_0x442d5b['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x442d5b['prototype']['getDirectionUV']=function(){return this['end']['minus'](this['start'])['normalize']();},_0x442d5b['prototype']['getLength']=function(){return this['start']['distanceTo'](this['end']);},_0x442d5b;}());dt['Bone2D']=Ii;var Et={};Object['defineProperty'](Et,'__esModule',{'value':!0x0});Et['Chain2D']=void 0x0;var L=J,ht=Ut,q=st,_t=dt,Pi=et,Fi=(function(){function _0x1bd749(){this['tmpTarget']=new q['V2'](),this['bones']=[],this['name']='',this['solveDistanceThreshold']=0x1,this['minIterationChange']=0.01,this['maxIteration']=0xf,this['precision']=0.001,this['chainLength']=0x0,this['numBones']=0x0,this['baseLocation']=new q['V2'](),this['fixedBaseMode']=!0x0,this['baseboneConstraintType']=L['BaseboneConstraintType']['NONE'],this['baseboneConstraintUV']=new q['V2'](),this['baseboneRelativeConstraintUV']=new q['V2'](),this['lastTargetLocation']=new q['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['lastBaseLocation']=new q['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['boneConnectionPoint']=L['ConnectionType']['END'],this['currentSolveDistance']=L['MAX_VALUE'],this['connectedChainNumber']=-0x1,this['connectedBoneNumber']=-0x1,this['embeddedTarget']=new q['V2'](),this['useEmbeddedTarget']=!0x1;}return _0x1bd749['prototype']['clone']=function(){var _0x2a51b0=new _0x1bd749();return _0x2a51b0['solveDistanceThreshold']=this['solveDistanceThreshold'],_0x2a51b0['minIterationChange']=this['minIterationChange'],_0x2a51b0['maxIteration']=this['maxIteration'],_0x2a51b0['precision']=this['precision'],_0x2a51b0['bones']=this['cloneBones'](),_0x2a51b0['baseLocation']['copy'](this['baseLocation']),_0x2a51b0['lastTargetLocation']['copy'](this['lastTargetLocation']),_0x2a51b0['lastBaseLocation']['copy'](this['lastBaseLocation']),this['baseboneConstraintType']!==L['BaseboneConstraintType']['NONE']&&(_0x2a51b0['baseboneConstraintUV']['copy'](this['baseboneConstraintUV']),_0x2a51b0['baseboneRelativeConstraintUV']['copy'](this['baseboneRelativeConstraintUV'])),_0x2a51b0['fixedBaseMode']=this['fixedBaseMode'],_0x2a51b0['chainLength']=this['chainLength'],_0x2a51b0['numBones']=this['numBones'],_0x2a51b0['currentSolveDistance']=this['currentSolveDistance'],_0x2a51b0['boneConnectionPoint']=this['boneConnectionPoint'],_0x2a51b0['connectedChainNumber']=this['connectedChainNumber'],_0x2a51b0['connectedBoneNumber']=this['connectedBoneNumber'],_0x2a51b0['baseboneConstraintType']=this['baseboneConstraintType'],_0x2a51b0['embeddedTarget']=this['embeddedTarget']['clone'](),_0x2a51b0['useEmbeddedTarget']=this['useEmbeddedTarget'],_0x2a51b0;},_0x1bd749['prototype']['clear']=function(){for(var _0x3c74b4=this['numBones'];_0x3c74b4--;)this['removeBone'](_0x3c74b4);},_0x1bd749['prototype']['addBone']=function(_0x19cb5d){this['bones']['push'](_0x19cb5d),this['numBones']===0x0&&(this['baseLocation']['copy'](_0x19cb5d['start']),this['baseboneConstraintUV']['copy'](_0x19cb5d['getDirectionUV']())),this['numBones']++,this['updateChainLength']();},_0x1bd749['prototype']['removeBone']=function(_0x33ecc8){_0x33ecc8<this['numBones']&&(this['bones']['splice'](_0x33ecc8,0x1),this['numBones']--,this['updateChainLength']());},_0x1bd749['prototype']['addConsecutiveBone']=function(_0x5ab243,_0x34538a,_0x2328e4,_0x3ed146){if(this['numBones']===0x0){Pi['Tools']['error']('Chain\x20is\x20empty\x20!\x20need\x20first\x20bone');return;}if(_0x5ab243 instanceof _t['Bone2D']){var _0x11c293=_0x5ab243,_0x24c511=_0x11c293['getDirectionUV']();ht['_Math']['validateDirectionUV'](_0x24c511);var _0x1fa893=_0x11c293['length'];ht['_Math']['validateLength'](_0x1fa893);var _0x36422c=this['bones'][this['numBones']-0x1]['end'];_0x11c293['setStartLocation'](_0x36422c),_0x11c293['setEndLocation'](_0x36422c['plus'](_0x24c511['multiplyScalar'](_0x1fa893))),this['addBone'](_0x11c293);}else if(_0x5ab243 instanceof q['V2']){ht['_Math']['validateDirectionUV'](_0x5ab243),ht['_Math']['validateLength'](_0x34538a);var _0x36422c=this['bones'][this['numBones']-0x1]['end'];this['addBone'](new _t['Bone2D'](_0x36422c,void 0x0,_0x5ab243['normalised'](),_0x34538a,_0x2328e4,_0x3ed146));}},_0x1bd749['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x1bd749['prototype']['getConnectedBoneNumber']=function(){return this['connectedBoneNumber'];},_0x1bd749['prototype']['getConnectedChainNumber']=function(){return this['connectedChainNumber'];},_0x1bd749['prototype']['getEmbeddedTarget']=function(){return this['embeddedTarget'];},_0x1bd749['prototype']['getBaseboneConstraintType']=function(){return this['baseboneConstraintType'];},_0x1bd749['prototype']['getBaseboneConstraintUV']=function(){if(this['baseboneConstraintType']!==L['BaseboneConstraintType']['NONE'])return this['baseboneConstraintUV'];},_0x1bd749['prototype']['getBaseLocation']=function(){return this['bones'][0x0]['start'];},_0x1bd749['prototype']['getEffectorLocation']=function(){return this['bones'][this['numBones']-0x1]['end'];},_0x1bd749['prototype']['getLastTargetLocation']=function(){return this['lastTargetLocation'];},_0x1bd749['prototype']['getLiveChainLength']=function(){for(var _0x5912d7=0x0,_0x337e06=this['numBones'];_0x337e06--;)_0x5912d7+=this['bones'][_0x337e06]['getLength']();return _0x5912d7;},_0x1bd749['prototype']['setBaseboneRelativeConstraintUV']=function(_0x33e23b){_0x33e23b&&(this['baseboneRelativeConstraintUV']=_0x33e23b);},_0x1bd749['prototype']['setConnectedBoneNumber']=function(_0x3096a2){this['connectedBoneNumber']=_0x3096a2;},_0x1bd749['prototype']['setConnectedChainNumber']=function(_0x257dd8){this['connectedChainNumber']=_0x257dd8;},_0x1bd749['prototype']['setBoneConnectionPoint']=function(_0x518cdc){this['boneConnectionPoint']=_0x518cdc;},_0x1bd749['prototype']['setBaseboneConstraintUV']=function(_0x3286f3){ht['_Math']['validateDirectionUV'](_0x3286f3),this['baseboneConstraintUV']['copy'](_0x3286f3['normalised']());},_0x1bd749['prototype']['setBaseLocation']=function(_0x4100bd){this['baseLocation']['copy'](_0x4100bd);},_0x1bd749['prototype']['setBaseboneConstraintType']=function(_0x404065){this['baseboneConstraintType']=_0x404065;},_0x1bd749['prototype']['setFixedBaseMode']=function(_0xa278f){!_0xa278f&&this['connectedChainNumber']!==-0x1||this['baseboneConstraintType']===L['BaseboneConstraintType']['GLOBAL_ABSOLUTE']&&!_0xa278f||(this['fixedBaseMode']=_0xa278f);},_0x1bd749['prototype']['setMaxIterationAttempts']=function(_0x10fad4){_0x10fad4<0x1||(this['maxIteration']=_0x10fad4);},_0x1bd749['prototype']['setMinIterationChange']=function(_0x39d9ce){_0x39d9ce<0x0||(this['minIterationChange']=_0x39d9ce);},_0x1bd749['prototype']['setSolveDistanceThreshold']=function(_0x1a3637){_0x1a3637<0x0||(this['solveDistanceThreshold']=_0x1a3637);},_0x1bd749['prototype']['solveForEmbeddedTarget']=function(){if(this['useEmbeddedTarget'])return this['solveForTarget'](this['embeddedTarget']);},_0x1bd749['prototype']['resetTarget']=function(){this['lastBaseLocation']=new q['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['currentSolveDistance']=L['MAX_VALUE'];},_0x1bd749['prototype']['solveForTarget']=function(_0x597767){this['tmpTarget']['set'](_0x597767['x'],_0x597767['y']);var _0x1da877=this['precision'],_0x12c142=this['lastBaseLocation']['approximatelyEquals'](this['baseLocation'],_0x1da877);if(this['lastTargetLocation']['approximatelyEquals'](this['tmpTarget'],_0x1da877)&&_0x12c142)return this['currentSolveDistance'];var _0x41359c,_0x401849=null;_0x12c142?(_0x41359c=this['bones'][this['numBones']-0x1]['end']['distanceTo'](this['tmpTarget']),_0x401849=this['cloneBones']()):_0x41359c=L['MAX_VALUE'];for(var _0xcd1fad=[],_0x5c30e2=L['MAX_VALUE'],_0xf6fe1a=L['MAX_VALUE'],_0x40284e,_0x3ada3b=this['maxIteration'];_0x3ada3b--;){if(_0x40284e=this['solveIK'](this['tmpTarget']),_0x40284e!==void 0x0&&_0x40284e<_0x5c30e2){if(_0x5c30e2=_0x40284e,_0xcd1fad=this['cloneBones'](),_0x40284e<=this['solveDistanceThreshold'])break;}else if(_0x40284e===void 0x0||Math['abs'](_0x40284e-_0xf6fe1a)<this['minIterationChange'])break;_0xf6fe1a=_0x40284e;}return _0x5c30e2<_0x41359c?(this['currentSolveDistance']=_0x5c30e2,this['bones']=_0xcd1fad):(this['currentSolveDistance']=_0x41359c,this['bones']=_0x401849||this['bones']),this['lastBaseLocation']['copy'](this['baseLocation']),this['lastTargetLocation']['copy'](this['tmpTarget']),this['currentSolveDistance'];},_0x1bd749['prototype']['solveIK']=function(_0x373f0f){if(this['numBones']!==0x0){for(var _0x3ea1c3,_0x1620d3,_0x4d1d21,_0x26a4b6,_0x127e35,_0x272ae4,_0x33065d,_0x11582a=this['numBones'];_0x11582a--;)_0x3ea1c3=this['bones'][_0x11582a],_0x1620d3=_0x3ea1c3['length'],_0x11582a!==this['numBones']-0x1?(_0x4d1d21=this['bones'][_0x11582a+0x1],_0x272ae4=_0x3ea1c3['getDirectionUV']()['negate'](),_0x33065d=_0x3ea1c3['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?_0x4d1d21['getDirectionUV']()['negate']():_0x3ea1c3['getGlobalConstraintUV']()['negated'](),_0x272ae4['constrainedUV'](_0x33065d,_0x4d1d21['joint']['min'],_0x4d1d21['joint']['max']),_0x26a4b6=_0x3ea1c3['end']['plus'](_0x272ae4['multiplyScalar'](_0x1620d3)),_0x3ea1c3['setStartLocation'](_0x26a4b6),_0x11582a>0x0&&this['bones'][_0x11582a-0x1]['setEndLocation'](_0x26a4b6)):(_0x3ea1c3['setEndLocation'](_0x373f0f),_0x272ae4=_0x3ea1c3['getDirectionUV']()['negate'](),_0x11582a>0x0?(_0x33065d=_0x3ea1c3['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?this['bones'][_0x11582a-0x1]['getDirectionUV']()['negate']():_0x3ea1c3['getGlobalConstraintUV']()['negated'](),_0x272ae4['constrainedUV'](_0x33065d,_0x3ea1c3['joint']['min'],_0x3ea1c3['joint']['max'])):_0x3ea1c3['joint']['coordinateSystem']!==L['JointType']['J_LOCAL']&&(_0x33065d=_0x3ea1c3['getGlobalConstraintUV']()['negated'](),_0x272ae4['constrainedUV'](_0x33065d,_0x3ea1c3['joint']['min'],_0x3ea1c3['joint']['max'])),_0x26a4b6=_0x3ea1c3['end']['plus'](_0x272ae4['multiplyScalar'](_0x1620d3)),_0x3ea1c3['setStartLocation'](_0x26a4b6),_0x11582a>0x0&&this['bones'][_0x11582a-0x1]['setEndLocation'](_0x26a4b6));for(_0x11582a=0x0;_0x11582a<this['numBones'];_0x11582a++)_0x3ea1c3=this['bones'][_0x11582a],_0x1620d3=_0x3ea1c3['length'],_0x11582a!==0x0?(_0x272ae4=_0x3ea1c3['getDirectionUV'](),_0x33065d=_0x3ea1c3['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?this['bones'][_0x11582a-0x1]['getDirectionUV']():_0x3ea1c3['getGlobalConstraintUV'](),_0x272ae4['constrainedUV'](_0x33065d,_0x3ea1c3['joint']['min'],_0x3ea1c3['joint']['max']),_0x127e35=_0x3ea1c3['start']['plus'](_0x272ae4['multiplyScalar'](_0x1620d3)),_0x3ea1c3['setEndLocation'](_0x127e35),_0x11582a<this['numBones']-0x1&&this['bones'][_0x11582a+0x1]['setStartLocation'](_0x127e35)):(this['fixedBaseMode']?_0x3ea1c3['setStartLocation'](this['baseLocation']):(_0x26a4b6=_0x3ea1c3['end']['minus'](_0x3ea1c3['getDirectionUV']()['multiplyScalar'](_0x1620d3)),_0x3ea1c3['setStartLocation'](_0x26a4b6)),_0x272ae4=_0x3ea1c3['getDirectionUV'](),this['baseboneConstraintType']===L['BaseboneConstraintType']['NONE']?(_0x127e35=_0x3ea1c3['start']['plus'](_0x272ae4['multiplyScalar'](_0x1620d3)),_0x3ea1c3['setEndLocation'](_0x127e35),this['numBones']>0x1&&this['bones'][0x1]['setStartLocation'](_0x127e35)):(_0x33065d=this['baseboneConstraintType']===L['BaseboneConstraintType']['LOCAL_ABSOLUTE']?this['baseboneRelativeConstraintUV']:this['baseboneConstraintUV'],_0x272ae4['constrainedUV'](_0x33065d,_0x3ea1c3['joint']['min'],_0x3ea1c3['joint']['max']),_0x127e35=_0x3ea1c3['start']['plus'](_0x272ae4['multiplyScalar'](_0x1620d3)),_0x3ea1c3['setEndLocation'](_0x127e35),_0x11582a<this['numBones']-0x1&&this['bones'][_0x11582a+0x1]['setStartLocation'](_0x127e35)));return this['lastTargetLocation']['copy'](_0x373f0f),this['bones'][this['numBones']-0x1]['end']['distanceTo'](_0x373f0f);}},_0x1bd749['prototype']['updateChainLength']=function(){this['chainLength']=0x0;for(var _0x3e7a0f=this['numBones'];_0x3e7a0f--;)this['chainLength']+=this['bones'][_0x3e7a0f]['length'];},_0x1bd749['prototype']['cloneBones']=function(){for(var _0x473985=[],_0x502f02=0x0,_0xb1602f=this['bones']['length'];_0x502f02<_0xb1602f;_0x502f02++)_0x473985['push'](this['bones'][_0x502f02]['clone']());return _0x473985;},_0x1bd749['isChain2D']=!0x0,_0x1bd749;}());Et['Chain2D']=Fi;var zt={};Object['defineProperty'](zt,'__esModule',{'value':!0x0});zt['Structure2D']=void 0x0;var it=J,jt=et,Vi=(function(){function _0x2289fc(){this['fixedBaseMode']=!0x0,this['chains']=[],this['targets']=[],this['numChains']=0x0;}return _0x2289fc['prototype']['update']=function(){for(var _0x30d31c,_0x5e4a2a,_0x35f48b,_0x505d38,_0x424a96,_0x48bd0e=0x0;_0x48bd0e<this['numChains'];_0x48bd0e++){if(_0x5e4a2a=this['chains'][_0x48bd0e],_0x35f48b=this['targets'][_0x48bd0e]||null,_0x505d38=_0x5e4a2a['getConnectedChainNumber'](),_0x424a96=_0x5e4a2a['getBaseboneConstraintType'](),_0x505d38!==-0x1&&_0x424a96!==it['BaseboneConstraintType']['GLOBAL_ABSOLUTE']){var _0x2f2f02=this['chains'][_0x505d38]['bones'][_0x5e4a2a['getConnectedBoneNumber']()];_0x5e4a2a['setBaseLocation'](_0x5e4a2a['getBoneConnectionPoint']()===it['ConnectionType']['START']?_0x2f2f02['start']:_0x2f2f02['end']);var _0x3b1b1b=_0x2f2f02['getDirectionUV']();if(_0x424a96===it['BaseboneConstraintType']['LOCAL_RELATIVE'])_0x5e4a2a['setBaseboneConstraintUV'](_0x3b1b1b);else if(_0x424a96===it['BaseboneConstraintType']['LOCAL_ABSOLUTE']){var _0x45f65c=it['UP']['getSignedAngle'](_0x3b1b1b),_0x3a1f79=(_0x30d31c=_0x5e4a2a['getBaseboneConstraintUV']())===null||_0x30d31c===void 0x0?void 0x0:_0x30d31c['clone']()['rotate'](_0x45f65c);_0x5e4a2a['setBaseboneRelativeConstraintUV'](_0x3a1f79);}}_0x5e4a2a['useEmbeddedTarget']?console['log']('embed',_0x5e4a2a['solveForEmbeddedTarget']()):_0x5e4a2a['solveForTarget'](_0x35f48b);}},_0x2289fc['prototype']['setFixedBaseMode']=function(_0x27a21c){this['fixedBaseMode']=_0x27a21c;for(var _0x1bef7e=this['numChains'],_0x3b50a7;_0x1bef7e--;)_0x3b50a7=this['chains'][_0x1bef7e]['getConnectedChainNumber'](),_0x3b50a7===-0x1&&this['chains'][_0x1bef7e]['setFixedBaseMode'](this['fixedBaseMode']);},_0x2289fc['prototype']['clear']=function(){var _0x3d8a53;for(_0x3d8a53=this['numChains'];_0x3d8a53--;)this['remove'](_0x3d8a53);this['chains']=[],this['targets']=[];},_0x2289fc['prototype']['add']=function(_0x5dda93,_0x2902c3){this['chains']['push'](_0x5dda93),this['numChains']++,_0x2902c3&&this['targets']['push'](_0x2902c3);},_0x2289fc['prototype']['remove']=function(_0x275dc6){this['chains'][_0x275dc6]['clear'](),this['chains']['splice'](_0x275dc6,0x1),this['targets']['splice'](_0x275dc6,0x1),this['numChains']--;},_0x2289fc['prototype']['getNumChains']=function(){return this['numChains'];},_0x2289fc['prototype']['getChain']=function(_0x1d9ba3){return this['chains'][_0x1d9ba3];},_0x2289fc['prototype']['connectChain']=function(_0x1fa69c,_0xe0d0b8,_0xe90d55,_0xf37155){var _0xddc513=_0xe0d0b8,_0x2b5c75=_0xe90d55;if(_0xf37155=_0xf37155||'end',_0xddc513>this['numChains']){jt['Tools']['error']('Chain\x20does\x20not\x20exist!');return;}if(_0x2b5c75>this['chains'][_0xddc513]['numBones']){jt['Tools']['error']('Bone\x20does\x20not\x20exist!');return;}var _0x3b17a1=_0x1fa69c['clone']();_0x3b17a1['setBoneConnectionPoint'](_0xf37155==='end'?it['ConnectionType']['END']:it['ConnectionType']['START']),_0x3b17a1['setConnectedChainNumber'](_0xddc513),_0x3b17a1['setConnectedBoneNumber'](_0x2b5c75);var _0x450ceb=_0xf37155==='end'?this['chains'][_0xddc513]['bones'][_0x2b5c75]['end']:this['chains'][_0xddc513]['bones'][_0x2b5c75]['start'];_0x3b17a1['setBaseLocation'](_0x450ceb),_0x3b17a1['setFixedBaseMode'](!0x0);for(var _0x551a45=0x0;_0x551a45<_0x3b17a1['numBones'];_0x551a45++)_0x3b17a1['bones'][_0x551a45]['start']['add'](_0x450ceb),_0x3b17a1['bones'][_0x551a45]['end']['add'](_0x450ceb);},_0x2289fc['isStructure2D']=!0x0,_0x2289fc;}());zt['Structure2D']=Vi;(function(_0x38b31e){var _0x1e211b=At&&At['__createBinding']||(Object['create']?function(_0x57b133,_0x4f16ae,_0x2ad892,_0xb94da5){_0xb94da5===void 0x0&&(_0xb94da5=_0x2ad892);var _0xe55e1e=Object['getOwnPropertyDescriptor'](_0x4f16ae,_0x2ad892);(!_0xe55e1e||('get'in _0xe55e1e?!_0x4f16ae['__esModule']:_0xe55e1e['writable']||_0xe55e1e['configurable']))&&(_0xe55e1e={'enumerable':!0x0,'get':function(){return _0x4f16ae[_0x2ad892];}}),Object['defineProperty'](_0x57b133,_0xb94da5,_0xe55e1e);}:function(_0x17ef8a,_0x2f5b58,_0xcbfc96,_0x1fdede){_0x1fdede===void 0x0&&(_0x1fdede=_0xcbfc96),_0x17ef8a[_0x1fdede]=_0x2f5b58[_0xcbfc96];}),_0x3403ea=At&&At['__exportStar']||function(_0x5e6865,_0x3ef093){for(var _0xda3aac in _0x5e6865)_0xda3aac!=='default'&&!Object['prototype']['hasOwnProperty']['call'](_0x3ef093,_0xda3aac)&&_0x1e211b(_0x3ef093,_0x5e6865,_0xda3aac);};Object['defineProperty'](_0x38b31e,'__esModule',{'value':!0x0}),_0x38b31e['Structure2D']=_0x38b31e['Chain2D']=_0x38b31e['Bone2D']=_0x38b31e['Joint2D']=_0x38b31e['Structure3D']=_0x38b31e['Chain3D']=_0x38b31e['Bone3D']=_0x38b31e['Joint3D']=_0x38b31e['M3']=_0x38b31e['V3']=_0x38b31e['V2']=_0x38b31e['_Math']=void 0x0;var _0x39e0ae=Ut;Object['defineProperty'](_0x38b31e,'_Math',{'enumerable':!0x0,'get':function(){return _0x39e0ae['_Math'];}});var _0x156873=st;Object['defineProperty'](_0x38b31e,'V2',{'enumerable':!0x0,'get':function(){return _0x156873['V2'];}});var _0x24bb2b=W;Object['defineProperty'](_0x38b31e,'V3',{'enumerable':!0x0,'get':function(){return _0x24bb2b['V3'];}});var _0x5584b4=at;Object['defineProperty'](_0x38b31e,'M3',{'enumerable':!0x0,'get':function(){return _0x5584b4['M3'];}});var _0x2e1783=ct;Object['defineProperty'](_0x38b31e,'Joint3D',{'enumerable':!0x0,'get':function(){return _0x2e1783['Joint3D'];}});var _0x1cbcfe=mt;Object['defineProperty'](_0x38b31e,'Bone3D',{'enumerable':!0x0,'get':function(){return _0x1cbcfe['Bone3D'];}});var _0x5cf562=Rt;Object['defineProperty'](_0x38b31e,'Chain3D',{'enumerable':!0x0,'get':function(){return _0x5cf562['Chain3D'];}});var _0x228329=Lt;Object['defineProperty'](_0x38b31e,'Structure3D',{'enumerable':!0x0,'get':function(){return _0x228329['Structure3D'];}});var _0x44b870=ft;Object['defineProperty'](_0x38b31e,'Joint2D',{'enumerable':!0x0,'get':function(){return _0x44b870['Joint2D'];}});var _0x16ae54=dt;Object['defineProperty'](_0x38b31e,'Bone2D',{'enumerable':!0x0,'get':function(){return _0x16ae54['Bone2D'];}});var _0x1b6c1b=Et;Object['defineProperty'](_0x38b31e,'Chain2D',{'enumerable':!0x0,'get':function(){return _0x1b6c1b['Chain2D'];}});var _0xb8a8c6=zt;Object['defineProperty'](_0x38b31e,'Structure2D',{'enumerable':!0x0,'get':function(){return _0xb8a8c6['Structure2D'];}}),_0x3403ea(J,_0x38b31e);}(Q));class H extends G{constructor(_0x10b827){super();o(this,'name');o(this,'boneLength');o(this,'boneId');if(this['name']=_0x10b827,this['boneId']=-0x1,this['name']=='root'){this['boneLength']=0.05;const _0x533098=new H('upperArm');_0x533098['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x533098);}else if(this['name']=='upperArm'){this['boneLength']=0.5,this['rotation']=D['makeRotationY'](X['degreesToRadians'](-0x2d));const _0x445ea8=new H('middleArm');_0x445ea8['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x445ea8);}else if(this['name']=='middleArm'){this['boneLength']=0.4,this['rotation']=D['makeRotationZ'](X['degreesToRadians'](0x2d));const _0x46304b=new H('lowerArm');_0x46304b['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x46304b);}else if(this['name']=='lowerArm'){this['boneLength']=0.4,this['rotation']=D['makeRotationZ'](X['degreesToRadians'](0x2d));const _0x4d02c7=new H('endEffector');_0x4d02c7['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x4d02c7);}else this['name']=='endEffector'?this['boneLength']=0.1:this['boneLength']=0x0;}['createMeshes'](){if(this['name']=='root'){const _0x343edf=new K(0.5,this['boneLength'],0.5);_0x343edf['translateY'](this['boneLength']/0x2),this['add'](_0x343edf);const _0x3f7b0b=new yt(0.1,0x2);_0x3f7b0b['scale']['set'](0x1,0.5,0x1),_0x3f7b0b['translateY'](this['boneLength']),this['add'](_0x3f7b0b);}else if(this['name']=='upperArm'){const _0x32fe1e=new K(0.05,this['boneLength'],0.05);_0x32fe1e['translateY'](this['boneLength']/0x2),this['add'](_0x32fe1e);const _0x5c2fd2=new yt(0.05,0x1);_0x5c2fd2['translateY'](this['boneLength']),this['add'](_0x5c2fd2);}else if(this['name']=='middleArm'){const _0x5b41f8=new K(0.05,this['boneLength'],0.05);_0x5b41f8['translateY'](this['boneLength']/0x2),this['add'](_0x5b41f8);const _0x5373df=new yt(0.05,0x1);_0x5373df['translateY'](this['boneLength']),this['add'](_0x5373df);}else if(this['name']=='lowerArm'){const _0x36153d=new K(0.05,this['boneLength'],0.05);_0x36153d['translateY'](this['boneLength']/0x2),this['add'](_0x36153d);const _0xdf533a=new yt(0.05,0x1);_0xdf533a['translateY'](this['boneLength']),this['add'](_0xdf533a);}else if(this['name']=='endEffector'){const _0x446d05=new K(0.025,this['boneLength'],0.025),_0x5eac2d=new pt(_0x446d05);_0x5eac2d['rotateY'](X['degreesToRadians'](0x5a)),_0x5eac2d['rotateZ'](X['degreesToRadians'](0x2d)),_0x5eac2d['translateY'](this['boneLength']/0x2+0.03),this['add'](_0x5eac2d);const _0x128610=new pt(_0x446d05);_0x128610['translateY'](this['boneLength']/0x2-0.01),_0x128610['rotateZ'](X['degreesToRadians'](-0x4b)),_0x128610['translateY'](this['boneLength']/0x2-0.01),_0x5eac2d['add'](_0x128610);const _0x1ffc12=new pt(_0x446d05);_0x1ffc12['rotateY'](X['degreesToRadians'](0x5a)),_0x1ffc12['rotateZ'](X['degreesToRadians'](-0x2d)),_0x1ffc12['translateY'](this['boneLength']/0x2+0.03),this['add'](_0x1ffc12);const _0x4bd1a2=new pt(_0x446d05);_0x4bd1a2['translateY'](this['boneLength']/0x2-0.01),_0x4bd1a2['rotateZ'](X['degreesToRadians'](0x4b)),_0x4bd1a2['translateY'](this['boneLength']/0x2-0.01),_0x1ffc12['add'](_0x4bd1a2);}this['children']['forEach'](_0x43412d=>{_0x43412d instanceof H&&_0x43412d['createMeshes']();});}['setPose'](_0x4e79e8,_0x97a295){this['name']==_0x4e79e8?this['rotation']['copy'](_0x97a295):this['children']['forEach'](_0x23605f=>{_0x23605f instanceof H&&_0x23605f['setPose'](_0x4e79e8,_0x97a295);});}['createChain'](_0xa5e699){if(this['name']=='upperArm'){const _0x347b95=new Q['Bone3D'](new Q['V3'](this['position']['x'],this['position']['y'],this['position']['z']),void 0x0,new Q['V3'](0x0,0x1,0x0),this['boneLength']);_0xa5e699['addBone'](_0x347b95),this['boneId']=0x0;}else this['name']!='root'&&(_0xa5e699['addConsecutiveBone'](new Q['V3'](0x0,0x1,0x0),this['boneLength']),this['boneId']=_0xa5e699['bones']['length']-0x1);this['children']['forEach'](_0x471649=>{_0x471649 instanceof H&&_0x471649['createChain'](_0xa5e699);});}['update'](_0x14eeb1){this['children']['forEach'](_0x37bf20=>{_0x37bf20 instanceof H&&_0x37bf20['update'](_0x14eeb1);});}}class Oi extends G{constructor(){super();o(this,'root');o(this,'ikSolver');o(this,'ikChain');this['root']=new H('root'),this['add'](this['root']),this['ikChain']=new Q['Chain3D'](),this['root']['createChain'](this['ikChain']),this['ikSolver']=new Q['Structure3D'](),this['ikSolver']['add'](this['ikChain'],new Q['V3']());}['createMeshes'](){this['root']['createMeshes']();}['setPose'](_0x1777cf,_0x18c216){this['root']['setPose'](_0x1777cf,_0x18c216);}['update'](_0x1945a9){this['ikSolver']['targets'][0x0]['set'](_0x1945a9['x'],_0x1945a9['y'],_0x1945a9['z']),this['ikSolver']['update'](),this['root']['update'](this['ikChain']);}}class Ni extends S{constructor(){super();o(this,'cameraControls');o(this,'target');o(this,'robot');this['cameraControls']=new li(this['camera']),this['target']=new ui(0.2,0.01,0.025),this['robot']=new Oi();}['createScene'](){this['camera']['setPerspectiveCamera'](0x3c,0x780/0x438,0.1,0x14),this['cameraControls']['setTargetPoint'](new m(0x0,0.6,0x0)),this['cameraControls']['setDistance'](1.5),this['renderer']['background']['set'](0x0,0x0,0x0);const _0x3ceb1=new ci(new m(0.3,0.3,0.3));this['scene']['add'](_0x3ceb1);const _0x5b655a=new mi(new m(0.6,0.6,0.6));_0x5b655a['position']['set'](0x2,0x1,0x3),this['scene']['add'](_0x5b655a);const _0x1f50bd=0xa,_0x209ba2=[];for(let _0x1ab068=-_0x1f50bd/0x2;_0x1ab068<=_0x1f50bd/0x2;_0x1ab068++)_0x209ba2['push'](-_0x1f50bd/0x2,0x0,_0x1ab068),_0x209ba2['push'](_0x1f50bd/0x2,0x0,_0x1ab068),_0x209ba2['push'](_0x1ab068,0x0,-_0x1f50bd/0x2),_0x209ba2['push'](_0x1ab068,0x0,_0x1f50bd/0x2);const _0x31a17d=new Ht(Vt['LINES']);_0x31a17d['setVertices'](_0x209ba2),_0x31a17d['createDefaultVertexColors'](),_0x31a17d['material']['color']['set'](0.5,0.5,0.5),this['scene']['add'](_0x31a17d),this['robot']['createMeshes'](),this['scene']['add'](this['robot']),this['target']['position']['set'](0.5,0.6,-0.5),this['scene']['add'](this['target']);}['update'](_0x23729c){this['target']['update'](_0x23729c),this['target']['isSelected']()?this['cameraControls']['freeze']():this['cameraControls']['update'](_0x23729c),this['robot']['update'](this['target']['position']);}}const Yi=new Ni();Yi['start']();