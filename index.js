var Wt=Object['defineProperty'];var Jt=(_0x5dddc9,_0x591122,_0x511ecd)=>_0x591122 in _0x5dddc9?Wt(_0x5dddc9,_0x591122,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':_0x511ecd}):_0x5dddc9[_0x591122]=_0x511ecd;var o=(_0x450909,_0x9a3810,_0x2e97a3)=>(Jt(_0x450909,typeof _0x9a3810!='symbol'?_0x9a3810+'':_0x9a3810,_0x2e97a3),_0x2e97a3);(function(){const _0x362d8d=document['createElement']('link')['relList'];if(_0x362d8d&&_0x362d8d['supports']&&_0x362d8d['supports']('modulepreload'))return;for(const _0x965fb2 of document['querySelectorAll']('link[rel=\x22modulepreload\x22]'))_0x487ba4(_0x965fb2);new MutationObserver(_0x4fd1e0=>{for(const _0x19f8b4 of _0x4fd1e0)if(_0x19f8b4['type']==='childList')for(const _0x1d4d87 of _0x19f8b4['addedNodes'])_0x1d4d87['tagName']==='LINK'&&_0x1d4d87['rel']==='modulepreload'&&_0x487ba4(_0x1d4d87);})['observe'](document,{'childList':!0x0,'subtree':!0x0});function _0x3fe7(_0x3d518d){const _0x125413={};return _0x3d518d['integrity']&&(_0x125413['integrity']=_0x3d518d['integrity']),_0x3d518d['referrerpolicy']&&(_0x125413['referrerPolicy']=_0x3d518d['referrerpolicy']),_0x3d518d['crossorigin']==='use-credentials'?_0x125413['credentials']='include':_0x3d518d['crossorigin']==='anonymous'?_0x125413['credentials']='omit':_0x125413['credentials']='same-origin',_0x125413;}function _0x487ba4(_0x5f12f5){if(_0x5f12f5['ep'])return;_0x5f12f5['ep']=!0x0;const _0x12e5da=_0x3fe7(_0x5f12f5);fetch(_0x5f12f5['href'],_0x12e5da);}}());const z=class{constructor(_0x2f8247=0x0,_0x21c725=0x0,_0x4d0d23=0x0,_0x108851=0x1){o(this,'r');o(this,'g');o(this,'b');o(this,'a');this['r']=_0x2f8247,this['g']=_0x21c725,this['b']=_0x4d0d23,this['a']=_0x108851;}static['copy'](_0x9684d){const _0x48f6ee=new z();return _0x48f6ee['r']=_0x9684d['r'],_0x48f6ee['g']=_0x9684d['g'],_0x48f6ee['b']=_0x9684d['b'],_0x48f6ee['a']=_0x9684d['a'],_0x48f6ee;}static['lerp'](_0x1129fb,_0x461b65,_0x3f1040){return new z(_0x1129fb['r']*(0x1-_0x3f1040)+_0x461b65['r']*_0x3f1040,_0x1129fb['g']*(0x1-_0x3f1040)+_0x461b65['g']*_0x3f1040,_0x1129fb['b']*(0x1-_0x3f1040)+_0x461b65['b']*_0x3f1040,_0x1129fb['a']*(0x1-_0x3f1040)+_0x461b65['a']*_0x3f1040);}static['add'](_0x92733b,_0x39505d){return new z(_0x92733b['r']+_0x39505d['r'],_0x92733b['g']+_0x39505d['g'],_0x92733b['b']+_0x39505d['b']);}static['subtract'](_0x51ea60,_0x3bac05){return new z(_0x51ea60['r']-_0x3bac05['r'],_0x51ea60['g']-_0x3bac05['g'],_0x51ea60['b']-_0x3bac05['b']);}static['multiply'](_0x44d1dc,_0x317b90){return new z(_0x44d1dc['r']*_0x317b90['r'],_0x44d1dc['g']*_0x317b90['g'],_0x44d1dc['b']*_0x317b90['b']);}static['divide'](_0x30eaea,_0x1a323b){return new z(_0x30eaea['r']/_0x1a323b['r'],_0x30eaea['g']/_0x1a323b['g'],_0x30eaea['b']/_0x1a323b['b']);}static['multiplyScalar'](_0x508e41,_0x25bb3d){return new z(_0x508e41['r']*_0x25bb3d,_0x508e41['g']*_0x25bb3d,_0x508e41['b']*_0x25bb3d);}static['divideScalar'](_0x5af9a8,_0x5861dd){return new z(_0x5af9a8['r']/_0x5861dd,_0x5af9a8['g']/_0x5861dd,_0x5af9a8['b']/_0x5861dd);}['set'](_0x54aa14=0x0,_0x61de41=0x0,_0x588785=0x0,_0x21dda3=0x1){this['r']=_0x54aa14,this['g']=_0x61de41,this['b']=_0x588785,this['a']=_0x21dda3;}['copy'](_0x5a5fe8){this['r']=_0x5a5fe8['r'],this['g']=_0x5a5fe8['g'],this['b']=_0x5a5fe8['b'],this['a']=_0x5a5fe8['a'];}['clone'](){return new z(this['r'],this['g'],this['b'],this['a']);}['lerp'](_0x4c1d9b,_0x5281f5,_0x54052b){this['r']=_0x4c1d9b['r']*(0x1-_0x54052b)+_0x5281f5['r']*_0x54052b,this['g']=_0x4c1d9b['g']*(0x1-_0x54052b)+_0x5281f5['g']*_0x54052b,this['b']=_0x4c1d9b['b']*(0x1-_0x54052b)+_0x5281f5['b']*_0x54052b,this['a']=_0x4c1d9b['b']*(0x1-_0x54052b)+_0x5281f5['a']*_0x54052b;}['add'](_0x146da5){this['r']+=_0x146da5['r'],this['g']+=_0x146da5['g'],this['b']+=_0x146da5['b'];}['subtract'](_0x2e5af8){this['r']-=_0x2e5af8['r'],this['g']-=_0x2e5af8['g'],this['b']-=_0x2e5af8['b'];}['multiply'](_0x132af7){this['r']*=_0x132af7['r'],this['g']*=_0x132af7['g'],this['b']*=_0x132af7['b'];}['divide'](_0x403ce1){this['r']/=_0x403ce1['r'],this['g']/=_0x403ce1['g'],this['b']/=_0x403ce1['b'];}['multiplyScalar'](_0x139e5f){this['r']*=_0x139e5f,this['g']*=_0x139e5f,this['b']*=_0x139e5f;}['divideScalar'](_0x427897){this['r']/=_0x427897,this['g']/=_0x427897,this['b']/=_0x427897;}};let M=z;o(M,'WHITE',new z(0x1,0x1,0x1)),o(M,'BLACK',new z(0x0,0x0,0x0)),o(M,'RED',new z(0x1,0x0,0x0)),o(M,'GREEN',new z(0x0,0x1,0x0)),o(M,'BLUE',new z(0x0,0x0,0x1)),o(M,'YELLOW',new z(0x1,0x1,0x0)),o(M,'PURPLE',new z(0x1,0x0,0x1)),o(M,'CYAN',new z(0x0,0x1,0x1));const T=class{constructor(_0x28142c=0x0,_0x400b0a=0x0){o(this,'x');o(this,'y');this['x']=_0x28142c,this['y']=_0x400b0a;}static['copy'](_0x2adad8){return new T(_0x2adad8['x'],_0x2adad8['y']);}static['inverse'](_0x332ac3){return new T(-_0x332ac3['x'],-_0x332ac3['y']);}static['add'](_0x4e61b0,_0x57f244){return new T(_0x4e61b0['x']+_0x57f244['x'],_0x4e61b0['y']+_0x57f244['y']);}static['subtract'](_0x526222,_0x399ffb){return new T(_0x526222['x']-_0x399ffb['x'],_0x526222['y']-_0x399ffb['y']);}static['multiply'](_0x3e40cb,_0x42db9b){return new T(_0x3e40cb['x']*_0x42db9b['x'],_0x3e40cb['y']*_0x42db9b['y']);}static['divide'](_0x125ee2,_0x32bfd5){return new T(_0x125ee2['x']/_0x32bfd5['x'],_0x125ee2['y']/_0x32bfd5['y']);}static['multiplyScalar'](_0xaca0f9,_0x561365){return new T(_0xaca0f9['x']*_0x561365,_0xaca0f9['y']*_0x561365);}static['divideScalar'](_0x4aa424,_0x5baa21){return new T(_0x4aa424['x']/_0x5baa21,_0x4aa424['y']/_0x5baa21);}static['distanceBetween'](_0x25fb9a,_0x1ed3d3){return _0x25fb9a['distanceTo'](_0x1ed3d3);}static['angleBetween'](_0x18f11e,_0x451183){return _0x18f11e['angleBetween'](_0x451183);}static['angleBetweenSigned'](_0x106696,_0x3ccde5){return _0x106696['angleBetweenSigned'](_0x3ccde5);}static['dot'](_0x3ed3c0,_0x138bf6){return _0x3ed3c0['x']*_0x138bf6['x']+_0x3ed3c0['y']*_0x138bf6['y'];}static['normalize'](_0x572b2a){const _0x850f35=_0x572b2a['x']*_0x572b2a['x']+_0x572b2a['y']*_0x572b2a['y'];if(_0x850f35<1e-8)return new T();const _0x4adb3b=0x1/Math['sqrt'](_0x850f35);return new T(_0x572b2a['x']*_0x4adb3b,_0x572b2a['y']*_0x4adb3b);}static['rotate'](_0x16b5c0,_0x28a02f){return new T(Math['cos'](_0x28a02f)*_0x16b5c0['x']-Math['sin'](_0x28a02f)*_0x16b5c0['y'],Math['sin'](_0x28a02f)*_0x16b5c0['x']+Math['cos'](_0x28a02f)*_0x16b5c0['y']);}static['transform'](_0x146ed2,_0x142ff1){const _0x51721d=new T(_0x146ed2['x'],_0x146ed2['y']);return _0x51721d['transform'](_0x142ff1),_0x51721d;}static['transformVector'](_0x34b96f,_0x50f95e){const _0x2f921b=new T(_0x34b96f['x'],_0x34b96f['y']);return _0x2f921b['transformVector'](_0x50f95e),_0x2f921b;}['set'](_0x1e7612,_0x5c0267){this['x']=_0x1e7612,this['y']=_0x5c0267;}['copy'](_0x19981f){this['x']=_0x19981f['x'],this['y']=_0x19981f['y'];}['clone'](){return new T(this['x'],this['y']);}['equals'](_0x1c8568){return this['x']==_0x1c8568['x']&&this['y']==_0x1c8568['y'];}['add'](_0x3cb2ab){this['x']+=_0x3cb2ab['x'],this['y']+=_0x3cb2ab['y'];}['subtract'](_0x2fd21c){this['x']-=_0x2fd21c['x'],this['y']-=_0x2fd21c['y'];}['multiply'](_0x634f){this['x']*=_0x634f['x'],this['y']*=_0x634f['y'];}['divide'](_0x2f42fc){this['x']/=_0x2f42fc['x'],this['y']/=_0x2f42fc['y'];}['multiplyScalar'](_0x4a4f36){this['x']*=_0x4a4f36,this['y']*=_0x4a4f36;}['divideScalar'](_0x73a729){this['x']/=_0x73a729,this['y']/=_0x73a729;}['distanceTo'](_0x4c65f7){return Math['sqrt']((this['x']-_0x4c65f7['x'])*(this['x']-_0x4c65f7['x'])+(this['y']-_0x4c65f7['y'])*(this['y']-_0x4c65f7['y']));}['setPositionFromMatrix'](_0x127f24){this['x']=_0x127f24['mat'][0x6],this['y']=_0x127f24['mat'][0x7];}['setScaleFromMatrix'](_0x260225){this['x']=Math['sqrt'](_0x260225['mat'][0x0]*_0x260225['mat'][0x0]+_0x260225['mat'][0x1]*_0x260225['mat'][0x1]),this['y']=Math['sqrt'](_0x260225['mat'][0x3]*_0x260225['mat'][0x3]+_0x260225['mat'][0x4]*_0x260225['mat'][0x4]);}['transform'](_0x5447e7){const _0x3dd29b=this['clone'](),_0x41a0c3=0x1/(_0x5447e7['mat'][0x2]*_0x3dd29b['x']+_0x5447e7['mat'][0x5]*_0x3dd29b['y']+_0x5447e7['mat'][0x8]);this['x']=_0x41a0c3*(_0x5447e7['mat'][0x0]*_0x3dd29b['x']+_0x5447e7['mat'][0x3]*_0x3dd29b['y']+_0x5447e7['mat'][0x6]),this['y']=_0x41a0c3*(_0x5447e7['mat'][0x1]*_0x3dd29b['x']+_0x5447e7['mat'][0x4]*_0x3dd29b['y']+_0x5447e7['mat'][0x7]);}['transformVector'](_0x274678){const _0xfb342=this['clone'](),_0x5b0613=0x1/(_0x274678['mat'][0x2]*_0xfb342['x']+_0x274678['mat'][0x5]*_0xfb342['y']);this['x']=_0x5b0613*(_0x274678['mat'][0x0]*_0xfb342['x']+_0x274678['mat'][0x3]*_0xfb342['y']),this['y']=_0x5b0613*(_0x274678['mat'][0x1]*_0xfb342['x']+_0x274678['mat'][0x4]*_0xfb342['y']);}['dot'](_0x546e44){return this['x']*_0x546e44['x']+this['y']*_0x546e44['y'];}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['normalize'](){const _0x35081a=this['x']*this['x']+this['y']*this['y'];if(_0x35081a<1e-8)return;const _0x1f85d1=0x1/Math['sqrt'](_0x35081a);this['x']*=_0x1f85d1,this['y']*=_0x1f85d1;}['invert'](){this['x']=-this['x'],this['y']=-this['y'];}['angleBetween'](_0x57a063){const _0x34fd67=T['normalize'](this),_0x1ccfcc=T['normalize'](_0x57a063);return Math['acos'](_0x34fd67['dot'](_0x1ccfcc));}['angleBetweenSigned'](_0x16737e){const _0x1951cd=T['normalize'](this),_0x422da4=T['normalize'](_0x16737e);return Math['atan2'](_0x422da4['y'],_0x422da4['x'])-Math['atan2'](_0x1951cd['y'],_0x1951cd['x']);}['rotate'](_0x162954){const _0x210df1=this['x'],_0x3201ec=this['y'];this['x']=Math['cos'](_0x162954)*_0x210df1-Math['sin'](_0x162954)*_0x3201ec,this['y']=Math['sin'](_0x162954)*_0x210df1+Math['cos'](_0x162954)*_0x3201ec;}};let x=T;o(x,'ZERO',new T(0x0,0x0)),o(x,'ONE',new T(0x1,0x1)),o(x,'UP',new T(0x0,0x1)),o(x,'DOWN',new T(0x0,-0x1)),o(x,'LEFT',new T(-0x1,0x0)),o(x,'RIGHT',new T(0x1,0x0)),o(x,'X_AXIS',T['RIGHT']),o(x,'Y_AXIS',T['UP']);class X{static['degreesToRadians'](_0x39bc9e){return _0x39bc9e*Math['PI']/0xb4;}static['radiansToDegrees'](_0x4332b4){return _0x4332b4*0xb4/Math['PI'];}static['rescale'](_0x27060f,_0x317dcc,_0x14da69,_0x84da38,_0x41208d){return _0x84da38+(_0x41208d-_0x84da38)*(_0x27060f-_0x317dcc)/(_0x14da69-_0x317dcc);}static['clamp'](_0x1f8926,_0x4c6954,_0x51d299){return Math['max'](_0x4c6954,Math['min'](_0x51d299,_0x1f8926));}static['lerp'](_0x229eb3,_0x4178da,_0x59cf91){return _0x229eb3*(0x1-_0x59cf91)+_0x4178da*_0x59cf91;}}class Zt{constructor(_0x1b67a0=!0x1){o(this,'background');o(this,'viewport');o(this,'gfxCanvas');o(this,'gl');this['gfxCanvas']=document['getElementById']('gfxCanvas'),this['gfxCanvas']||alert('Unable\x20to\x20find\x20gfxCanvas.'),this['gfxCanvas']['width']=window['innerWidth'],this['gfxCanvas']['height']=window['innerHeight'];const _0x4c250d=this['gfxCanvas']['getContext']('webgl2',{'alpha':!0x1,'stencil':_0x1b67a0});_0x4c250d||alert('Unable\x20to\x20initialize\x20WebGL.\x20Your\x20browser\x20or\x20machine\x20may\x20not\x20support\x20it.'),this['gl']=_0x4c250d,_0x4c250d['enable'](_0x4c250d['DEPTH_TEST']),_0x4c250d['depthFunc'](_0x4c250d['LEQUAL']),_0x4c250d['enable'](_0x4c250d['CULL_FACE']),_0x4c250d['cullFace'](_0x4c250d['BACK']),_0x4c250d['enable'](this['gl']['BLEND']),_0x4c250d['blendFuncSeparate'](_0x4c250d['SRC_ALPHA'],_0x4c250d['ONE_MINUS_SRC_ALPHA'],_0x4c250d['ONE'],_0x4c250d['ONE_MINUS_SRC_ALPHA']),this['background']=new M(),this['viewport']=0x0;}['resize'](_0x1caf0c,_0x120276,_0xe593cc){this['gfxCanvas']['width']=_0x1caf0c,this['gfxCanvas']['height']=_0x120276,this['viewport']==0x0?_0xe593cc>window['innerWidth']/window['innerHeight']?this['gl']['viewport'](0x0,(window['innerHeight']-window['innerWidth']/_0xe593cc)/0x2,window['innerWidth'],window['innerWidth']/_0xe593cc):this['gl']['viewport']((window['innerWidth']-window['innerHeight']*_0xe593cc)/0x2,0x0,window['innerHeight']*_0xe593cc,window['innerHeight']):this['viewport']==0x1?_0xe593cc>window['innerWidth']/window['innerHeight']?this['gl']['viewport']((window['innerWidth']-window['innerHeight']*_0xe593cc)/0x2,0x0,window['innerHeight']*_0xe593cc,window['innerHeight']):this['gl']['viewport'](0x0,(window['innerHeight']-window['innerWidth']/_0xe593cc)/0x2,window['innerWidth'],window['innerWidth']/_0xe593cc):this['gl']['viewport'](0x0,0x0,window['innerWidth'],window['innerHeight']);}['render'](_0x2ded49,_0x373cbe){_0x373cbe['projectionMatrixDirty']&&(this['resize'](this['gfxCanvas']['width'],this['gfxCanvas']['height'],_0x373cbe['getAspectRatio']()),_0x373cbe['projectionMatrixDirty']=!0x1),this['gl']['clearColor'](this['background']['r'],this['background']['g'],this['background']['b'],this['background']['a']),this['gl']['clear'](this['gl']['COLOR_BUFFER_BIT']|this['gl']['DEPTH_BUFFER_BIT']),_0x2ded49['draw'](_0x373cbe);}['getNormalizedDeviceCoordinates'](_0x52105a,_0x455ddc){const _0x1ab2b2=this['gl']['getParameter'](this['gl']['VIEWPORT']);return new x(X['clamp']((_0x52105a-_0x1ab2b2[0x0])/_0x1ab2b2[0x2]*0x2-0x1,-0x1,0x1),X['clamp']((_0x455ddc-_0x1ab2b2[0x1])/_0x1ab2b2[0x3]*-0x2+0x1,-0x1,0x1));}}const v=class{constructor(_0x5be0ce=0x0,_0xb063d4=0x0,_0x574b7e=0x0){o(this,'x');o(this,'y');o(this,'z');this['x']=_0x5be0ce,this['y']=_0xb063d4,this['z']=_0x574b7e;}static['copy'](_0x3b0949){return new v(_0x3b0949['x'],_0x3b0949['y'],_0x3b0949['z']);}static['inverse'](_0x1834ff){return new v(-_0x1834ff['x'],-_0x1834ff['y'],-_0x1834ff['z']);}static['add'](_0x5dde90,_0x59d2e9){return new v(_0x5dde90['x']+_0x59d2e9['x'],_0x5dde90['y']+_0x59d2e9['y'],_0x5dde90['z']+_0x59d2e9['z']);}static['subtract'](_0x17c669,_0x4e5f0c){return new v(_0x17c669['x']-_0x4e5f0c['x'],_0x17c669['y']-_0x4e5f0c['y'],_0x17c669['z']-_0x4e5f0c['z']);}static['multiply'](_0x1306da,_0xe1f11){return new v(_0x1306da['x']*_0xe1f11['x'],_0x1306da['y']*_0xe1f11['y'],_0x1306da['z']*_0xe1f11['z']);}static['divide'](_0x202f50,_0x4098c6){return new v(_0x202f50['x']/_0x4098c6['x'],_0x202f50['y']/_0x4098c6['y'],_0x202f50['z']/_0x4098c6['z']);}static['dot'](_0x34b8af,_0x2623b0){return _0x34b8af['x']*_0x2623b0['x']+_0x34b8af['y']*_0x2623b0['y']+_0x34b8af['z']*_0x2623b0['z'];}static['cross'](_0x185071,_0x4868b8){return new v(_0x185071['y']*_0x4868b8['z']-_0x185071['z']*_0x4868b8['y'],_0x185071['z']*_0x4868b8['x']-_0x185071['x']*_0x4868b8['z'],_0x185071['x']*_0x4868b8['y']-_0x185071['y']*_0x4868b8['x']);}static['multiplyScalar'](_0x522c51,_0x5b045d){return new v(_0x522c51['x']*_0x5b045d,_0x522c51['y']*_0x5b045d,_0x522c51['z']*_0x5b045d);}static['divideScalar'](_0x386775,_0x1e2aae){return new v(_0x386775['x']/_0x1e2aae,_0x386775['y']/_0x1e2aae,_0x386775['z']/_0x1e2aae);}static['normalize'](_0x3975fe){const _0x36919e=_0x3975fe['x']*_0x3975fe['x']+_0x3975fe['y']*_0x3975fe['y']+_0x3975fe['z']*_0x3975fe['z'];if(_0x36919e<1e-8)return new v();const _0x4719c0=0x1/Math['sqrt'](_0x36919e);return new v(_0x3975fe['x']*_0x4719c0,_0x3975fe['y']*_0x4719c0,_0x3975fe['z']*_0x4719c0);}static['angleBetween'](_0x1c5657,_0x52a0ab){return _0x1c5657['angleBetween'](_0x52a0ab);}static['distanceBetween'](_0xc91714,_0x261877){return _0xc91714['distanceTo'](_0x261877);}static['rotate'](_0x151920,_0x15d112){const _0xe7099f=new v(_0x15d112['x'],_0x15d112['y'],_0x15d112['z']),_0xa8b733=v['multiplyScalar'](_0xe7099f,0x2*_0xe7099f['dot'](_0x151920));_0xa8b733['add'](v['multiplyScalar'](_0x151920,_0x15d112['w']*_0x15d112['w']-_0xe7099f['dot'](_0xe7099f)));const _0x9399aa=_0xe7099f['cross'](_0x151920);return _0x9399aa['multiplyScalar'](0x2*_0x15d112['w']),_0xa8b733['add'](_0x9399aa),_0xa8b733;}static['lerp'](_0x218da6,_0x120ed3,_0xb65a9c){return new v(_0x218da6['x']*(0x1-_0xb65a9c)+_0x120ed3['x']*_0xb65a9c,_0x218da6['y']*(0x1-_0xb65a9c)+_0x120ed3['y']*_0xb65a9c,_0x218da6['z']*(0x1-_0xb65a9c)+_0x120ed3['z']*_0xb65a9c);}static['transform'](_0x545879,_0x473879){const _0xb60b65=new v(_0x545879['x'],_0x545879['y'],_0x545879['z']);return _0xb60b65['transform'](_0x473879),_0xb60b65;}static['transformVector'](_0x4ff6eb,_0x14584a){const _0x4c1483=new v(_0x4ff6eb['x'],_0x4ff6eb['y'],_0x4ff6eb['z']);return _0x4c1483['transformVector'](_0x14584a),_0x4c1483;}['set'](_0x3b7418,_0x310b64,_0x5aa500){this['x']=_0x3b7418,this['y']=_0x310b64,this['z']=_0x5aa500;}['copy'](_0x7cfcac){this['x']=_0x7cfcac['x'],this['y']=_0x7cfcac['y'],this['z']=_0x7cfcac['z'];}['clone'](){return new v(this['x'],this['y'],this['z']);}['equals'](_0x303f32){return this['x']==_0x303f32['x']&&this['y']==_0x303f32['y']&&this['z']==_0x303f32['z'];}['add'](_0x5a83c5){this['x']+=_0x5a83c5['x'],this['y']+=_0x5a83c5['y'],this['z']+=_0x5a83c5['z'];}['subtract'](_0x4e457d){this['x']-=_0x4e457d['x'],this['y']-=_0x4e457d['y'],this['z']-=_0x4e457d['z'];}['multiply'](_0x5a56ab){this['x']*=_0x5a56ab['x'],this['y']*=_0x5a56ab['y'],this['z']*=_0x5a56ab['z'];}['divide'](_0xde1cc3){this['x']/=_0xde1cc3['x'],this['y']/=_0xde1cc3['y'],this['z']/=_0xde1cc3['z'];}['dot'](_0x31b2a5){return this['x']*_0x31b2a5['x']+this['y']*_0x31b2a5['y']+this['z']*_0x31b2a5['z'];}['cross'](_0x37d31c){return new v(this['y']*_0x37d31c['z']-this['z']*_0x37d31c['y'],this['z']*_0x37d31c['x']-this['x']*_0x37d31c['z'],this['x']*_0x37d31c['y']-this['y']*_0x37d31c['x']);}['multiplyScalar'](_0x3c4dad){this['x']*=_0x3c4dad,this['y']*=_0x3c4dad,this['z']*=_0x3c4dad;}['divideScalar'](_0x5e5f88){this['x']/=_0x5e5f88,this['y']/=_0x5e5f88,this['z']/=_0x5e5f88;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['normalize'](){const _0x4642c8=this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];if(_0x4642c8<1e-8)return;const _0x27ed4e=0x1/Math['sqrt'](_0x4642c8);this['x']*=_0x27ed4e,this['y']*=_0x27ed4e,this['z']*=_0x27ed4e;}['invert'](){this['x']=-this['x'],this['y']=-this['y'],this['z']=-this['z'];}['transform'](_0x44a9fa){const _0x24283a=this['clone'](),_0x227ed6=0x1/(_0x44a9fa['mat'][0x3]*_0x24283a['x']+_0x44a9fa['mat'][0x7]*_0x24283a['y']+_0x44a9fa['mat'][0xb]*_0x24283a['z']+_0x44a9fa['mat'][0xf]);this['x']=_0x227ed6*(_0x44a9fa['mat'][0x0]*_0x24283a['x']+_0x44a9fa['mat'][0x4]*_0x24283a['y']+_0x44a9fa['mat'][0x8]*_0x24283a['z']+_0x44a9fa['mat'][0xc]),this['y']=_0x227ed6*(_0x44a9fa['mat'][0x1]*_0x24283a['x']+_0x44a9fa['mat'][0x5]*_0x24283a['y']+_0x44a9fa['mat'][0x9]*_0x24283a['z']+_0x44a9fa['mat'][0xd]),this['z']=_0x227ed6*(_0x44a9fa['mat'][0x2]*_0x24283a['x']+_0x44a9fa['mat'][0x6]*_0x24283a['y']+_0x44a9fa['mat'][0xa]*_0x24283a['z']+_0x44a9fa['mat'][0xe]);}['transformVector'](_0x39919c){const _0xbd7d33=this['clone'](),_0x18cb43=0x1/(_0x39919c['mat'][0x3]*_0xbd7d33['x']+_0x39919c['mat'][0x7]*_0xbd7d33['y']+_0x39919c['mat'][0xb]*_0xbd7d33['z']);this['x']=_0x18cb43*(_0x39919c['mat'][0x0]*_0xbd7d33['x']+_0x39919c['mat'][0x4]*_0xbd7d33['y']+_0x39919c['mat'][0x8]*_0xbd7d33['z']),this['y']=_0x18cb43*(_0x39919c['mat'][0x1]*_0xbd7d33['x']+_0x39919c['mat'][0x5]*_0xbd7d33['y']+_0x39919c['mat'][0x9]*_0xbd7d33['z']),this['z']=_0x18cb43*(_0x39919c['mat'][0x2]*_0xbd7d33['x']+_0x39919c['mat'][0x6]*_0xbd7d33['y']+_0x39919c['mat'][0xa]*_0xbd7d33['z']);}['rotate'](_0x173c22){this['copy'](v['rotate'](this,_0x173c22));}['angleBetween'](_0x42119a){const _0x24a672=v['normalize'](this),_0x254a9e=v['normalize'](_0x42119a);return Math['acos'](_0x24a672['dot'](_0x254a9e));}['distanceTo'](_0x42a287){return Math['sqrt']((this['x']-_0x42a287['x'])*(this['x']-_0x42a287['x'])+(this['y']-_0x42a287['y'])*(this['y']-_0x42a287['y'])+(this['z']-_0x42a287['z'])*(this['z']-_0x42a287['z']));}['setPositionFromMatrix'](_0x51f8e6){this['x']=_0x51f8e6['mat'][0xc],this['y']=_0x51f8e6['mat'][0xd],this['z']=_0x51f8e6['mat'][0xe];}['setScaleFromMatrix'](_0x471e58){this['x']=Math['sqrt'](_0x471e58['mat'][0x0]*_0x471e58['mat'][0x0]+_0x471e58['mat'][0x1]*_0x471e58['mat'][0x1]+_0x471e58['mat'][0x2]*_0x471e58['mat'][0x2]),this['y']=Math['sqrt'](_0x471e58['mat'][0x4]*_0x471e58['mat'][0x4]+_0x471e58['mat'][0x5]*_0x471e58['mat'][0x5]+_0x471e58['mat'][0x6]*_0x471e58['mat'][0x6]),this['z']=Math['sqrt'](_0x471e58['mat'][0x8]*_0x471e58['mat'][0x8]+_0x471e58['mat'][0x9]*_0x471e58['mat'][0x9]+_0x471e58['mat'][0xa]*_0x471e58['mat'][0xa]);}['lerp'](_0x4989eb,_0x45fae3,_0x4b27ef){this['x']=_0x4989eb['x']*(0x1-_0x4b27ef)+_0x45fae3['x']*_0x4b27ef,this['y']=_0x4989eb['y']*(0x1-_0x4b27ef)+_0x45fae3['y']*_0x4b27ef,this['z']=_0x4989eb['z']*(0x1-_0x4b27ef)+_0x45fae3['z']*_0x4b27ef;}};let m=v;o(m,'ZERO',new v(0x0,0x0,0x0)),o(m,'ONE',new v(0x1,0x1,0x1)),o(m,'UP',new v(0x0,0x1,0x0)),o(m,'DOWN',new v(0x0,-0x1,0x0)),o(m,'LEFT',new v(-0x1,0x0,0x0)),o(m,'RIGHT',new v(0x1,0x0,0x0)),o(m,'FORWARD',new v(0x0,0x0,-0x1)),o(m,'BACK',new v(0x0,0x0,0x1)),o(m,'X_AXIS',v['RIGHT']),o(m,'Y_AXIS',v['UP']),o(m,'Z_AXIS',v['FORWARD']);const P=class{constructor(_0x227b9e=0x0,_0x498fbd=0x0,_0x29ff44=0x0,_0x2021f7=0x1){o(this,'x');o(this,'y');o(this,'z');o(this,'w');this['x']=_0x227b9e,this['y']=_0x498fbd,this['z']=_0x29ff44,this['w']=_0x2021f7;}static['copy'](_0xe8af3e){return new P(_0xe8af3e['x'],_0xe8af3e['y'],_0xe8af3e['z'],_0xe8af3e['w']);}static['multiply'](_0x169da1,_0x30f181){const _0x3bbcea=new P();return _0x3bbcea['w']=_0x169da1['w']*_0x30f181['w']-_0x169da1['x']*_0x30f181['x']-_0x169da1['y']*_0x30f181['y']-_0x169da1['z']*_0x30f181['z'],_0x3bbcea['x']=_0x169da1['w']*_0x30f181['x']+_0x169da1['x']*_0x30f181['w']+_0x169da1['y']*_0x30f181['z']-_0x169da1['z']*_0x30f181['y'],_0x3bbcea['y']=_0x169da1['w']*_0x30f181['y']+_0x169da1['y']*_0x30f181['w']+_0x169da1['z']*_0x30f181['x']-_0x169da1['x']*_0x30f181['z'],_0x3bbcea['z']=_0x169da1['w']*_0x30f181['z']+_0x169da1['z']*_0x30f181['w']+_0x169da1['x']*_0x30f181['y']-_0x169da1['y']*_0x30f181['x'],_0x3bbcea;}static['normalize'](_0x5a44e2){const _0x93a9e0=_0x5a44e2['clone']();return _0x93a9e0['normalize'](),_0x93a9e0;}static['inverse'](_0x22d010){const _0x2cf513=_0x22d010['clone']();return _0x2cf513['invert'](),_0x2cf513;}['makeIdentity'](){return new P(0x0,0x0,0x0,0x1);}static['makeRotationX'](_0x17842a){const _0x3ae104=new P();return _0x3ae104['setRotationX'](_0x17842a),_0x3ae104;}static['makeRotationY'](_0x409b53){const _0x1788fe=new P();return _0x1788fe['setRotationY'](_0x409b53),_0x1788fe;}static['makeRotationZ'](_0x24b0b0){const _0x37f70f=new P();return _0x37f70f['setRotationZ'](_0x24b0b0),_0x37f70f;}static['makeAxisAngle'](_0x41fdd4,_0x1f416f){const _0x4aa634=new P();return _0x4aa634['setAxisAngle'](_0x41fdd4,_0x1f416f),_0x4aa634;}static['makeEulerAngles'](_0x555bd3,_0x3d9f1c,_0xf5e23c,_0xe04dd7='YZX'){const _0x41832c=new P();return _0x41832c['setEulerAngles'](_0x555bd3,_0x3d9f1c,_0xf5e23c,_0xe04dd7),_0x41832c;}static['makeMatrix'](_0x1006ea){const _0x24d40f=new P();return _0x24d40f['setMatrix'](_0x1006ea),_0x24d40f;}static['slerp'](_0x1d1604,_0x80c29b,_0x2db7b2){const _0x247096=new P();return _0x247096['slerp'](_0x1d1604,_0x80c29b,_0x2db7b2),_0x247096;}['set'](_0x57e77d,_0x2c1906,_0x1fcd88,_0x45ed6f){this['x']=_0x57e77d,this['y']=_0x2c1906,this['z']=_0x1fcd88,this['w']=_0x45ed6f;}['setIdentity'](){this['x']=0x0,this['y']=0x0,this['z']=0x0,this['w']=0x1;}['setRotationX'](_0x1c5e77){this['w']=Math['cos'](_0x1c5e77/0x2),this['x']=Math['sin'](_0x1c5e77/0x2),this['y']=0x0,this['z']=0x0;}['setRotationY'](_0x31660a){this['w']=Math['cos'](_0x31660a/0x2),this['x']=0x0,this['y']=Math['sin'](_0x31660a/0x2),this['z']=0x0;}['setRotationZ'](_0x241257){this['w']=Math['cos'](_0x241257/0x2),this['x']=0x0,this['y']=0x0,this['z']=Math['sin'](_0x241257/0x2);}['setAxisAngle'](_0x5e74dd,_0x53e816){const _0x30f333=Math['sin'](_0x53e816/0x2);this['w']=Math['cos'](_0x53e816/0x2),this['x']=_0x30f333*_0x5e74dd['x'],this['y']=_0x30f333*_0x5e74dd['y'],this['z']=_0x30f333*_0x5e74dd['z'];}['setEulerAngles'](_0x47ebc1,_0x1eb11a,_0x567a39,_0x584fdd='YZX'){const _0x10261f=Math['cos'],_0x29f7cb=Math['sin'],_0x5233f8=_0x10261f(_0x47ebc1/0x2),_0x1ac1f4=_0x10261f(_0x1eb11a/0x2),_0x218ea0=_0x10261f(_0x567a39/0x2),_0xab5c3e=_0x29f7cb(_0x47ebc1/0x2),_0x35dbbc=_0x29f7cb(_0x1eb11a/0x2),_0xa09ba9=_0x29f7cb(_0x567a39/0x2);switch(_0x584fdd){case'XYZ':this['x']=_0xab5c3e*_0x1ac1f4*_0x218ea0+_0x5233f8*_0x35dbbc*_0xa09ba9,this['y']=_0x5233f8*_0x35dbbc*_0x218ea0-_0xab5c3e*_0x1ac1f4*_0xa09ba9,this['z']=_0x5233f8*_0x1ac1f4*_0xa09ba9+_0xab5c3e*_0x35dbbc*_0x218ea0,this['w']=_0x5233f8*_0x1ac1f4*_0x218ea0-_0xab5c3e*_0x35dbbc*_0xa09ba9;break;case'YXZ':this['x']=_0xab5c3e*_0x1ac1f4*_0x218ea0+_0x5233f8*_0x35dbbc*_0xa09ba9,this['y']=_0x5233f8*_0x35dbbc*_0x218ea0-_0xab5c3e*_0x1ac1f4*_0xa09ba9,this['z']=_0x5233f8*_0x1ac1f4*_0xa09ba9-_0xab5c3e*_0x35dbbc*_0x218ea0,this['w']=_0x5233f8*_0x1ac1f4*_0x218ea0+_0xab5c3e*_0x35dbbc*_0xa09ba9;break;case'ZXY':this['x']=_0xab5c3e*_0x1ac1f4*_0x218ea0-_0x5233f8*_0x35dbbc*_0xa09ba9,this['y']=_0x5233f8*_0x35dbbc*_0x218ea0+_0xab5c3e*_0x1ac1f4*_0xa09ba9,this['z']=_0x5233f8*_0x1ac1f4*_0xa09ba9+_0xab5c3e*_0x35dbbc*_0x218ea0,this['w']=_0x5233f8*_0x1ac1f4*_0x218ea0-_0xab5c3e*_0x35dbbc*_0xa09ba9;break;case'ZYX':this['x']=_0xab5c3e*_0x1ac1f4*_0x218ea0-_0x5233f8*_0x35dbbc*_0xa09ba9,this['y']=_0x5233f8*_0x35dbbc*_0x218ea0+_0xab5c3e*_0x1ac1f4*_0xa09ba9,this['z']=_0x5233f8*_0x1ac1f4*_0xa09ba9-_0xab5c3e*_0x35dbbc*_0x218ea0,this['w']=_0x5233f8*_0x1ac1f4*_0x218ea0+_0xab5c3e*_0x35dbbc*_0xa09ba9;break;case'YZX':this['x']=_0xab5c3e*_0x1ac1f4*_0x218ea0+_0x5233f8*_0x35dbbc*_0xa09ba9,this['y']=_0x5233f8*_0x35dbbc*_0x218ea0+_0xab5c3e*_0x1ac1f4*_0xa09ba9,this['z']=_0x5233f8*_0x1ac1f4*_0xa09ba9-_0xab5c3e*_0x35dbbc*_0x218ea0,this['w']=_0x5233f8*_0x1ac1f4*_0x218ea0-_0xab5c3e*_0x35dbbc*_0xa09ba9;break;case'XZY':this['x']=_0xab5c3e*_0x1ac1f4*_0x218ea0-_0x5233f8*_0x35dbbc*_0xa09ba9,this['y']=_0x5233f8*_0x35dbbc*_0x218ea0-_0xab5c3e*_0x1ac1f4*_0xa09ba9,this['z']=_0x5233f8*_0x1ac1f4*_0xa09ba9+_0xab5c3e*_0x35dbbc*_0x218ea0,this['w']=_0x5233f8*_0x1ac1f4*_0x218ea0+_0xab5c3e*_0x35dbbc*_0xa09ba9;break;}}['setMatrix'](_0x10b7e0){const _0x3e2432=_0x10b7e0['mat'][0x0]+_0x10b7e0['mat'][0x5]+_0x10b7e0['mat'][0xa];if(_0x3e2432>0x0){const _0x33a314=Math['sqrt'](_0x3e2432+0x1)*0x2;this['w']=0.25*_0x33a314,this['x']=(_0x10b7e0['mat'][0x6]-_0x10b7e0['mat'][0x9])/_0x33a314,this['y']=(_0x10b7e0['mat'][0x8]-_0x10b7e0['mat'][0x2])/_0x33a314,this['z']=(_0x10b7e0['mat'][0x1]-_0x10b7e0['mat'][0x4])/_0x33a314;}else if(_0x10b7e0['mat'][0x0]>_0x10b7e0['mat'][0x5]&&_0x10b7e0['mat'][0x0]>_0x10b7e0['mat'][0xa]){const _0x449d40=Math['sqrt'](0x1+_0x10b7e0['mat'][0x0]-_0x10b7e0['mat'][0x5]-_0x10b7e0['mat'][0xa])*0x2;this['w']=(_0x10b7e0['mat'][0x6]-_0x10b7e0['mat'][0x9])/_0x449d40,this['x']=0.25*_0x449d40,this['y']=(_0x10b7e0['mat'][0x4]+_0x10b7e0['mat'][0x1])/_0x449d40,this['z']=(_0x10b7e0['mat'][0x8]+_0x10b7e0['mat'][0x2])/_0x449d40;}else if(_0x10b7e0['mat'][0x5]>_0x10b7e0['mat'][0xa]){const _0x12434b=Math['sqrt'](0x1+_0x10b7e0['mat'][0x5]-_0x10b7e0['mat'][0x0]-_0x10b7e0['mat'][0xa])*0x2;this['w']=(_0x10b7e0['mat'][0x8]-_0x10b7e0['mat'][0x2])/_0x12434b,this['x']=(_0x10b7e0['mat'][0x4]+_0x10b7e0['mat'][0x1])/_0x12434b,this['y']=0.25*_0x12434b,this['z']=(_0x10b7e0['mat'][0x9]+_0x10b7e0['mat'][0x6])/_0x12434b;}else{const _0x5b500f=Math['sqrt'](0x1+_0x10b7e0['mat'][0xa]-_0x10b7e0['mat'][0x0]-_0x10b7e0['mat'][0x5])*0x2;this['w']=(_0x10b7e0['mat'][0x1]-_0x10b7e0['mat'][0x4])/_0x5b500f,this['x']=(_0x10b7e0['mat'][0x8]+_0x10b7e0['mat'][0x2])/_0x5b500f,this['y']=(_0x10b7e0['mat'][0x9]+_0x10b7e0['mat'][0x6])/_0x5b500f,this['z']=0.25*_0x5b500f;}}['copy'](_0xedfb38){this['x']=_0xedfb38['x'],this['y']=_0xedfb38['y'],this['z']=_0xedfb38['z'],this['w']=_0xedfb38['w'];}['clone'](){return new P(this['x'],this['y'],this['z'],this['w']);}['multiply'](_0x58725a){this['copy'](P['multiply'](this,_0x58725a));}['premultiply'](_0x5c1fd5){this['copy'](P['multiply'](_0x5c1fd5,this));}['normalize'](){const _0x2495bf=0x1/Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);this['x']*=_0x2495bf,this['y']*=_0x2495bf,this['z']*=_0x2495bf,this['w']*=_0x2495bf;}['invert'](){const _0x3d1500=0x1/Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);this['x']*=-_0x3d1500,this['y']*=-_0x3d1500,this['z']*=-_0x3d1500,this['w']*=_0x3d1500;}['inverse'](){return P['inverse'](this);}['getMatrix'](){const _0x447be6=this['w']*this['w'],_0x4a4e8b=this['x']*this['x'],_0x52e6cb=this['y']*this['y'],_0x2c53cc=this['z']*this['z'],_0x58d04f=0x1/(_0x4a4e8b+_0x52e6cb+_0x2c53cc+_0x447be6),_0x2554e3=this['x']*this['y'],_0xc0cdff=this['z']*this['w'],_0x555a89=this['x']*this['z'],_0x557ba7=this['y']*this['w'],_0x3573d2=this['y']*this['z'],_0x3a81d8=this['x']*this['w'];return j['fromRowMajor']((_0x4a4e8b-_0x52e6cb-_0x2c53cc+_0x447be6)*_0x58d04f,0x2*(_0x2554e3-_0xc0cdff)*_0x58d04f,0x2*(_0x555a89+_0x557ba7)*_0x58d04f,0x0,0x2*(_0x2554e3+_0xc0cdff)*_0x58d04f,(-_0x4a4e8b+_0x52e6cb-_0x2c53cc+_0x447be6)*_0x58d04f,0x2*(_0x3573d2-_0x3a81d8)*_0x58d04f,0x0,0x2*(_0x555a89-_0x557ba7)*_0x58d04f,0x2*(_0x3573d2+_0x3a81d8)*_0x58d04f,-_0x4a4e8b-_0x52e6cb+_0x2c53cc+_0x447be6,0x0,0x0,0x0,0x0,0x1);}['lookAt'](_0x347da2,_0x1fdd7b,_0x4a5663=m['UP']){const _0x47043f=m['subtract'](_0x347da2,_0x1fdd7b);_0x47043f['normalize']();const _0x444f30=m['cross'](_0x4a5663,_0x47043f);_0x444f30['normalize']();const _0x394dbb=m['cross'](_0x47043f,_0x444f30);_0x394dbb['normalize']();const _0x159f30=new j();_0x159f30['setRowMajor'](_0x444f30['x'],_0x394dbb['x'],_0x47043f['x'],0x0,_0x444f30['y'],_0x394dbb['y'],_0x47043f['y'],0x0,_0x444f30['z'],_0x394dbb['z'],_0x47043f['z'],0x0,0x0,0x0,0x0,0x1),this['setMatrix'](_0x159f30);}['slerp'](_0x4ea1ab,_0x218ed0,_0x1ceb4f){const _0x1c5ed2=_0x4ea1ab['clone']();let _0x4dc9ee=_0x4ea1ab['x']*_0x218ed0['x']+_0x4ea1ab['y']*_0x218ed0['y']+_0x4ea1ab['z']*_0x218ed0['z']+_0x4ea1ab['w']*_0x218ed0['w'],_0x10427a,_0x42f6e8,_0x590462,_0x57b54b;_0x4dc9ee<0x0&&(_0x4dc9ee*=-0x1,_0x1c5ed2['x']*=-0x1,_0x1c5ed2['y']*=-0x1,_0x1c5ed2['z']*=-0x1,_0x1c5ed2['w']*=-0x1),0x1+_0x4dc9ee>0.00001?(0x1-_0x4dc9ee>0.00001?(_0x10427a=Math['acos'](_0x4dc9ee),_0x42f6e8=Math['sin'](_0x10427a),_0x590462=Math['sin']((0x1-_0x1ceb4f)*_0x10427a)/_0x42f6e8,_0x57b54b=Math['sin'](_0x1ceb4f*_0x10427a)/_0x42f6e8):(_0x590462=0x1-_0x1ceb4f,_0x57b54b=_0x1ceb4f),this['x']=_0x590462*_0x1c5ed2['x']+_0x57b54b*_0x218ed0['x'],this['y']=_0x590462*_0x1c5ed2['y']+_0x57b54b*_0x218ed0['y'],this['z']=_0x590462*_0x1c5ed2['z']+_0x57b54b*_0x218ed0['z'],this['w']=_0x590462*_0x1c5ed2['w']+_0x57b54b*_0x218ed0['w']):(this['x']=-_0x1c5ed2['y'],this['y']=_0x1c5ed2['x'],this['z']=-_0x1c5ed2['w'],this['w']=_0x1c5ed2['z'],_0x590462=Math['sin']((0.5-_0x1ceb4f)*Math['PI']),_0x57b54b=Math['sin'](_0x1ceb4f*Math['PI']),this['x']=_0x590462*_0x1c5ed2['x']+_0x57b54b*this['x'],this['y']=_0x590462*_0x1c5ed2['y']+_0x57b54b*this['y'],this['z']=_0x590462*_0x1c5ed2['y']+_0x57b54b*this['z']);}};let D=P;o(D,'IDENTITY',new P());const B=class{constructor(){o(this,'mat');this['mat']=[0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1];}static['multiply'](_0x2c3bfc,_0x411abb){const _0x36c851=new B();_0x36c851['mat'][0x0]=0x0,_0x36c851['mat'][0x5]=0x0,_0x36c851['mat'][0xa]=0x0,_0x36c851['mat'][0xf]=0x0;for(let _0x2bc48b=0x0;_0x2bc48b<0x4;_0x2bc48b++)for(let _0x3f488d=0x0;_0x3f488d<0x4;_0x3f488d++)for(let _0x32d711=0x0;_0x32d711<0x4;_0x32d711++)_0x36c851['mat'][_0x2bc48b*0x4+_0x3f488d]+=_0x2c3bfc['mat'][_0x2bc48b*0x4+_0x32d711]*_0x411abb['mat'][_0x32d711*0x4+_0x3f488d];return _0x36c851;}static['copy'](_0x2fa849){const _0x3e442=new B();return _0x3e442['copy'](_0x2fa849),_0x3e442;}static['fromRowMajor'](_0x46f39b,_0x5b99cc,_0x4a0589,_0x3cef97,_0x52df39,_0x16880d,_0x1f3cc0,_0xe54fe8,_0x57b46d,_0x5e26b3,_0x5e0c4f,_0x387842,_0x4abbf3,_0x424a0a,_0x1bef0b,_0x2cbd3b){const _0x376535=new B();return _0x376535['setRowMajor'](_0x46f39b,_0x5b99cc,_0x4a0589,_0x3cef97,_0x52df39,_0x16880d,_0x1f3cc0,_0xe54fe8,_0x57b46d,_0x5e26b3,_0x5e0c4f,_0x387842,_0x4abbf3,_0x424a0a,_0x1bef0b,_0x2cbd3b),_0x376535;}static['fromColumnMajor'](_0x3ac246,_0x1069a4,_0x34449d,_0x108643,_0x1b73ae,_0x1628c0,_0x1c6501,_0x31fe15,_0xdb28d3,_0x344adb,_0xed0839,_0x333b92,_0x35917b,_0x75e7d1,_0x1fe831,_0x567168){const _0x21ffc5=new B();return _0x21ffc5['setColumnMajor'](_0x3ac246,_0x1069a4,_0x34449d,_0x108643,_0x1b73ae,_0x1628c0,_0x1c6501,_0x31fe15,_0xdb28d3,_0x344adb,_0xed0839,_0x333b92,_0x35917b,_0x75e7d1,_0x1fe831,_0x567168),_0x21ffc5;}static['makeIdentity'](){return B['fromRowMajor'](0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}static['makeTranslation'](_0x4750b0){return B['fromRowMajor'](0x1,0x0,0x0,_0x4750b0['x'],0x0,0x1,0x0,_0x4750b0['y'],0x0,0x0,0x1,_0x4750b0['z'],0x0,0x0,0x0,0x1);}static['makeRotationX'](_0x13cded){const _0x2c5b03=new B();return _0x2c5b03['setRotationX'](_0x13cded),_0x2c5b03;}static['makeRotationY'](_0xa81b8a){const _0x352180=new B();return _0x352180['setRotationY'](_0xa81b8a),_0x352180;}static['makeRotationZ'](_0x9b63be){const _0xd35f64=new B();return _0xd35f64['setRotationZ'](_0x9b63be),_0xd35f64;}static['makeAxisAngle'](_0x1113ea,_0x1a0a09){const _0x35a265=new B();return _0x35a265['setAxisAngle'](_0x1113ea,_0x1a0a09),_0x35a265;}static['makeEulerAngles'](_0x4e5e07,_0x593674,_0x487c22,_0x58dcf5='YZX'){const _0x41582c=new B();return _0x41582c['setEulerAngles'](_0x4e5e07,_0x593674,_0x487c22,_0x58dcf5),_0x41582c;}static['makeScale'](_0x9dc0b1){const _0x1e0180=new B();return _0x1e0180['setScale'](_0x9dc0b1),_0x1e0180;}static['compose'](_0x3562e7=m['ZERO'],_0x1dddff=D['IDENTITY'],_0x456507=m['UP']){const _0x164a59=new B();return _0x164a59['compose'](_0x3562e7,_0x1dddff,_0x456507),_0x164a59;}static['lookAt'](_0x12510f,_0x1c64c4,_0x4989de){const _0x21a0b9=new B();return _0x21a0b9['lookAt'](_0x12510f,_0x1c64c4,_0x4989de),_0x21a0b9;}static['makeOrthographic'](_0x3a72f2,_0x4683a2,_0x310885,_0x5a9c53,_0x4cee43,_0x349359){const _0x38657f=new B();return _0x38657f['setOrthographic'](_0x3a72f2,_0x4683a2,_0x310885,_0x5a9c53,_0x4cee43,_0x349359),_0x38657f;}static['makePerspective'](_0x67d1cf,_0x1b2ac0,_0x53586d,_0xced58){const _0x33aed1=new B();return _0x33aed1['setPerspective'](_0x67d1cf,_0x1b2ac0,_0x53586d,_0xced58),_0x33aed1;}static['makeFrustum'](_0x5f0dc8,_0x22018f,_0x1148c6,_0x5a4cd6,_0x2a4dae,_0x5d9ef3){const _0x422526=new B();return _0x422526['setFrustum'](_0x5f0dc8,_0x22018f,_0x1148c6,_0x5a4cd6,_0x2a4dae,_0x5d9ef3),_0x422526;}['setColumnMajor'](_0x4cba2b,_0x29a125,_0x1bce4c,_0x3461af,_0x3abec8,_0x4f6e18,_0x2fb9ef,_0x2fed4b,_0x5273c1,_0x5a9a2d,_0x1bcf9a,_0x59c899,_0x3d0530,_0x25346f,_0x5a6705,_0x5ab8f5){this['mat'][0x0]=_0x4cba2b,this['mat'][0x1]=_0x29a125,this['mat'][0x2]=_0x1bce4c,this['mat'][0x3]=_0x3461af,this['mat'][0x4]=_0x3abec8,this['mat'][0x5]=_0x4f6e18,this['mat'][0x6]=_0x2fb9ef,this['mat'][0x7]=_0x2fed4b,this['mat'][0x8]=_0x5273c1,this['mat'][0x9]=_0x5a9a2d,this['mat'][0xa]=_0x1bcf9a,this['mat'][0xb]=_0x59c899,this['mat'][0xc]=_0x3d0530,this['mat'][0xd]=_0x25346f,this['mat'][0xe]=_0x5a6705,this['mat'][0xf]=_0x5ab8f5;}['setRowMajor'](_0x4a37bd,_0x35a1e1,_0x3f00a4,_0x52588b,_0x208967,_0x1881fe,_0x36373f,_0xae852c,_0x138390,_0x113487,_0x2d32ec,_0x104618,_0x509c68,_0x2cb571,_0x119fef,_0x3fc375){this['mat'][0x0]=_0x4a37bd,this['mat'][0x1]=_0x208967,this['mat'][0x2]=_0x138390,this['mat'][0x3]=_0x509c68,this['mat'][0x4]=_0x35a1e1,this['mat'][0x5]=_0x1881fe,this['mat'][0x6]=_0x113487,this['mat'][0x7]=_0x2cb571,this['mat'][0x8]=_0x3f00a4,this['mat'][0x9]=_0x36373f,this['mat'][0xa]=_0x2d32ec,this['mat'][0xb]=_0x119fef,this['mat'][0xc]=_0x52588b,this['mat'][0xd]=_0xae852c,this['mat'][0xe]=_0x104618,this['mat'][0xf]=_0x3fc375;}['copy'](_0x2e41ac){for(let _0x2ccba5=0x0;_0x2ccba5<0x10;_0x2ccba5++)this['mat'][_0x2ccba5]=_0x2e41ac['mat'][_0x2ccba5];}['clone'](){const _0x16430d=new B();for(let _0x56332a=0x0;_0x56332a<0x10;_0x56332a++)_0x16430d['mat'][_0x56332a]=this['mat'][_0x56332a];return _0x16430d;}['element'](_0x35bd89,_0x4eacbf){return this['mat'][_0x4eacbf*0x4+_0x35bd89];}['set'](_0xf5f871,_0x25294b,_0x3565f0){this['mat'][_0x3565f0*0x4+_0x25294b]=_0xf5f871;}['multiply'](_0x217d12){const _0xb8014=B['multiply'](_0x217d12,this);this['copy'](_0xb8014);}['premultiply'](_0x1ec576){const _0x1ce523=B['multiply'](this,_0x1ec576);this['copy'](_0x1ce523);}['setIdentity'](){this['setRowMajor'](0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}['setTranslation'](_0x1bb4a9){this['setRowMajor'](0x1,0x0,0x0,_0x1bb4a9['x'],0x0,0x1,0x0,_0x1bb4a9['y'],0x0,0x0,0x1,_0x1bb4a9['z'],0x0,0x0,0x0,0x1);}['setRotationX'](_0x6d17f8){const _0x235b17=Math['cos'](_0x6d17f8),_0x599472=Math['sin'](_0x6d17f8);this['setRowMajor'](0x1,0x0,0x0,0x0,0x0,_0x235b17,-_0x599472,0x0,0x0,_0x599472,_0x235b17,0x0,0x0,0x0,0x0,0x1);}['setRotationY'](_0x35cd58){const _0x51cb65=Math['cos'](_0x35cd58),_0x3276dd=Math['sin'](_0x35cd58);this['setRowMajor'](_0x51cb65,0x0,_0x3276dd,0x0,0x0,0x1,0x0,0x0,-_0x3276dd,0x0,_0x51cb65,0x0,0x0,0x0,0x0,0x1);}['setRotationZ'](_0x4f31e4){const _0xb4521f=Math['cos'](_0x4f31e4),_0xdcd2f6=Math['sin'](_0x4f31e4);this['setRowMajor'](_0xb4521f,-_0xdcd2f6,0x0,0x0,_0xdcd2f6,_0xb4521f,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}['setAxisAngle'](_0x38416d,_0x2073be){const _0x4457f9=Math['cos'](_0x2073be),_0x106782=Math['sin'](_0x2073be),_0x34e1a1=0x1-_0x4457f9,_0x4e77eb=_0x38416d['x'],_0x1a3a4a=_0x38416d['y'],_0x340859=_0x38416d['z'],_0x1992bf=_0x34e1a1*_0x4e77eb,_0x38adf2=_0x34e1a1*_0x1a3a4a;this['setRowMajor'](_0x1992bf*_0x4e77eb+_0x4457f9,_0x1992bf*_0x1a3a4a-_0x106782*_0x340859,_0x1992bf*_0x340859+_0x106782*_0x1a3a4a,0x0,_0x1992bf*_0x1a3a4a+_0x106782*_0x340859,_0x38adf2*_0x1a3a4a+_0x4457f9,_0x38adf2*_0x340859-_0x106782*_0x4e77eb,0x0,_0x1992bf*_0x340859-_0x106782*_0x1a3a4a,_0x38adf2*_0x340859+_0x106782*_0x4e77eb,_0x34e1a1*_0x340859*_0x340859+_0x4457f9,0x0,0x0,0x0,0x0,0x1);}['setScale'](_0x2a3348){this['setRowMajor'](_0x2a3348['x'],0x0,0x0,0x0,0x0,_0x2a3348['y'],0x0,0x0,0x0,0x0,_0x2a3348['z'],0x0,0x0,0x0,0x0,0x1);}['getTranslation'](){return new m(this['mat'][0xc],this['mat'][0xd],this['mat'][0xe]);}['getRotation'](){return D['makeMatrix'](this);}['getScale'](){return new m(Math['sqrt'](this['mat'][0x0]*this['mat'][0x0]+this['mat'][0x1]*this['mat'][0x1]+this['mat'][0x2]*this['mat'][0x2]),Math['sqrt'](this['mat'][0x4]*this['mat'][0x4]+this['mat'][0x5]*this['mat'][0x5]+this['mat'][0x6]*this['mat'][0x6]),Math['sqrt'](this['mat'][0x8]*this['mat'][0x8]+this['mat'][0x9]*this['mat'][0x9]+this['mat'][0xa]*this['mat'][0xa]));}['setOrthographic'](_0x4384f6,_0x3f1dfe,_0x5aa9ae,_0x481c15,_0x3296af,_0x3057ab){this['setRowMajor'](0x2/(_0x3f1dfe-_0x4384f6),0x0,0x0,-(_0x3f1dfe+_0x4384f6)/(_0x3f1dfe-_0x4384f6),0x0,0x2/(_0x481c15-_0x5aa9ae),0x0,-(_0x481c15+_0x5aa9ae)/(_0x481c15-_0x5aa9ae),0x0,0x0,-0x2/(_0x3057ab-_0x3296af),-(_0x3057ab+_0x3296af)/(_0x3057ab-_0x3296af),0x0,0x0,0x0,0x1);}['setPerspective'](_0x14d35c,_0x17e800,_0x19cef5,_0x291495){const _0x1b80d6=_0x19cef5*Math['tan'](_0x14d35c*Math['PI']/0x168),_0x568e3f=_0x1b80d6*_0x17e800;this['setFrustum'](-_0x568e3f,_0x568e3f,-_0x1b80d6,_0x1b80d6,_0x19cef5,_0x291495);}['setFrustum'](_0x1c8776,_0x4fb756,_0x3df6db,_0x20ef2b,_0x485dd2,_0x35a457){this['setRowMajor'](0x2*_0x485dd2/(_0x4fb756-_0x1c8776),0x0,(_0x4fb756+_0x1c8776)/(_0x4fb756-_0x1c8776),0x0,0x0,0x2*_0x485dd2/(_0x20ef2b-_0x3df6db),(_0x20ef2b+_0x3df6db)/(_0x20ef2b-_0x3df6db),0x0,0x0,0x0,-(_0x35a457+_0x485dd2)/(_0x35a457-_0x485dd2),-0x2*_0x35a457*_0x485dd2/(_0x35a457-_0x485dd2),0x0,0x0,-0x1,0x0);}['lookAt'](_0x441e33,_0x5b109b,_0x31d2a4=m['UP']){const _0x527949=m['subtract'](_0x441e33,_0x5b109b);_0x527949['normalize']();const _0x347e54=m['cross'](_0x31d2a4,_0x527949);_0x347e54['normalize']();const _0x5a5582=m['cross'](_0x527949,_0x347e54);_0x5a5582['normalize']();const _0x2a28c6=B['fromRowMajor'](_0x347e54['x'],_0x5a5582['x'],_0x527949['x'],0x0,_0x347e54['y'],_0x5a5582['y'],_0x527949['y'],0x0,_0x347e54['z'],_0x5a5582['z'],_0x527949['z'],0x0,0x0,0x0,0x0,0x1),_0x3897c3=B['makeTranslation'](_0x441e33);this['copy'](B['multiply'](_0x2a28c6,_0x3897c3));}['multiplyScalar'](_0x179ba3){for(let _0x2a4c47=0x0;_0x2a4c47<0x10;_0x2a4c47++)this['mat'][_0x2a4c47]*=_0x179ba3;}['determinant'](){return this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x1]*this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xf];}['inverse'](){const _0x55550d=this['determinant']();if(Math['abs'](_0x55550d)<1e-8)return new B();const _0x5acad9=new B();return _0x5acad9['mat'][0x0]=(this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xd]+this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xe]-this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xf]+this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0x1]=(this['mat'][0x3]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x2]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x3]*this['mat'][0x9]*this['mat'][0xe]+this['mat'][0x1]*this['mat'][0xb]*this['mat'][0xe]+this['mat'][0x2]*this['mat'][0x9]*this['mat'][0xf]-this['mat'][0x1]*this['mat'][0xa]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0x2]=(this['mat'][0x2]*this['mat'][0x7]*this['mat'][0xd]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0xd]+this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xe]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xf]+this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0x3]=(this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x9]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x9]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xa]+this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xa]+this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xb]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xb])/_0x55550d,_0x5acad9['mat'][0x4]=(this['mat'][0x7]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x6]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xe]+this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xe]+this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xf]-this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0x5]=(this['mat'][0x2]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0xa]*this['mat'][0xc]+this['mat'][0x3]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0xb]*this['mat'][0xe]-this['mat'][0x2]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0xa]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0x6]=(this['mat'][0x3]*this['mat'][0x6]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x7]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xe]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0x7]=(this['mat'][0x2]*this['mat'][0x7]*this['mat'][0x8]-this['mat'][0x3]*this['mat'][0x6]*this['mat'][0x8]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xa]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xa]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xb]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xb])/_0x55550d,_0x5acad9['mat'][0x8]=(this['mat'][0x5]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x7]*this['mat'][0x9]*this['mat'][0xc]+this['mat'][0x7]*this['mat'][0x8]*this['mat'][0xd]-this['mat'][0x4]*this['mat'][0xb]*this['mat'][0xd]-this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xf]+this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0x9]=(this['mat'][0x3]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0xb]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0xb]*this['mat'][0xd]+this['mat'][0x1]*this['mat'][0x8]*this['mat'][0xf]-this['mat'][0x0]*this['mat'][0x9]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0xa]=(this['mat'][0x1]*this['mat'][0x7]*this['mat'][0xc]-this['mat'][0x3]*this['mat'][0x5]*this['mat'][0xc]+this['mat'][0x3]*this['mat'][0x4]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0x7]*this['mat'][0xd]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xf]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xf])/_0x55550d,_0x5acad9['mat'][0xb]=(this['mat'][0x3]*this['mat'][0x5]*this['mat'][0x8]-this['mat'][0x1]*this['mat'][0x7]*this['mat'][0x8]-this['mat'][0x3]*this['mat'][0x4]*this['mat'][0x9]+this['mat'][0x0]*this['mat'][0x7]*this['mat'][0x9]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xb]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xb])/_0x55550d,_0x5acad9['mat'][0xc]=(this['mat'][0x6]*this['mat'][0x9]*this['mat'][0xc]-this['mat'][0x5]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x6]*this['mat'][0x8]*this['mat'][0xd]+this['mat'][0x4]*this['mat'][0xa]*this['mat'][0xd]+this['mat'][0x5]*this['mat'][0x8]*this['mat'][0xe]-this['mat'][0x4]*this['mat'][0x9]*this['mat'][0xe])/_0x55550d,_0x5acad9['mat'][0xd]=(this['mat'][0x1]*this['mat'][0xa]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x9]*this['mat'][0xc]+this['mat'][0x2]*this['mat'][0x8]*this['mat'][0xd]-this['mat'][0x0]*this['mat'][0xa]*this['mat'][0xd]-this['mat'][0x1]*this['mat'][0x8]*this['mat'][0xe]+this['mat'][0x0]*this['mat'][0x9]*this['mat'][0xe])/_0x55550d,_0x5acad9['mat'][0xe]=(this['mat'][0x2]*this['mat'][0x5]*this['mat'][0xc]-this['mat'][0x1]*this['mat'][0x6]*this['mat'][0xc]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0xd]+this['mat'][0x0]*this['mat'][0x6]*this['mat'][0xd]+this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xe]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xe])/_0x55550d,_0x5acad9['mat'][0xf]=(this['mat'][0x1]*this['mat'][0x6]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x5]*this['mat'][0x8]+this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x9]-this['mat'][0x0]*this['mat'][0x6]*this['mat'][0x9]-this['mat'][0x1]*this['mat'][0x4]*this['mat'][0xa]+this['mat'][0x0]*this['mat'][0x5]*this['mat'][0xa])/_0x55550d,_0x5acad9;}['invert'](){const _0x17051d=this['inverse']();this['copy'](_0x17051d);}['transpose'](){return B['fromRowMajor'](this['mat'][0x0],this['mat'][0x1],this['mat'][0x2],this['mat'][0x3],this['mat'][0x4],this['mat'][0x5],this['mat'][0x6],this['mat'][0x7],this['mat'][0x8],this['mat'][0x9],this['mat'][0xa],this['mat'][0xb],this['mat'][0xc],this['mat'][0xd],this['mat'][0xe],this['mat'][0xf]);}['setEulerAngles'](_0x34c4a5,_0x3ed83d,_0x32dff3,_0x5bdadc='YZX'){const _0x2c73d9=Math['cos'](_0x34c4a5),_0x554bc7=Math['sin'](_0x34c4a5),_0x2d2f2b=Math['cos'](_0x3ed83d),_0x3c0217=Math['sin'](_0x3ed83d),_0xfcf28b=Math['cos'](_0x32dff3),_0x590c1c=Math['sin'](_0x32dff3);if(_0x5bdadc=='XYZ'){const _0x45f05c=_0x2c73d9*_0xfcf28b,_0x2da083=_0x2c73d9*_0x590c1c,_0x1b0bba=_0x554bc7*_0xfcf28b,_0x1d088c=_0x554bc7*_0x590c1c;this['mat'][0x0]=_0x2d2f2b*_0xfcf28b,this['mat'][0x4]=-_0x2d2f2b*_0x590c1c,this['mat'][0x8]=_0x3c0217,this['mat'][0x1]=_0x2da083+_0x1b0bba*_0x3c0217,this['mat'][0x5]=_0x45f05c-_0x1d088c*_0x3c0217,this['mat'][0x9]=-_0x554bc7*_0x2d2f2b,this['mat'][0x2]=_0x1d088c-_0x45f05c*_0x3c0217,this['mat'][0x6]=_0x1b0bba+_0x2da083*_0x3c0217,this['mat'][0xa]=_0x2c73d9*_0x2d2f2b;}else if(_0x5bdadc=='YXZ'){const _0x1dfb82=_0x2d2f2b*_0xfcf28b,_0x1623ec=_0x2d2f2b*_0x590c1c,_0x3b6278=_0x3c0217*_0xfcf28b,_0x123c34=_0x3c0217*_0x590c1c;this['mat'][0x0]=_0x1dfb82+_0x123c34*_0x554bc7,this['mat'][0x4]=_0x3b6278*_0x554bc7-_0x1623ec,this['mat'][0x8]=_0x2c73d9*_0x3c0217,this['mat'][0x1]=_0x2c73d9*_0x590c1c,this['mat'][0x5]=_0x2c73d9*_0xfcf28b,this['mat'][0x9]=-_0x554bc7,this['mat'][0x2]=_0x1623ec*_0x554bc7-_0x3b6278,this['mat'][0x6]=_0x123c34+_0x1dfb82*_0x554bc7,this['mat'][0xa]=_0x2c73d9*_0x2d2f2b;}else if(_0x5bdadc=='ZXY'){const _0x32128e=_0x2d2f2b*_0xfcf28b,_0x3a18d0=_0x2d2f2b*_0x590c1c,_0x1bff4c=_0x3c0217*_0xfcf28b,_0x286ccd=_0x3c0217*_0x590c1c;this['mat'][0x0]=_0x32128e-_0x286ccd*_0x554bc7,this['mat'][0x4]=-_0x2c73d9*_0x590c1c,this['mat'][0x8]=_0x1bff4c+_0x3a18d0*_0x554bc7,this['mat'][0x1]=_0x3a18d0+_0x1bff4c*_0x554bc7,this['mat'][0x5]=_0x2c73d9*_0xfcf28b,this['mat'][0x9]=_0x286ccd-_0x32128e*_0x554bc7,this['mat'][0x2]=-_0x2c73d9*_0x3c0217,this['mat'][0x6]=_0x554bc7,this['mat'][0xa]=_0x2c73d9*_0x2d2f2b;}else if(_0x5bdadc==='ZYX'){const _0x48c1c8=_0x2c73d9*_0xfcf28b,_0x538c3c=_0x2c73d9*_0x590c1c,_0x35c453=_0x554bc7*_0xfcf28b,_0x1c2b8f=_0x554bc7*_0x590c1c;this['mat'][0x0]=_0x2d2f2b*_0xfcf28b,this['mat'][0x4]=_0x35c453*_0x3c0217-_0x538c3c,this['mat'][0x8]=_0x48c1c8*_0x3c0217+_0x1c2b8f,this['mat'][0x1]=_0x2d2f2b*_0x590c1c,this['mat'][0x5]=_0x1c2b8f*_0x3c0217+_0x48c1c8,this['mat'][0x9]=_0x538c3c*_0x3c0217-_0x35c453,this['mat'][0x2]=-_0x3c0217,this['mat'][0x6]=_0x554bc7*_0x2d2f2b,this['mat'][0xa]=_0x2c73d9*_0x2d2f2b;}else if(_0x5bdadc==='YZX'){const _0x5ee557=_0x2c73d9*_0x2d2f2b,_0xb25f6e=_0x2c73d9*_0x3c0217,_0x269bd1=_0x554bc7*_0x2d2f2b,_0x35ce65=_0x554bc7*_0x3c0217;this['mat'][0x0]=_0x2d2f2b*_0xfcf28b,this['mat'][0x4]=_0x35ce65-_0x5ee557*_0x590c1c,this['mat'][0x8]=_0x269bd1*_0x590c1c+_0xb25f6e,this['mat'][0x1]=_0x590c1c,this['mat'][0x5]=_0x2c73d9*_0xfcf28b,this['mat'][0x9]=-_0x554bc7*_0xfcf28b,this['mat'][0x2]=-_0x3c0217*_0xfcf28b,this['mat'][0x6]=_0xb25f6e*_0x590c1c+_0x269bd1,this['mat'][0xa]=_0x5ee557-_0x35ce65*_0x590c1c;}else if(_0x5bdadc==='XZY'){const _0x46356b=_0x2c73d9*_0x2d2f2b,_0x25daa0=_0x2c73d9*_0x3c0217,_0x41bd74=_0x554bc7*_0x2d2f2b,_0x3c0119=_0x554bc7*_0x3c0217;this['mat'][0x0]=_0x2d2f2b*_0xfcf28b,this['mat'][0x4]=-_0x590c1c,this['mat'][0x8]=_0x3c0217*_0xfcf28b,this['mat'][0x1]=_0x46356b*_0x590c1c+_0x3c0119,this['mat'][0x5]=_0x2c73d9*_0xfcf28b,this['mat'][0x9]=_0x25daa0*_0x590c1c-_0x41bd74,this['mat'][0x2]=_0x41bd74*_0x590c1c-_0x25daa0,this['mat'][0x6]=_0x554bc7*_0xfcf28b,this['mat'][0xa]=_0x3c0119*_0x590c1c+_0x46356b;}this['mat'][0x3]=0x0,this['mat'][0x7]=0x0,this['mat'][0xb]=0x0,this['mat'][0xc]=0x0,this['mat'][0xd]=0x0,this['mat'][0xe]=0x0,this['mat'][0xf]=0x1;}['compose'](_0x14c7dd=m['ZERO'],_0x2d8a7f=D['IDENTITY'],_0xde7611=m['ONE']){this['setTranslation'](_0x14c7dd),this['multiply'](_0x2d8a7f['getMatrix']()),this['multiply'](B['makeScale'](_0xde7611));}['decompose'](){const _0x61cdd1=new m(),_0x56975b=new D(),_0x194ec6=new m();_0x61cdd1['setPositionFromMatrix'](this),_0x194ec6['setScaleFromMatrix'](this);const _0x47aafd=new B();return _0x47aafd['mat'][0x0]=this['mat'][0x0]/_0x194ec6['x'],_0x47aafd['mat'][0x1]=this['mat'][0x1]/_0x194ec6['x'],_0x47aafd['mat'][0x2]=this['mat'][0x2]/_0x194ec6['x'],_0x47aafd['mat'][0x3]=0x0,_0x47aafd['mat'][0x4]=this['mat'][0x4]/_0x194ec6['y'],_0x47aafd['mat'][0x5]=this['mat'][0x5]/_0x194ec6['y'],_0x47aafd['mat'][0x6]=this['mat'][0x6]/_0x194ec6['y'],_0x47aafd['mat'][0x7]=0x0,_0x47aafd['mat'][0x8]=this['mat'][0x8]/_0x194ec6['z'],_0x47aafd['mat'][0x9]=this['mat'][0x9]/_0x194ec6['z'],_0x47aafd['mat'][0xa]=this['mat'][0xa]/_0x194ec6['z'],_0x47aafd['mat'][0xb]=0x0,_0x47aafd['mat'][0xc]=0x0,_0x47aafd['mat'][0xd]=0x0,_0x47aafd['mat'][0xe]=0x0,_0x47aafd['mat'][0xf]=0x1,_0x56975b['setMatrix'](_0x47aafd),[_0x61cdd1,_0x56975b,_0x194ec6];}};let j=B;o(j,'IDENTITY',new B());class vt{constructor(){o(this,'min');o(this,'max');this['min']=new m(),this['max']=new m();}['copy'](_0x1e5b79){this['min']['copy'](_0x1e5b79['min']),this['max']['copy'](_0x1e5b79['max']);}['transform'](_0x3d6631,_0x2bb64c,_0x42fdde){this['min']['multiply'](_0x42fdde),this['max']['multiply'](_0x42fdde);const _0x2e936d=[];_0x2e936d['push'](new m(this['min']['x'],this['min']['y'],this['min']['z'])),_0x2e936d['push'](new m(this['min']['x'],this['min']['y'],this['max']['z'])),_0x2e936d['push'](new m(this['min']['x'],this['max']['y'],this['min']['z'])),_0x2e936d['push'](new m(this['min']['x'],this['max']['y'],this['max']['z'])),_0x2e936d['push'](new m(this['max']['x'],this['min']['y'],this['min']['z'])),_0x2e936d['push'](new m(this['max']['x'],this['min']['y'],this['max']['z'])),_0x2e936d['push'](new m(this['max']['x'],this['max']['y'],this['min']['z'])),_0x2e936d['push'](new m(this['max']['x'],this['max']['y'],this['max']['z'])),_0x2e936d['forEach'](_0x2fe5d2=>{_0x2fe5d2['rotate'](_0x2bb64c);}),this['min']['copy'](_0x2e936d[0x0]),this['max']['copy'](_0x2e936d[0x0]);for(let _0x3742a2=0x1;_0x3742a2<_0x2e936d['length'];_0x3742a2++)this['min']['x']=Math['min'](this['min']['x'],_0x2e936d[_0x3742a2]['x']),this['min']['y']=Math['min'](this['min']['y'],_0x2e936d[_0x3742a2]['y']),this['min']['z']=Math['min'](this['min']['z'],_0x2e936d[_0x3742a2]['z']),this['max']['x']=Math['max'](this['max']['x'],_0x2e936d[_0x3742a2]['x']),this['max']['y']=Math['max'](this['max']['y'],_0x2e936d[_0x3742a2]['y']),this['max']['z']=Math['max'](this['max']['z'],_0x2e936d[_0x3742a2]['z']);this['min']['add'](_0x3d6631),this['max']['add'](_0x3d6631);}['intersects'](_0x525d10){const _0x2147b1=m['add'](this['max'],this['min']);_0x2147b1['multiplyScalar'](0.5);const _0x25c371=m['add'](_0x525d10['max'],_0x525d10['min']);_0x25c371['multiplyScalar'](0.5);const _0x52573f=m['subtract'](this['max'],this['min']);_0x52573f['multiplyScalar'](0.5);const _0x4f9694=m['subtract'](_0x525d10['max'],_0x525d10['min']);return _0x4f9694['multiplyScalar'](0.5),Math['abs'](_0x2147b1['x']-_0x25c371['x'])>_0x52573f['x']+_0x4f9694['x']||Math['abs'](_0x2147b1['y']-_0x25c371['y'])>_0x52573f['y']+_0x4f9694['y']?!0x1:!(Math['abs'](_0x2147b1['z']-_0x25c371['z'])>_0x52573f['z']+_0x4f9694['z']);}['computeBounds'](_0x4359be){if(typeof _0x4359be[0x0]=='number'){const _0x403ed9=_0x4359be;this['max']['set'](_0x403ed9[0x0],_0x403ed9[0x1],_0x403ed9[0x2]),this['min']['set'](_0x403ed9[0x0],_0x403ed9[0x1],_0x403ed9[0x2]);for(let _0x29d20d=0x0;_0x29d20d<_0x403ed9['length'];_0x29d20d+=0x3)_0x403ed9[_0x29d20d]>this['max']['x']&&(this['max']['x']=_0x403ed9[_0x29d20d]),_0x403ed9[_0x29d20d]<this['min']['x']&&(this['min']['x']=_0x403ed9[_0x29d20d]),_0x403ed9[_0x29d20d+0x1]>this['max']['y']&&(this['max']['y']=_0x403ed9[_0x29d20d+0x1]),_0x403ed9[_0x29d20d+0x1]<this['min']['y']&&(this['min']['y']=_0x403ed9[_0x29d20d+0x1]),_0x403ed9[_0x29d20d+0x2]>this['max']['z']&&(this['max']['z']=_0x403ed9[_0x29d20d+0x2]),_0x403ed9[_0x29d20d+0x2]<this['min']['z']&&(this['min']['z']=_0x403ed9[_0x29d20d+0x2]);}else this['max']['copy'](_0x4359be[0x0]),this['min']['copy'](_0x4359be[0x0]),_0x4359be['forEach'](_0x31610c=>{_0x31610c['x']>this['max']['x']&&(this['max']['x']=_0x31610c['x']),_0x31610c['x']<this['min']['x']&&(this['min']['x']=_0x31610c['x']),_0x31610c['y']>this['max']['y']&&(this['max']['y']=_0x31610c['y']),_0x31610c['y']<this['min']['y']&&(this['min']['y']=_0x31610c['y']),_0x31610c['z']>this['max']['z']&&(this['max']['z']=_0x31610c['z']),_0x31610c['z']<this['min']['z']&&(this['min']['z']=_0x31610c['z']);});}}class Ct{constructor(){o(this,'center');o(this,'radius');this['center']=new m(),this['radius']=0x0;}['copy'](_0x3c7dca){this['center']['copy'](_0x3c7dca['center']),this['radius']=_0x3c7dca['radius'];}['transform'](_0x781bd4,_0xd4a63d){this['center']['multiply'](_0xd4a63d),this['center']['add'](_0x781bd4),_0xd4a63d['x']>=_0xd4a63d['y']?this['radius']*=_0xd4a63d['x']:this['radius']*=_0xd4a63d['y'];}['intersects'](_0x248254){return this['center']['distanceTo'](_0x248254['center'])<this['radius']+_0x248254['radius'];}['computeBounds'](_0x502c0c,_0xf3727b){if(this['center']['copy'](_0xf3727b['min']),this['center']['add'](_0xf3727b['max']),this['center']['multiplyScalar'](0.5),this['radius']=0x0,typeof _0x502c0c[0x0]=='number'){const _0xcb63be=_0x502c0c;for(let _0x30a7e1=0x0;_0x30a7e1<_0xcb63be['length'];_0x30a7e1+=0x3){const _0x4fce84=Math['sqrt']((_0xcb63be[_0x30a7e1]-this['center']['x'])*(_0xcb63be[_0x30a7e1]-this['center']['x'])+(_0xcb63be[_0x30a7e1+0x1]-this['center']['y'])*(_0xcb63be[_0x30a7e1+0x1]-this['center']['y'])+(_0xcb63be[_0x30a7e1+0x2]-this['center']['z'])*(_0xcb63be[_0x30a7e1+0x2]-this['center']['z']));_0x4fce84>this['radius']&&(this['radius']=_0x4fce84);}}else _0x502c0c['forEach'](_0x2b5409=>{const _0x1fd066=_0x2b5409['distanceTo'](this['center']);_0x1fd066>this['radius']&&(this['radius']=_0x1fd066);});}}class G{constructor(){o(this,'children');o(this,'position');o(this,'rotation');o(this,'scale');o(this,'visible');o(this,'autoUpdateMatrix');o(this,'matrix');o(this,'worldMatrix');o(this,'parent');o(this,'boundingBox');o(this,'boundingSphere');this['children']=[],this['position']=new m(),this['rotation']=new D(),this['scale']=new m(0x1,0x1,0x1),this['visible']=!0x0,this['autoUpdateMatrix']=!0x0,this['matrix']=new j(),this['worldMatrix']=new j(),this['parent']=null,this['boundingBox']=new vt(),this['boundingSphere']=new Ct();}['draw'](_0x413f43,_0x13f1b9,_0x509df4){!this['visible']||this['children']['forEach'](_0x4e5962=>{_0x4e5962['draw'](this,_0x13f1b9,_0x509df4);});}['traverseSceneGraph'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']),this['children']['forEach'](_0x4913cf=>{_0x4913cf['traverseSceneGraph']();});}['updateWorldMatrix'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['parent']['updateWorldMatrix'](),this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']);}['add'](_0x4375aa){this['children']['push'](_0x4375aa),_0x4375aa['parent']=this;}['remove'](){return this['parent']==null?!0x1:this['parent']['removeChild'](this)!=null;}['removeChild'](_0x2bee18){const _0x37bff1=this['children']['indexOf'](_0x2bee18);if(_0x37bff1==-0x1)return null;{const _0x476807=this['children']['splice'](_0x37bff1,0x1);return _0x476807[0x0]['parent']=null,_0x476807[0x0];}}['setLights'](_0x2817eb){this['children']['forEach'](_0xd15e87=>{_0xd15e87['setLights'](_0x2817eb);});}['translate'](_0x13c26b){this['position']['add'](m['rotate'](_0x13c26b,this['rotation']));}['translateX'](_0x4d928a){this['position']['add'](m['rotate'](new m(_0x4d928a,0x0,0x0),this['rotation']));}['translateY'](_0x423f8a){this['position']['add'](m['rotate'](new m(0x0,_0x423f8a,0x0),this['rotation']));}['translateZ'](_0x39c3d9){this['position']['add'](m['rotate'](new m(0x0,0x0,_0x39c3d9),this['rotation']));}['rotate'](_0x574e2c){this['rotation']['multiply'](D['makeEulerAngles'](_0x574e2c['x'],_0x574e2c['y'],_0x574e2c['z']));}['rotateX'](_0x4cf04b){this['rotation']['multiply'](D['makeRotationX'](_0x4cf04b));}['rotateY'](_0x4b455c){this['rotation']['multiply'](D['makeRotationY'](_0x4b455c));}['rotateZ'](_0x414cf5){this['rotation']['multiply'](D['makeRotationZ'](_0x414cf5));}['lookAt'](_0x16295e,_0x2b249=m['UP']){this['updateWorldMatrix']();const [_0x5b3f3b,_0xdb2f0b,_0x5c78df]=this['worldMatrix']['decompose']();this['rotation']['lookAt'](_0x5b3f3b,_0x16295e,_0x2b249);}['intersects'](_0x51019c,_0x34e178=0x0){if(_0x34e178==0x0){const _0x593ff1=new Ct();_0x593ff1['copy'](this['boundingSphere']),_0x593ff1['transform'](this['position'],this['scale']);const _0x629949=new Ct();return _0x629949['copy'](_0x51019c['boundingSphere']),_0x629949['transform'](_0x51019c['position'],_0x51019c['scale']),_0x593ff1['intersects'](_0x629949);}else if(_0x34e178==0x1){const _0x57430f=new vt();_0x57430f['copy'](this['boundingBox']),_0x57430f['transform'](this['position'],this['rotation'],this['scale']);const _0x5921ed=new vt();return _0x5921ed['copy'](_0x51019c['boundingBox']),_0x5921ed['transform'](_0x51019c['position'],_0x51019c['rotation'],_0x51019c['scale']),_0x57430f['intersects'](_0x5921ed);}else return!0x1;}}class $t extends G{constructor(){super();o(this,'aspectRatio');o(this,'fov');o(this,'near');o(this,'far');o(this,'left');o(this,'right');o(this,'projectionMatrix');o(this,'viewMatrix');o(this,'projectionMatrixDirty');this['fov']=0x0,this['aspectRatio']=0x0,this['near']=0x0,this['far']=0x0,this['left']=0x0,this['right']=0x0,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']=new j(),this['viewMatrix']=new j();}['setPerspectiveCamera'](_0x1c0778,_0x139e4c,_0x32d5ee,_0x39527c){this['fov']=_0x1c0778,this['aspectRatio']=_0x139e4c,this['near']=_0x32d5ee,this['far']=_0x39527c,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']['setPerspective'](_0x1c0778,_0x139e4c,_0x32d5ee,_0x39527c);}['setOrthographicCamera'](_0x5c9eff,_0x50e5cc,_0x162a5f,_0x36542d,_0x1c493e,_0x5464da){this['left']=_0x5c9eff,this['right']=_0x50e5cc,this['aspectRatio']=Math['abs']((_0x50e5cc-_0x5c9eff)/(_0x36542d-_0x162a5f)),this['near']=_0x1c493e,this['far']=_0x5464da,this['projectionMatrixDirty']=!0x0,this['projectionMatrix']['setOrthographic'](_0x5c9eff,_0x50e5cc,_0x162a5f,_0x36542d,_0x1c493e,_0x5464da);}['updateWorldMatrix'](){super['updateWorldMatrix'](),this['viewMatrix']=this['worldMatrix']['inverse']();}['getAspectRatio'](){return this['aspectRatio'];}['getNear'](){return this['near'];}['getFar'](){return this['far'];}['getLeft'](){return this['left'];}['getRight'](){return this['right'];}}const F=class{constructor(){o(this,'mat');this['mat']=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1];}static['multiply'](_0x175c57,_0x108803){const _0x540d2a=new F();return _0x540d2a['mat'][0x0]=_0x175c57['mat'][0x0]*_0x108803['mat'][0x0]+_0x175c57['mat'][0x1]*_0x108803['mat'][0x3]+_0x175c57['mat'][0x2]*_0x108803['mat'][0x6],_0x540d2a['mat'][0x1]=_0x175c57['mat'][0x0]*_0x108803['mat'][0x1]+_0x175c57['mat'][0x1]*_0x108803['mat'][0x4]+_0x175c57['mat'][0x2]*_0x108803['mat'][0x7],_0x540d2a['mat'][0x2]=_0x175c57['mat'][0x0]*_0x108803['mat'][0x2]+_0x175c57['mat'][0x1]*_0x108803['mat'][0x5]+_0x175c57['mat'][0x2]*_0x108803['mat'][0x8],_0x540d2a['mat'][0x3]=_0x175c57['mat'][0x3]*_0x108803['mat'][0x0]+_0x175c57['mat'][0x4]*_0x108803['mat'][0x3]+_0x175c57['mat'][0x5]*_0x108803['mat'][0x6],_0x540d2a['mat'][0x4]=_0x175c57['mat'][0x3]*_0x108803['mat'][0x1]+_0x175c57['mat'][0x4]*_0x108803['mat'][0x4]+_0x175c57['mat'][0x5]*_0x108803['mat'][0x7],_0x540d2a['mat'][0x5]=_0x175c57['mat'][0x3]*_0x108803['mat'][0x2]+_0x175c57['mat'][0x4]*_0x108803['mat'][0x5]+_0x175c57['mat'][0x5]*_0x108803['mat'][0x8],_0x540d2a['mat'][0x6]=_0x175c57['mat'][0x6]*_0x108803['mat'][0x0]+_0x175c57['mat'][0x7]*_0x108803['mat'][0x3]+_0x175c57['mat'][0x8]*_0x108803['mat'][0x6],_0x540d2a['mat'][0x7]=_0x175c57['mat'][0x6]*_0x108803['mat'][0x1]+_0x175c57['mat'][0x7]*_0x108803['mat'][0x4]+_0x175c57['mat'][0x8]*_0x108803['mat'][0x7],_0x540d2a['mat'][0x8]=_0x175c57['mat'][0x6]*_0x108803['mat'][0x2]+_0x175c57['mat'][0x7]*_0x108803['mat'][0x5]+_0x175c57['mat'][0x8]*_0x108803['mat'][0x8],_0x540d2a;}static['copy'](_0x4b2247){const _0x1b0fb1=new F();return _0x1b0fb1['copy'](_0x4b2247),_0x1b0fb1;}static['fromRowMajor'](_0x518ec1,_0x1bbd22,_0x1c987a,_0x558621,_0x2627d0,_0xda48b,_0x2b48a9,_0x3381a5,_0x1dfe3b){const _0x2fd920=new F();return _0x2fd920['setRowMajor'](_0x518ec1,_0x1bbd22,_0x1c987a,_0x558621,_0x2627d0,_0xda48b,_0x2b48a9,_0x3381a5,_0x1dfe3b),_0x2fd920;}static['fromColumnMajor'](_0x580778,_0x29731a,_0x4f83dd,_0x250733,_0x478baa,_0x40cdc2,_0x240ad8,_0x324156,_0x36ca7c){const _0x1c5ef5=new F();return _0x1c5ef5['setColumnMajor'](_0x580778,_0x29731a,_0x4f83dd,_0x250733,_0x478baa,_0x40cdc2,_0x240ad8,_0x324156,_0x36ca7c),_0x1c5ef5;}static['makeTranslation'](_0x545698){return F['fromRowMajor'](0x1,0x0,_0x545698['x'],0x0,0x1,_0x545698['y'],0x0,0x0,0x1);}static['makeRotation'](_0x32578a){const _0x929f47=Math['cos'](_0x32578a),_0x3bb531=Math['sin'](_0x32578a);return F['fromRowMajor'](_0x929f47,-_0x3bb531,0x0,_0x3bb531,_0x929f47,0x0,0x0,0x0,0x1);}static['makeScale'](_0x5647b8){return F['fromRowMajor'](_0x5647b8['x'],0x0,0x0,0x0,_0x5647b8['y'],0x0,0x0,0x0,0x1);}static['compose'](_0x5a79df=x['ZERO'],_0x36a734=0x0,_0x1abbb1=x['ONE']){const _0xc3c111=new F();return _0xc3c111['compose'](_0x5a79df,_0x36a734,_0x1abbb1),_0xc3c111;}['setColumnMajor'](_0x7e1f98,_0x472653,_0x559fec,_0x2617c0,_0x57fee3,_0x1e3918,_0x379143,_0x2d1987,_0x22e424){this['mat'][0x0]=_0x7e1f98,this['mat'][0x1]=_0x472653,this['mat'][0x2]=_0x559fec,this['mat'][0x3]=_0x2617c0,this['mat'][0x4]=_0x57fee3,this['mat'][0x5]=_0x1e3918,this['mat'][0x6]=_0x379143,this['mat'][0x7]=_0x2d1987,this['mat'][0x8]=_0x22e424;}['setRowMajor'](_0x4a05c8,_0x5c5789,_0x1fcd9f,_0x41c056,_0x54de3c,_0x1d7ab9,_0x144ee4,_0x40871b,_0x449626){this['mat'][0x0]=_0x4a05c8,this['mat'][0x1]=_0x41c056,this['mat'][0x2]=_0x144ee4,this['mat'][0x3]=_0x5c5789,this['mat'][0x4]=_0x54de3c,this['mat'][0x5]=_0x40871b,this['mat'][0x6]=_0x1fcd9f,this['mat'][0x7]=_0x1d7ab9,this['mat'][0x8]=_0x449626;}['copy'](_0x37fc18){for(let _0x5c23b0=0x0;_0x5c23b0<0x9;_0x5c23b0++)this['mat'][_0x5c23b0]=_0x37fc18['mat'][_0x5c23b0];}['element'](_0x2b5cda,_0x223752){return this['mat'][_0x223752*0x3+_0x2b5cda];}['set'](_0x6d28ca,_0x3c8825,_0x3084e3){this['mat'][_0x3084e3*0x3+_0x3c8825]=_0x6d28ca;}['multiply'](_0x17a847){const _0x52dc1a=F['multiply'](_0x17a847,this);this['copy'](_0x52dc1a);}['setTranslation'](_0x41e27a){this['setRowMajor'](0x1,0x0,_0x41e27a['x'],0x0,0x1,_0x41e27a['y'],0x0,0x0,0x1);}['setRotation'](_0x5e4f19){const _0x23ec46=Math['cos'](_0x5e4f19),_0xc933f5=Math['sin'](_0x5e4f19);this['setRowMajor'](_0x23ec46,-_0xc933f5,0x0,_0xc933f5,_0x23ec46,0x0,0x0,0x0,0x1);}['setScale'](_0xdfebc9){this['setRowMajor'](_0xdfebc9['x'],0x0,0x0,0x0,_0xdfebc9['y'],0x0,0x0,0x0,0x1);}['multiplyScalar'](_0x30f073){for(let _0x35bb23=0x0;_0x35bb23<0x9;_0x35bb23++)this['mat'][_0x35bb23]*=_0x30f073;}['inverse'](){const _0x204fbc=new F(),_0x2c58ed=this['mat'][0x0]*this['mat'][0x4]*this['mat'][0x8]+this['mat'][0x1]*this['mat'][0x5]*this['mat'][0x6]+this['mat'][0x2]*this['mat'][0x3]*this['mat'][0x7]-this['mat'][0x0]*this['mat'][0x5]*this['mat'][0x7]-this['mat'][0x1]*this['mat'][0x3]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x4]*this['mat'][0x6];return this['mat'][0x0]=(this['mat'][0x4]*this['mat'][0x8]-this['mat'][0x5]*this['mat'][0x7])/_0x2c58ed,this['mat'][0x1]=(this['mat'][0x2]*this['mat'][0x7]-this['mat'][0x1]*this['mat'][0x8])/_0x2c58ed,this['mat'][0x2]=(this['mat'][0x1]*this['mat'][0x5]-this['mat'][0x2]*this['mat'][0x4])/_0x2c58ed,this['mat'][0x3]=(this['mat'][0x5]*this['mat'][0x6]-this['mat'][0x3]*this['mat'][0x8])/_0x2c58ed,this['mat'][0x4]=(this['mat'][0x0]*this['mat'][0x8]-this['mat'][0x2]*this['mat'][0x6])/_0x2c58ed,this['mat'][0x5]=(this['mat'][0x2]*this['mat'][0x3]-this['mat'][0x0]*this['mat'][0x5])/_0x2c58ed,this['mat'][0x6]=(this['mat'][0x3]*this['mat'][0x7]-this['mat'][0x4]*this['mat'][0x6])/_0x2c58ed,this['mat'][0x7]=(this['mat'][0x1]*this['mat'][0x6]-this['mat'][0x0]*this['mat'][0x7])/_0x2c58ed,this['mat'][0x8]=(this['mat'][0x0]*this['mat'][0x4]-this['mat'][0x1]*this['mat'][0x3])/_0x2c58ed,_0x204fbc;}['invert'](){const _0x411bb3=this['inverse']();this['copy'](_0x411bb3);}['transpose'](){return F['fromRowMajor'](this['mat'][0x0],this['mat'][0x1],this['mat'][0x2],this['mat'][0x3],this['mat'][0x4],this['mat'][0x5],this['mat'][0x6],this['mat'][0x7],this['mat'][0x8]);}['compose'](_0x3cea42=x['ZERO'],_0x431b49=0x0,_0x1e6e29=x['ONE']){this['setTranslation'](_0x3cea42),this['multiply'](F['makeRotation'](_0x431b49)),this['multiply'](F['makeScale'](_0x1e6e29));}['decompose'](){const _0x2c59a1=new x(),_0x183f0f=new x();return _0x2c59a1['setPositionFromMatrix'](this),_0x183f0f['setScaleFromMatrix'](this),[_0x2c59a1,Math['atan2'](this['mat'][0x1],this['mat'][0x0]),_0x183f0f];}};let lt=F;o(lt,'IDENTITY',new F());class St{constructor(){o(this,'min');o(this,'max');this['min']=new x(),this['max']=new x();}['copy'](_0x4cc92d){this['min']['copy'](_0x4cc92d['min']),this['max']['copy'](_0x4cc92d['max']);}['transform'](_0x50da85,_0x18d6c5,_0x56bcbd){this['min']['multiply'](_0x56bcbd),this['max']['multiply'](_0x56bcbd);const _0x4a4b28=new x(this['min']['x'],this['max']['y']),_0xf21ac4=new x(this['max']['x'],this['max']['y']),_0x4f78da=new x(this['min']['x'],this['min']['y']),_0x27506=new x(this['max']['x'],this['min']['y']);_0x4a4b28['rotate'](_0x18d6c5),_0xf21ac4['rotate'](_0x18d6c5),_0x4f78da['rotate'](_0x18d6c5),_0x27506['rotate'](_0x18d6c5),this['min']['x']=Math['min'](_0x4a4b28['x'],Math['min'](_0xf21ac4['x'],Math['min'](_0x4f78da['x'],_0x27506['x']))),this['min']['y']=Math['min'](_0x4a4b28['y'],Math['min'](_0xf21ac4['y'],Math['min'](_0x4f78da['y'],_0x27506['y']))),this['max']['x']=Math['max'](_0x4a4b28['x'],Math['max'](_0xf21ac4['x'],Math['max'](_0x4f78da['x'],_0x27506['x']))),this['max']['y']=Math['max'](_0x4a4b28['y'],Math['max'](_0xf21ac4['y'],Math['max'](_0x4f78da['y'],_0x27506['y']))),this['min']['add'](_0x50da85),this['max']['add'](_0x50da85);}['intersects'](_0x3a19d3){const _0x205708=x['add'](this['max'],this['min']);_0x205708['multiplyScalar'](0.5);const _0x3e2358=x['add'](_0x3a19d3['max'],_0x3a19d3['min']);_0x3e2358['multiplyScalar'](0.5);const _0xa8a486=x['subtract'](this['max'],this['min']);_0xa8a486['multiplyScalar'](0.5);const _0x3ae76f=x['subtract'](_0x3a19d3['max'],_0x3a19d3['min']);return _0x3ae76f['multiplyScalar'](0.5),Math['abs'](_0x205708['x']-_0x3e2358['x'])>_0xa8a486['x']+_0x3ae76f['x']?!0x1:!(Math['abs'](_0x205708['y']-_0x3e2358['y'])>_0xa8a486['y']+_0x3ae76f['y']);}}class Dt{constructor(){o(this,'center');o(this,'radius');this['center']=new x(),this['radius']=0x0;}['copy'](_0x17b852){this['center']['copy'](_0x17b852['center']),this['radius']=_0x17b852['radius'];}['transform'](_0x322c23,_0x25a277){this['center']['multiply'](_0x25a277),this['center']['add'](_0x322c23),_0x25a277['x']>=_0x25a277['y']?this['radius']*=_0x25a277['x']:this['radius']*=_0x25a277['y'];}['intersects'](_0x448257){return this['center']['distanceTo'](_0x448257['center'])<this['radius']+_0x448257['radius'];}}class qt{constructor(){o(this,'children');o(this,'parent');o(this,'position');o(this,'rotation');o(this,'scale');o(this,'layer');o(this,'autoUpdateMatrix');o(this,'matrix');o(this,'worldMatrix');o(this,'visible');o(this,'boundingBox');o(this,'boundingCircle');this['children']=[],this['position']=new x(),this['rotation']=0x0,this['scale']=new x(0x1,0x1),this['autoUpdateMatrix']=!0x0,this['matrix']=new lt(),this['worldMatrix']=new lt(),this['layer']=0x0,this['visible']=!0x0,this['parent']=null,this['boundingBox']=new St(),this['boundingCircle']=new Dt();}['draw'](_0x5a5b19){!this['visible']||this['children']['forEach'](_0x46d5bf=>{_0x46d5bf['draw'](this);});}['traverseSceneGraph'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']),this['children']['forEach'](_0x4dd799=>{_0x4dd799['traverseSceneGraph']();});}['updateWorldMatrix'](){this['autoUpdateMatrix']&&this['matrix']['compose'](this['position'],this['rotation'],this['scale']),this['parent']?(this['parent']['updateWorldMatrix'](),this['worldMatrix']['copy'](this['parent']['worldMatrix']),this['worldMatrix']['multiply'](this['matrix'])):this['worldMatrix']['copy'](this['matrix']);}['add'](_0x135528){this['children']['push'](_0x135528),_0x135528['parent']=this;}['remove'](){return this['parent']==null?!0x1:this['parent']['removeChild'](this)!=null;}['removeChild'](_0x5f0558){const _0x418eaf=this['children']['indexOf'](_0x5f0558);if(_0x418eaf==-0x1)return null;{const _0x103fee=this['children']['splice'](_0x418eaf,0x1);return _0x103fee[0x0]['parent']=null,_0x103fee[0x0];}}['translate'](_0x1ae5a7){const _0x38dec6=x['rotate'](_0x1ae5a7,this['rotation']);this['position']['add'](_0x38dec6);}['translateX'](_0x4e5a65){const _0x580486=x['rotate'](new x(_0x4e5a65,0x0),this['rotation']);this['position']['add'](_0x580486);}['translateY'](_0x5b4291){const _0x3f6e33=x['rotate'](new x(0x0,_0x5b4291),this['rotation']);this['position']['add'](_0x3f6e33);}['lookAt'](_0x2caebd,_0x1cfb18=x['UP']){this['updateWorldMatrix']();const [_0x3462af,_0x354f87,_0x59ca0a]=this['worldMatrix']['decompose'](),_0x195809=x['subtract'](_0x2caebd,_0x3462af);if(_0x195809['length']()>0x0){const _0x34d2b0=x['rotate'](_0x1cfb18,_0x354f87);this['rotation']+=_0x34d2b0['angleBetweenSigned'](_0x195809);}}['intersects'](_0x3b58a0,_0x185ede=0x0){if(_0x185ede==0x0){const _0x390d26=new Dt();_0x390d26['copy'](this['boundingCircle']),_0x390d26['transform'](this['position'],this['scale']);const _0x2fd869=new Dt();return _0x2fd869['copy'](_0x3b58a0['boundingCircle']),_0x2fd869['transform'](_0x3b58a0['position'],_0x3b58a0['scale']),_0x390d26['intersects'](_0x2fd869);}else if(_0x185ede==0x1){const _0x2603bb=new St();_0x2603bb['copy'](this['boundingBox']),_0x2603bb['transform'](this['position'],this['rotation'],this['scale']);const _0x3e6bb1=new St();return _0x3e6bb1['copy'](_0x3b58a0['boundingBox']),_0x3e6bb1['transform'](_0x3b58a0['position'],_0x3b58a0['rotation'],_0x3b58a0['scale']),_0x2603bb['intersects'](_0x3e6bb1);}else return!0x1;}}class Kt{constructor(){o(this,'lights');o(this,'lightTypes');o(this,'lightPositions');o(this,'ambientIntensities');o(this,'diffuseIntensities');o(this,'specularIntensities');this['lights']=[],this['lightTypes']=[],this['lightPositions']=[],this['ambientIntensities']=[],this['diffuseIntensities']=[],this['specularIntensities']=[];}['clear'](){this['lights']=[],this['lightTypes']=[],this['lightPositions']=[],this['ambientIntensities']=[],this['diffuseIntensities']=[],this['specularIntensities']=[];}['addLight'](_0x5896e8){this['lights']['some'](_0x8891d1=>_0x8891d1==_0x5896e8)||this['lights']['push'](_0x5896e8);}['getNumLights'](){return this['lights']['length'];}['updateLights'](){this['lights']['forEach'](_0x30b51c=>{const [_0x509a6b,_0x4de3f0,_0x5e2769]=_0x30b51c['worldMatrix']['decompose']();this['lightPositions']['push'](_0x509a6b['x'],_0x509a6b['y'],_0x509a6b['z']),this['lightTypes']['push'](_0x30b51c['getType']()),_0x30b51c['visible']?(this['ambientIntensities']['push'](_0x30b51c['ambientIntensity']['x'],_0x30b51c['ambientIntensity']['y'],_0x30b51c['ambientIntensity']['z']),this['diffuseIntensities']['push'](_0x30b51c['diffuseIntensity']['x'],_0x30b51c['diffuseIntensity']['y'],_0x30b51c['diffuseIntensity']['z']),this['specularIntensities']['push'](_0x30b51c['specularIntensity']['x'],_0x30b51c['specularIntensity']['y'],_0x30b51c['specularIntensity']['z'])):(this['ambientIntensities']['push'](0x0,0x0,0x0),this['diffuseIntensities']['push'](0x0,0x0,0x0),this['specularIntensities']['push'](0x0,0x0,0x0));});}}class Qt{constructor(){o(this,'root3d');o(this,'root2d');o(this,'lightManager');this['root3d']=new G(),this['root2d']=new qt(),this['lightManager']=new Kt();}['draw'](_0xd1b6f1){_0xd1b6f1['updateWorldMatrix'](),this['lightManager']['clear'](),this['root3d']['setLights'](this['lightManager']),this['lightManager']['updateLights'](),this['root3d']['children']['forEach'](_0xc458f2=>{_0xc458f2['draw'](this['root3d'],_0xd1b6f1,this['lightManager']);}),this['root2d']['children']['forEach'](_0x44f361=>{_0x44f361['draw'](this['root2d']);});}['add'](_0x57c56b){_0x57c56b instanceof G?this['root3d']['add'](_0x57c56b):this['root2d']['add'](_0x57c56b);}['traverseSceneGraph'](){this['root3d']['children']['forEach'](_0x55d6c2=>{_0x55d6c2['traverseSceneGraph']();}),this['root2d']['children']['forEach'](_0x4e30a8=>{_0x4e30a8['traverseSceneGraph']();});}}class ti{constructor(){o(this,'requestedAssets');o(this,'loadedAssets');o(this,'errorAssets');this['requestedAssets']=[],this['loadedAssets']=[],this['errorAssets']=[];}['allAssetsLoaded'](){return this['requestedAssets']['length']==this['loadedAssets']['length']+this['errorAssets']['length'];}}const Mt=class{constructor(_0x451ba8=!0x1){o(this,'renderer');o(this,'camera');o(this,'scene');o(this,'assetManager');o(this,'runInBackground');o(this,'time');o(this,'paused');o(this,'previousTouches');Mt['instance']=this,this['time']=Date['now'](),this['paused']=!0x1,this['camera']=new $t(),this['scene']=new Qt(),this['renderer']=new Zt(_0x451ba8),this['assetManager']=new ti(),this['runInBackground']=!0x1,this['previousTouches']=[new x()],window['addEventListener']('resize',()=>{this['resize']();},!0x1),window['addEventListener']('mousedown',_0x65200b=>{this['onMouseDown'](_0x65200b);}),window['addEventListener']('mouseup',_0x1ad24e=>{this['onMouseUp'](_0x1ad24e);}),window['addEventListener']('mousemove',_0x4f46aa=>{this['onMouseMove'](_0x4f46aa);}),window['addEventListener']('wheel',_0x95165c=>{this['onMouseWheel'](_0x95165c);}),window['addEventListener']('keydown',_0x2af213=>{this['onKeyDown'](_0x2af213);}),window['addEventListener']('keyup',_0x248cd0=>{this['onKeyUp'](_0x248cd0);}),window['addEventListener']('focus',_0x18d9c7=>{this['onFocusReceived'](_0x18d9c7);}),window['addEventListener']('blur',_0x383a6a=>{this['onFocusLost'](_0x383a6a);}),window['addEventListener']('touchstart',_0x4f5df3=>{this['onTouchStart'](_0x4f5df3);},{'passive':!0x1}),window['addEventListener']('touchmove',_0x1a7336=>{this['onTouchMove'](_0x1a7336);},{'passive':!0x1}),window['addEventListener']('touchend',_0x37f8e9=>{this['onTouchEnd'](_0x37f8e9);},{'passive':!0x1}),window['addEventListener']('touchcancel',_0x53f9cc=>{this['onTouchEnd'](_0x53f9cc);},{'passive':!0x1}),window['addEventListener']('contextmenu',_0x14998d=>_0x14998d['preventDefault']()),this['camera']['setOrthographicCamera'](0x0,0x1,0x0,0x1,0.01,0x1);}static['getInstance'](){return Mt['instance'];}['start'](){this['createScene'](),this['initializationLoop']();}['initializationLoop'](){this['assetManager']['allAssetsLoaded']()?(this['onAssetsLoaded'](),this['time']=Date['now'](),this['mainLoop']()):window['requestAnimationFrame'](()=>this['initializationLoop']());}['mainLoop'](){(this['runInBackground']||!this['paused'])&&(this['update']((Date['now']()-this['time'])/0x3e8),this['scene']['traverseSceneGraph'](),this['lateUpdate']((Date['now']()-this['time'])/0x3e8),this['renderer']['render'](this['scene'],this['camera']),this['time']=Date['now']()),window['requestAnimationFrame'](()=>this['mainLoop']());}['resize'](){this['renderer']['resize'](window['innerWidth'],window['innerHeight'],this['camera']['getAspectRatio']());}['onTouchStart'](_0x25e49c){_0x25e49c['touches']['length']==0x1&&this['simulateMouseEvent']('mousedown',_0x25e49c);}['onTouchMove'](_0x2173f7){_0x2173f7['preventDefault'](),_0x2173f7['touches']['length']==0x1?this['simulateMouseEvent']('mousemove',_0x2173f7):this['simulateWheelEvent'](_0x2173f7);}['onTouchEnd'](_0x153e09){_0x153e09['touches']['length']==0x0&&this['simulateMouseEvent']('mouseup',_0x153e09);}['onFocusReceived'](_0x69180){this['resume']();}['onFocusLost'](_0x1b7dfe){this['pause']();}['pause'](){this['paused']=!0x0;}['resume'](){this['time']=Date['now'](),this['paused']=!0x1;}['isPaused'](){return this['paused'];}['getNormalizedDeviceCoordinates'](_0x5a3a5e,_0x246f0b){return this['renderer']['getNormalizedDeviceCoordinates'](_0x5a3a5e,_0x246f0b);}['simulateMouseEvent'](_0x305907,_0x54f0da){if(this['previousTouches']['length']==0x1){const _0x16a68a=new MouseEvent(_0x305907,{'button':0x0,'buttons':0x1,'clientX':_0x54f0da['changedTouches'][0x0]['clientX'],'clientY':_0x54f0da['changedTouches'][0x0]['clientY'],'screenX':_0x54f0da['changedTouches'][0x0]['screenX'],'screenY':_0x54f0da['changedTouches'][0x0]['screenY'],'movementX':_0x54f0da['changedTouches'][0x0]['clientX']-this['previousTouches'][0x0]['x'],'movementY':_0x54f0da['changedTouches'][0x0]['clientY']-this['previousTouches'][0x0]['y'],'view':_0x54f0da['view'],'cancelable':!0x0,'bubbles':!0x0});_0x54f0da['target']['dispatchEvent'](_0x16a68a);}this['previousTouches']=[new x(_0x54f0da['changedTouches'][0x0]['clientX'],_0x54f0da['changedTouches'][0x0]['clientY'])];}['simulateWheelEvent'](_0x2695cc){if(this['previousTouches']['length']>0x1){const _0x3a30db=this['previousTouches'][0x0]['distanceTo'](this['previousTouches'][0x1]),_0x1692f2=Math['sqrt']((_0x2695cc['touches'][0x0]['clientX']-_0x2695cc['touches'][0x1]['clientX'])*(_0x2695cc['touches'][0x0]['clientX']-_0x2695cc['touches'][0x1]['clientX'])+(_0x2695cc['touches'][0x0]['clientY']-_0x2695cc['touches'][0x1]['clientY'])*(_0x2695cc['touches'][0x0]['clientY']-_0x2695cc['touches'][0x1]['clientY']));let _0xca6f91=0x0;_0x1692f2>_0x3a30db?_0xca6f91=-_0x1692f2/_0x3a30db:_0x1692f2<_0x3a30db&&(_0xca6f91=_0x3a30db/_0x1692f2);const _0x4cbba1=new WheelEvent('wheel',{'clientX':(_0x2695cc['touches'][0x0]['clientX']+_0x2695cc['touches'][0x1]['clientX'])/0x2,'clientY':(_0x2695cc['touches'][0x0]['clientY']+_0x2695cc['touches'][0x1]['clientY'])/0x2,'screenX':(_0x2695cc['touches'][0x0]['screenX']+_0x2695cc['touches'][0x1]['screenX'])/0x2,'screenY':(_0x2695cc['touches'][0x0]['screenY']+_0x2695cc['touches'][0x1]['screenY'])/0x2,'movementX':(_0x2695cc['touches'][0x0]['clientX']-this['previousTouches'][0x0]['x']+(_0x2695cc['touches'][0x1]['clientX']-this['previousTouches'][0x1]['x']))/0x2,'movementY':(_0x2695cc['touches'][0x0]['clientY']-this['previousTouches'][0x0]['y']+(_0x2695cc['touches'][0x1]['clientY']-this['previousTouches'][0x1]['y']))/0x2,'deltaX':0x0,'deltaY':0x32*_0xca6f91,'deltaZ':0x0,'deltaMode':WheelEvent['DOM_DELTA_PIXEL'],'view':_0x2695cc['view'],'cancelable':!0x0,'bubbles':!0x0});_0x2695cc['target']['dispatchEvent'](_0x4cbba1);}this['previousTouches']=[];for(let _0x34efeb=0x0;_0x34efeb<_0x2695cc['changedTouches']['length'];_0x34efeb++)this['previousTouches']['push'](new x(_0x2695cc['touches'][_0x34efeb]['clientX'],_0x2695cc['touches'][_0x34efeb]['clientY']));}['lateUpdate'](_0x3aacdc){}['onAssetsLoaded'](){}['onMouseDown'](_0x314318){}['onMouseUp'](_0x1610a2){}['onMouseMove'](_0x3b18ce){}['onMouseWheel'](_0x427cc3){}['onKeyDown'](_0x4ddfca){}['onKeyUp'](_0x918c31){}};let S=Mt;o(S,'instance');var ii='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20vec3\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(worldNormal,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20worldNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20vertColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(worldPosition,\x201);\x0a}',ei='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';class ut{constructor(){o(this,'visible');o(this,'side');o(this,'gl');this['visible']=!0x0,this['side']=0x0,this['gl']=S['getInstance']()['renderer']['gl'];}['initialize'](){if(this['side']==0x2){this['gl']['disable'](this['gl']['CULL_FACE']);return;}this['gl']['enable'](this['gl']['CULL_FACE']),this['side']==0x0?this['gl']['cullFace'](this['gl']['BACK']):this['gl']['cullFace'](this['gl']['FRONT']);}}class ot{constructor(_0x154aa8,_0x517dc5){o(this,'vertexShader');o(this,'fragmentShader');o(this,'shaderProgram');o(this,'vertexSource');o(this,'fragmentSource');o(this,'initialized');this['vertexSource']=_0x154aa8,this['fragmentSource']=_0x517dc5,this['vertexShader']=null,this['fragmentShader']=null,this['shaderProgram']=null,this['initialized']=!0x1;}['initialize'](_0x5427cb){this['initialized']||(this['initialized']=!0x0,this['vertexShader']=this['createVertexShader'](_0x5427cb,this['vertexSource']),this['fragmentShader']=this['createFragmentShader'](_0x5427cb,this['fragmentSource']),this['vertexShader']&&this['fragmentShader']&&(this['shaderProgram']=this['createShaderProgram'](_0x5427cb,this['vertexShader'],this['fragmentShader'])));}['createVertexShader'](_0x4d771a,_0x3ff2ff){const _0x5b9add=_0x4d771a['createShader'](_0x4d771a['VERTEX_SHADER']);return _0x5b9add?(_0x4d771a['shaderSource'](_0x5b9add,_0x3ff2ff),_0x4d771a['compileShader'](_0x5b9add),_0x4d771a['getShaderParameter'](_0x5b9add,_0x4d771a['COMPILE_STATUS'])||(console['error']('Error:\x20unable\x20to\x20load\x20vertex\x20shader'),console['error'](_0x4d771a['getShaderInfoLog'](_0x5b9add)))):console['error']('Error:\x20unable\x20to\x20create\x20vertex\x20shader'),_0x5b9add;}['createFragmentShader'](_0x570a28,_0x578587){const _0x2539c0=_0x570a28['createShader'](_0x570a28['FRAGMENT_SHADER']);return _0x2539c0?(_0x570a28['shaderSource'](_0x2539c0,_0x578587),_0x570a28['compileShader'](_0x2539c0),_0x570a28['getShaderParameter'](_0x2539c0,_0x570a28['COMPILE_STATUS'])||(console['error']('Error:\x20unable\x20to\x20load\x20fragment\x20shader'),console['error'](_0x570a28['getShaderInfoLog'](_0x2539c0)))):console['error']('Error:\x20unable\x20to\x20create\x20fragment\x20shader'),_0x2539c0;}['createShaderProgram'](_0xd2d7a9,_0x5d35ac,_0x5d7e10){let _0x1e9ce0=null;if(_0x5d35ac&&_0x5d7e10){if(_0x1e9ce0=_0xd2d7a9['createProgram'](),!_0x1e9ce0)return console['error']('Error:\x20could\x20not\x20create\x20shader\x20program'),null;if(_0xd2d7a9['attachShader'](_0x1e9ce0,_0x5d35ac),_0xd2d7a9['attachShader'](_0x1e9ce0,_0x5d7e10),_0xd2d7a9['linkProgram'](_0x1e9ce0),!_0xd2d7a9['getProgramParameter'](_0x1e9ce0,_0xd2d7a9['LINK_STATUS']))return console['error']('Error:\x20could\x20not\x20link\x20shader\x20program'),console['error'](_0xd2d7a9['getProgramInfoLog'](_0x1e9ce0)),null;}return _0x1e9ce0;}['getProgram'](){return this['shaderProgram'];}['getAttribute'](_0x1e4aec,_0x403f4d){return this['shaderProgram']?_0x1e4aec['getAttribLocation'](this['shaderProgram'],_0x403f4d):-0x1;}['getUniform'](_0x24e1d8,_0x14b173){return this['shaderProgram']?_0x24e1d8['getUniformLocation'](this['shaderProgram'],_0x14b173):null;}}const U=class extends ut{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,U['shader']['initialize'](this['gl']),this['kAmbientUniform']=U['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=U['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=U['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=U['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=U['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=U['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=U['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=U['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=U['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=U['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=U['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=U['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=U['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=U['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=U['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=U['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=U['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=U['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=U['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x305a34,_0x2311ce,_0x125d66,_0x1b12d0){if(!this['visible']||_0x305a34['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](U['shader']['getProgram']());const _0x368622=new m();_0x368622['transform'](_0x125d66['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x368622['x'],_0x368622['y'],_0x368622['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x2311ce['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x125d66['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x125d66['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x2311ce['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x1b12d0['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x1b12d0['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x1b12d0['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x1b12d0['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x1b12d0['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x1b12d0['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x305a34['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x305a34['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x305a34['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x305a34['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x305a34['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x305a34['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0);}['setColor'](_0x11296e){this['ambientColor']['copy'](_0x11296e),this['diffuseColor']['copy'](_0x11296e),this['specularColor']['copy'](_0x11296e);}};let Bt=U;o(Bt,'shader',new ot(ii,ei));class Xt extends G{constructor(){super();o(this,'gl');o(this,'positionBuffer');o(this,'normalBuffer');o(this,'colorBuffer');o(this,'indexBuffer');o(this,'texCoordBuffer');o(this,'morphTargetPositionBuffer');o(this,'morphTargetNormalBuffer');o(this,'vertexCount');o(this,'triangleCount');o(this,'material');o(this,'morphTargetBoundingBox');o(this,'morphTargetBoundingSphere');this['gl']=S['getInstance']()['renderer']['gl'],this['positionBuffer']=this['gl']['createBuffer'](),this['normalBuffer']=this['gl']['createBuffer'](),this['colorBuffer']=this['gl']['createBuffer'](),this['indexBuffer']=this['gl']['createBuffer'](),this['texCoordBuffer']=this['gl']['createBuffer'](),this['morphTargetPositionBuffer']=this['gl']['createBuffer'](),this['morphTargetNormalBuffer']=this['gl']['createBuffer'](),this['vertexCount']=0x0,this['triangleCount']=0x0,this['material']=new Bt(),this['morphTargetBoundingBox']=new vt(),this['morphTargetBoundingSphere']=new Ct();}['draw'](_0x48ad67,_0x3aff01,_0x14c6be){!this['visible']||(this['material']['draw'](this,this,_0x3aff01,_0x14c6be),this['children']['forEach'](_0x991d2d=>{_0x991d2d['draw'](this,_0x3aff01,_0x14c6be);}));}['setVertices'](_0x478072,_0x58c8bd=!0x1){if(_0x478072['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),typeof _0x478072[0x0]=='number')_0x58c8bd?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x478072),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x478072),this['gl']['STATIC_DRAW']),this['vertexCount']=_0x478072['length']/0x3,this['boundingBox']['computeBounds'](_0x478072),this['boundingSphere']['computeBounds'](_0x478072,this['boundingBox']);else{const _0x5bd1a2=[];_0x478072['forEach'](_0x3ddcd2=>{_0x5bd1a2['push'](_0x3ddcd2['x'],_0x3ddcd2['y'],_0x3ddcd2['z']);}),_0x58c8bd?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5bd1a2),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5bd1a2),this['gl']['STATIC_DRAW']),this['vertexCount']=_0x478072['length'],this['boundingBox']['computeBounds'](_0x5bd1a2),this['boundingSphere']['computeBounds'](_0x5bd1a2,this['boundingBox']);}}['setNormals'](_0x2cb0aa,_0x3ed08f=!0x1){if(_0x2cb0aa['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['normalBuffer']),typeof _0x2cb0aa[0x0]=='number')_0x3ed08f?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x2cb0aa),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x2cb0aa),this['gl']['STATIC_DRAW']);else{const _0x13a46e=[];_0x2cb0aa['forEach'](_0x33cc89=>{_0x13a46e['push'](_0x33cc89['x'],_0x33cc89['y'],_0x33cc89['z']);}),_0x3ed08f?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x13a46e),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x13a46e),this['gl']['STATIC_DRAW']);}}['setColors'](_0x536086,_0x592954=!0x1){if(_0x536086['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),typeof _0x536086[0x0]=='number')_0x592954?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x536086),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x536086),this['gl']['STATIC_DRAW']);else{const _0x4f22a1=[];_0x536086['forEach'](_0x35fa4f=>{_0x4f22a1['push'](_0x35fa4f['r'],_0x35fa4f['g'],_0x35fa4f['b'],_0x35fa4f['a']);}),_0x592954?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4f22a1),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x4f22a1),this['gl']['STATIC_DRAW']);}}['setTextureCoordinates'](_0x5924cf,_0x44635c=!0x1){if(_0x5924cf['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['texCoordBuffer']),typeof _0x5924cf[0x0]=='number')_0x44635c?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5924cf),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5924cf),this['gl']['STATIC_DRAW']);else{const _0x438e19=[];_0x5924cf['forEach'](_0x25d613=>{_0x438e19['push'](_0x25d613['x'],_0x25d613['y']);}),_0x44635c?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x438e19),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x438e19),this['gl']['STATIC_DRAW']);}}['setIndices'](_0x8b678d,_0x2a9894=!0x1){if(_0x8b678d['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],this['indexBuffer']),typeof _0x8b678d[0x0]=='number')this['triangleCount']=_0x8b678d['length']/0x3,_0x2a9894?this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x8b678d),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x8b678d),this['gl']['STATIC_DRAW']);else{this['triangleCount']=_0x8b678d['length'];const _0x182565=[];_0x8b678d['forEach'](_0x4d887a=>{_0x182565['push'](_0x4d887a['x'],_0x4d887a['y'],_0x4d887a['z']);}),_0x2a9894?this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x182565),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x182565),this['gl']['STATIC_DRAW']);}}['setArrayBuffer'](_0x733260,_0x416eeb,_0x515e3d=!0x1){if(_0x733260['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x416eeb),typeof _0x733260[0x0]=='number')_0x515e3d?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x733260),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x733260),this['gl']['STATIC_DRAW']);else{const _0x5b139e=[];_0x733260['forEach'](_0xd04172=>{_0x5b139e['push'](_0xd04172['x'],_0xd04172['y'],_0xd04172['z']);}),_0x515e3d?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5b139e),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x5b139e),this['gl']['STATIC_DRAW']);}}['setMorphTargetVertices'](_0x1753f3,_0x13b376=!0x1,_0x264a0a=!0x0){if(_0x1753f3['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['morphTargetPositionBuffer']),typeof _0x1753f3[0x0]=='number')_0x13b376?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1753f3),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x1753f3),this['gl']['STATIC_DRAW']),this['morphTargetBoundingBox']['computeBounds'](_0x1753f3),this['morphTargetBoundingSphere']['computeBounds'](_0x1753f3,this['morphTargetBoundingBox']);else{const _0x2211f6=[];_0x1753f3['forEach'](_0x48d156=>{_0x2211f6['push'](_0x48d156['x'],_0x48d156['y'],_0x48d156['z']);}),_0x13b376?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x2211f6),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x2211f6),this['gl']['STATIC_DRAW']),this['morphTargetBoundingBox']['computeBounds'](_0x2211f6),this['morphTargetBoundingSphere']['computeBounds'](_0x2211f6,this['morphTargetBoundingBox']);}}['setMorphTargetNormals'](_0x253357,_0x2434d9=!0x1){if(_0x253357['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['morphTargetNormalBuffer']),typeof _0x253357[0x0]=='number')_0x2434d9?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x253357),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x253357),this['gl']['STATIC_DRAW']);else{const _0x41ebe9=[];_0x253357['forEach'](_0xfbe640=>{_0x41ebe9['push'](_0xfbe640['x'],_0xfbe640['y'],_0xfbe640['z']);}),_0x2434d9?this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x41ebe9),this['gl']['DYNAMIC_DRAW']):this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x41ebe9),this['gl']['STATIC_DRAW']);}}['getVertices'](){const _0x51443d=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x51443d),[..._0x51443d];}['getNormals'](){const _0x4f1c04=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['normalBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x4f1c04),[..._0x4f1c04];}['getColors'](){const _0xa56c82=new Float32Array(this['vertexCount']*0x4);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0xa56c82),[..._0xa56c82];}['getTextureCoordinates'](){const _0x2de7b8=new Float32Array(this['vertexCount']*0x2);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['texCoordBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x2de7b8),[..._0x2de7b8];}['getIndices'](){const _0x29aeaf=new Uint16Array(this['triangleCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],this['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x29aeaf),[..._0x29aeaf];}['getArrayBuffer'](_0x43874e){const _0x523b43=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x43874e),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x523b43),[..._0x523b43];}['createDefaultVertexColors'](){const _0x4ac176=[];for(let _0x22eef4=0x0;_0x22eef4<this['vertexCount'];_0x22eef4++)_0x4ac176['push'](0x1,0x1,0x1,0x1);this['setColors'](_0x4ac176);}['computeBounds'](_0x1af2cb){_0x1af2cb||(_0x1af2cb=this['getVertices']()),_0x1af2cb['length']!=0x0&&(this['boundingBox']['computeBounds'](_0x1af2cb),this['boundingSphere']['computeBounds'](_0x1af2cb,this['boundingBox']));}['mergeSharedVertices'](){const _0xa68477=this['getVertices'](),_0x4544be=this['getNormals'](),_0x44917b=this['getColors'](),_0x352e28=this['getTextureCoordinates'](),_0x15d2e5=[],_0x16107d=[],_0x18c03b=[],_0x4f3b06=[],_0x4e3aa6=this['getIndices']();for(let _0x201744=0x0;_0x201744<_0xa68477['length'];_0x201744+=0x3)_0x15d2e5['push'](new m(_0xa68477[_0x201744],_0xa68477[_0x201744+0x1],_0xa68477[_0x201744+0x2])),_0x16107d['push'](new m(_0x4544be[_0x201744],_0x4544be[_0x201744+0x1],_0x4544be[_0x201744+0x2])),_0x18c03b['push'](new M(_0x44917b[_0x201744],_0x44917b[_0x201744+0x1],_0x44917b[_0x201744+0x2]));for(let _0x5035ae=0x0;_0x5035ae<_0x352e28['length'];_0x5035ae+=0x2)_0x4f3b06['push'](new x(_0x352e28[_0x5035ae],_0x352e28[_0x5035ae+0x1]));const _0x2183d3=[],_0x4a785a=[],_0x28d7f1=[],_0x235d9c=[],_0x3dfc8e=_0x4e3aa6['slice'](),_0x294458=[];for(let _0x797dd=0x0;_0x797dd<_0x15d2e5['length'];_0x797dd++){let _0x50a835=!0x1;for(let _0x223882=0x0;_0x223882<_0x2183d3['length'];_0x223882++)if(_0x15d2e5[_0x797dd]['equals'](_0x2183d3[_0x223882])){for(let _0x3d8d2e=0x0;_0x3d8d2e<_0x4e3aa6['length'];_0x3d8d2e++)_0x4e3aa6[_0x3d8d2e]==_0x797dd&&(_0x3dfc8e[_0x3d8d2e]=_0x223882);_0x4a785a[_0x223882]['add'](_0x16107d[_0x797dd]),_0x28d7f1[_0x223882]['add'](_0x18c03b[_0x797dd]),_0x235d9c[_0x223882]['add'](_0x4f3b06[_0x797dd]),_0x294458[_0x223882]++,_0x50a835=!0x0;}if(!_0x50a835){_0x2183d3['push'](_0x15d2e5[_0x797dd]),_0x4a785a['push'](_0x16107d[_0x797dd]),_0x28d7f1['push'](_0x18c03b[_0x797dd]),_0x235d9c['push'](_0x4f3b06[_0x797dd]),_0x294458['push'](0x1);for(let _0x29dac1=0x0;_0x29dac1<_0x4e3aa6['length'];_0x29dac1++)_0x4e3aa6[_0x29dac1]==_0x797dd&&(_0x3dfc8e[_0x29dac1]=_0x2183d3['length']-0x1);}}for(let _0x34c08=0x0;_0x34c08<_0x2183d3['length'];_0x34c08++)_0x4a785a[_0x34c08]['multiplyScalar'](0x1/_0x294458[_0x34c08]),_0x28d7f1[_0x34c08]['multiplyScalar'](0x1/_0x294458[_0x34c08]),_0x235d9c[_0x34c08]['multiplyScalar'](0x1/_0x294458[_0x34c08]);this['setVertices'](_0x2183d3),this['setNormals'](_0x4a785a),this['setColors'](_0x28d7f1),this['setTextureCoordinates'](_0x235d9c),this['setIndices'](_0x3dfc8e);}}class pt extends G{constructor(_0x22e942,_0x3a31cd=!0x0){super();o(this,'baseMesh');o(this,'material');this['baseMesh']=_0x22e942,this['material']=_0x22e942['material'],_0x3a31cd&&(this['position']['copy'](_0x22e942['position']),this['rotation']['copy'](_0x22e942['rotation']),this['scale']['copy'](_0x22e942['scale']));}['getBaseMesh'](){return this['baseMesh'];}['draw'](_0x1133b0,_0x2ce595,_0x5e81db){!this['visible']||(this['material']['draw'](this['baseMesh'],this,_0x2ce595,_0x5e81db),this['children']['forEach'](_0x14ea03=>{_0x14ea03['draw'](this,_0x2ce595,_0x5e81db);}));}}class K extends Xt{constructor(_0x413244=0x1,_0x1f9899=0x1,_0x4da581=0x1){super();o(this,'width');o(this,'height');o(this,'depth');this['width']=_0x413244,this['height']=_0x1f9899,this['depth']=_0x4da581,this['createVertices'](this['width'],this['height'],this['depth']),this['createNormals'](),this['createTextureCoords'](),this['createIndices'](),this['createDefaultVertexColors']();}['setLine'](_0x1592c2,_0x3ba993,_0x1a49be){this['position']['copy'](_0x1592c2),this['lookAt'](_0x3ba993);const _0x24202b=m['distanceBetween'](_0x1592c2,_0x3ba993);this['translateZ'](-_0x24202b/0x2),this['scale']['x']=_0x1a49be,this['scale']['y']=_0x1a49be,this['scale']['z']=_0x24202b;}['createVertices'](_0x4f47a8,_0x4220d0,_0x2fc36e){const _0x1f3558=[];_0x1f3558['push'](-_0x4f47a8/0x2,-_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,-_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,-_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,-_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,-_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,-_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,-_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,-_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,-_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,-_0x4220d0/0x2,_0x2fc36e/0x2),_0x1f3558['push'](_0x4f47a8/0x2,-_0x4220d0/0x2,-_0x2fc36e/0x2),_0x1f3558['push'](-_0x4f47a8/0x2,-_0x4220d0/0x2,-_0x2fc36e/0x2),this['setVertices'](_0x1f3558);}['createNormals'](){const _0x227598=[];_0x227598['push'](0x0,0x0,0x1),_0x227598['push'](0x0,0x0,0x1),_0x227598['push'](0x0,0x0,0x1),_0x227598['push'](0x0,0x0,0x1),_0x227598['push'](0x0,0x0,-0x1),_0x227598['push'](0x0,0x0,-0x1),_0x227598['push'](0x0,0x0,-0x1),_0x227598['push'](0x0,0x0,-0x1),_0x227598['push'](-0x1,0x0,0x0),_0x227598['push'](-0x1,0x0,0x0),_0x227598['push'](-0x1,0x0,0x0),_0x227598['push'](-0x1,0x0,0x0),_0x227598['push'](0x1,0x0,0x0),_0x227598['push'](0x1,0x0,0x0),_0x227598['push'](0x1,0x0,0x0),_0x227598['push'](0x1,0x0,0x0),_0x227598['push'](0x0,0x1,0x0),_0x227598['push'](0x0,0x1,0x0),_0x227598['push'](0x0,0x1,0x0),_0x227598['push'](0x0,0x1,0x0),_0x227598['push'](0x0,-0x1,0x0),_0x227598['push'](0x0,-0x1,0x0),_0x227598['push'](0x0,-0x1,0x0),_0x227598['push'](0x0,-0x1,0x0),this['setNormals'](_0x227598);}['createIndices'](){const _0x2a1dd5=[];_0x2a1dd5['push'](0x0,0x1,0x2),_0x2a1dd5['push'](0x2,0x3,0x0),_0x2a1dd5['push'](0x4,0x6,0x5),_0x2a1dd5['push'](0x6,0x4,0x7),_0x2a1dd5['push'](0x8,0x9,0xa),_0x2a1dd5['push'](0xa,0xb,0x8),_0x2a1dd5['push'](0xc,0xe,0xd),_0x2a1dd5['push'](0xe,0xc,0xf),_0x2a1dd5['push'](0x10,0x11,0x12),_0x2a1dd5['push'](0x12,0x13,0x10),_0x2a1dd5['push'](0x14,0x16,0x15),_0x2a1dd5['push'](0x16,0x14,0x17),this['setIndices'](_0x2a1dd5);}['createTextureCoords'](){const _0x28f5c7=[];_0x28f5c7['push'](0x0,0x1),_0x28f5c7['push'](0x1,0x1),_0x28f5c7['push'](0x1,0x0),_0x28f5c7['push'](0x0,0x0),_0x28f5c7['push'](0x1,0x1),_0x28f5c7['push'](0x0,0x1),_0x28f5c7['push'](0x0,0x0),_0x28f5c7['push'](0x1,0x0),_0x28f5c7['push'](0x0,0x1),_0x28f5c7['push'](0x1,0x1),_0x28f5c7['push'](0x1,0x0),_0x28f5c7['push'](0x0,0x0),_0x28f5c7['push'](0x1,0x1),_0x28f5c7['push'](0x0,0x1),_0x28f5c7['push'](0x0,0x0),_0x28f5c7['push'](0x1,0x0),_0x28f5c7['push'](0x0,0x1),_0x28f5c7['push'](0x1,0x1),_0x28f5c7['push'](0x1,0x0),_0x28f5c7['push'](0x0,0x0),_0x28f5c7['push'](0x1,0x1),_0x28f5c7['push'](0x0,0x1),_0x28f5c7['push'](0x0,0x0),_0x28f5c7['push'](0x1,0x0),this['setTextureCoordinates'](_0x28f5c7);}}class yt extends Xt{constructor(_0x37ef5a=0x1,_0x68e765=0x3){super();o(this,'radius');o(this,'subdivisions');this['radius']=_0x37ef5a,this['subdivisions']=_0x68e765,this['createSphere'](this['radius'],this['subdivisions']);}['createSphere'](_0x3e21d0,_0x4e7238){let _0x5e17ef=[],_0x535d71=[];const _0x4e06fe=[],_0x451a15=[],_0x3944d5=(0x1+Math['sqrt'](0x5))*0.5,_0x57a0c5=0x1,_0x111feb=0x1/_0x3944d5;_0x5e17ef['push'](new m(0x0,_0x111feb,-_0x57a0c5)),_0x5e17ef['push'](new m(_0x111feb,_0x57a0c5,0x0)),_0x5e17ef['push'](new m(-_0x111feb,_0x57a0c5,0x0)),_0x5e17ef['push'](new m(0x0,_0x111feb,_0x57a0c5)),_0x5e17ef['push'](new m(0x0,-_0x111feb,_0x57a0c5)),_0x5e17ef['push'](new m(-_0x57a0c5,0x0,_0x111feb)),_0x5e17ef['push'](new m(0x0,-_0x111feb,-_0x57a0c5)),_0x5e17ef['push'](new m(_0x57a0c5,0x0,-_0x111feb)),_0x5e17ef['push'](new m(_0x57a0c5,0x0,_0x111feb)),_0x5e17ef['push'](new m(-_0x57a0c5,0x0,-_0x111feb)),_0x5e17ef['push'](new m(_0x111feb,-_0x57a0c5,0x0)),_0x5e17ef['push'](new m(-_0x111feb,-_0x57a0c5,0x0));for(let _0x2a8028=0x0;_0x2a8028<_0x5e17ef['length'];_0x2a8028++)_0x5e17ef[_0x2a8028]['normalize']();_0x535d71['push'](0x2,0x1,0x0),_0x535d71['push'](0x1,0x2,0x3),_0x535d71['push'](0x5,0x4,0x3),_0x535d71['push'](0x4,0x8,0x3),_0x535d71['push'](0x7,0x6,0x0),_0x535d71['push'](0x6,0x9,0x0),_0x535d71['push'](0xb,0xa,0x4),_0x535d71['push'](0xa,0xb,0x6),_0x535d71['push'](0x9,0x5,0x2),_0x535d71['push'](0x5,0x9,0xb),_0x535d71['push'](0x8,0x7,0x1),_0x535d71['push'](0x7,0x8,0xa),_0x535d71['push'](0x2,0x5,0x3),_0x535d71['push'](0x8,0x1,0x3),_0x535d71['push'](0x9,0x2,0x0),_0x535d71['push'](0x1,0x7,0x0),_0x535d71['push'](0xb,0x9,0x6),_0x535d71['push'](0x7,0xa,0x6),_0x535d71['push'](0x5,0xb,0x4),_0x535d71['push'](0xa,0x8,0x4);for(let _0x4d39da=0x0;_0x4d39da<_0x4e7238;_0x4d39da++){const _0x36128e=[];for(let _0x63928e=0x0;_0x63928e<_0x535d71['length']/0x3;_0x63928e++){const _0x192371=_0x63928e*0x3,_0x2cd51d=this['createCentroids'](_0x5e17ef,_0x535d71[_0x192371],_0x535d71[_0x192371+0x1],_0x535d71[_0x192371+0x2]);_0x5e17ef['push'](..._0x2cd51d);const _0x8b49c9=this['subdivide'](_0x535d71[_0x192371],_0x535d71[_0x192371+0x1],_0x535d71[_0x192371+0x2],_0x5e17ef['length']-0x3,_0x5e17ef['length']-0x2,_0x5e17ef['length']-0x1);_0x36128e['push'](..._0x8b49c9);}_0x535d71=_0x36128e;}for(let _0x5a2451=0x0;_0x5a2451<_0x5e17ef['length'];_0x5a2451++)_0x5e17ef[_0x5a2451]['multiplyScalar'](_0x3e21d0);[_0x5e17ef,_0x535d71]=this['mergeSphereVertices'](_0x5e17ef,_0x535d71);for(let _0x14a259=0x0;_0x14a259<_0x5e17ef['length'];_0x14a259++){_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x14a259]));const _0x2b740c=0x1-(_0x5e17ef[_0x14a259]['y']+_0x3e21d0)/(0x2*_0x3e21d0),_0x4eb88e=new m(_0x5e17ef[_0x14a259]['x'],0x0,_0x5e17ef[_0x14a259]['z']);_0x4eb88e['normalize']();let _0x408319=Math['acos'](m['FORWARD']['dot'](_0x4eb88e));_0x4eb88e['x']>0x0&&(_0x408319=Math['PI']*0x2-_0x408319);const _0x28f8c9=_0x408319/(Math['PI']*0x2);_0x451a15['push'](_0x28f8c9,_0x2b740c);}const _0x22b8cc=_0x535d71['length'];for(let _0x5df1c2=0x0;_0x5df1c2<_0x22b8cc;_0x5df1c2+=0x3)this['isSeamVertex'](_0x5df1c2,_0x5e17ef,_0x535d71)?this['isEndVertex'](_0x5df1c2+0x1,_0x5e17ef,_0x535d71)&&this['isEndVertex'](_0x5df1c2+0x2,_0x5e17ef,_0x535d71)?(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2]*0x2+0x1]),_0x535d71[_0x5df1c2]=_0x5e17ef['length']-0x1):this['isEndVertex'](_0x5df1c2+0x1,_0x5e17ef,_0x535d71)?(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2]*0x2+0x1]),_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x2]*0x2+0x1]),_0x535d71[_0x5df1c2]=_0x5e17ef['length']-0x2,_0x535d71[_0x5df1c2+0x2]=_0x5e17ef['length']-0x1):this['isEndVertex'](_0x5df1c2+0x2,_0x5e17ef,_0x535d71)&&(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2]*0x2+0x1]),_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x1]*0x2+0x1]),_0x535d71[_0x5df1c2]=_0x5e17ef['length']-0x2,_0x535d71[_0x5df1c2+0x1]=_0x5e17ef['length']-0x1):this['isSeamVertex'](_0x5df1c2+0x1,_0x5e17ef,_0x535d71)?this['isEndVertex'](_0x5df1c2,_0x5e17ef,_0x535d71)&&this['isEndVertex'](_0x5df1c2+0x2,_0x5e17ef,_0x535d71)?(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x1]*0x2+0x1]),_0x535d71[_0x5df1c2+0x1]=_0x5e17ef['length']-0x1):this['isEndVertex'](_0x5df1c2,_0x5e17ef,_0x535d71)?(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x1]*0x2+0x1]),_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x2]*0x2+0x1]),_0x535d71[_0x5df1c2+0x1]=_0x5e17ef['length']-0x2,_0x535d71[_0x5df1c2+0x2]=_0x5e17ef['length']-0x1):this['isEndVertex'](_0x5df1c2+0x2,_0x5e17ef,_0x535d71)&&(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2]*0x2+0x1]),_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x1]*0x2+0x1]),_0x535d71[_0x5df1c2]=_0x5e17ef['length']-0x2,_0x535d71[_0x5df1c2+0x1]=_0x5e17ef['length']-0x1):this['isSeamVertex'](_0x5df1c2+0x2,_0x5e17ef,_0x535d71)&&(this['isEndVertex'](_0x5df1c2,_0x5e17ef,_0x535d71)&&this['isEndVertex'](_0x5df1c2+0x1,_0x5e17ef,_0x535d71)?(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x2]*0x2+0x1]),_0x535d71[_0x5df1c2+0x2]=_0x5e17ef['length']-0x1):this['isEndVertex'](_0x5df1c2,_0x5e17ef,_0x535d71)?(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x1]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x1]*0x2+0x1]),_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x2]*0x2+0x1]),_0x535d71[_0x5df1c2+0x1]=_0x5e17ef['length']-0x2,_0x535d71[_0x5df1c2+0x2]=_0x5e17ef['length']-0x1):this['isEndVertex'](_0x5df1c2+0x1,_0x5e17ef,_0x535d71)&&(_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2]*0x2+0x1]),_0x5e17ef['push'](m['copy'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x4e06fe['push'](m['normalize'](_0x5e17ef[_0x535d71[_0x5df1c2+0x2]])),_0x451a15['push'](0x1,_0x451a15[_0x535d71[_0x5df1c2+0x2]*0x2+0x1]),_0x535d71[_0x5df1c2]=_0x5e17ef['length']-0x2,_0x535d71[_0x5df1c2+0x2]=_0x5e17ef['length']-0x1));this['setVertices'](_0x5e17ef),this['setNormals'](_0x4e06fe),this['setTextureCoordinates'](_0x451a15),this['setIndices'](_0x535d71),this['createDefaultVertexColors']();}['isEndVertex'](_0x1b1d5c,_0xebda69,_0x5033f9){return _0xebda69[_0x5033f9[_0x1b1d5c]]['x']>0x0;}['isSeamVertex'](_0x2f18fc,_0x58a2db,_0x4b2526){return _0x58a2db[_0x4b2526[_0x2f18fc]]['x']==0x0&&_0x58a2db[_0x4b2526[_0x2f18fc]]['z']<=0x0;}['createCentroids'](_0x415ac3,_0x2dbc82,_0x725597,_0x5b45b6){const _0x56d054=[],_0x59e7f8=m['add'](_0x415ac3[_0x2dbc82],_0x415ac3[_0x725597]);_0x59e7f8['divideScalar'](0x2),_0x59e7f8['normalize'](),_0x56d054['push'](_0x59e7f8);const _0x235976=m['add'](_0x415ac3[_0x725597],_0x415ac3[_0x5b45b6]);_0x235976['divideScalar'](0x2),_0x235976['normalize'](),_0x56d054['push'](_0x235976);const _0x269ee6=m['add'](_0x415ac3[_0x5b45b6],_0x415ac3[_0x2dbc82]);return _0x269ee6['divideScalar'](0x2),_0x269ee6['normalize'](),_0x56d054['push'](_0x269ee6),_0x56d054;}['subdivide'](_0x6fc98a,_0x34f5a1,_0x2c85e1,_0x407808,_0x1cebfb,_0x2fb65d){const _0x5ca021=[];return _0x5ca021['push'](_0x6fc98a,_0x407808,_0x2fb65d),_0x5ca021['push'](_0x34f5a1,_0x1cebfb,_0x407808),_0x5ca021['push'](_0x2c85e1,_0x2fb65d,_0x1cebfb),_0x5ca021['push'](_0x407808,_0x1cebfb,_0x2fb65d),_0x5ca021;}['mergeSphereVertices'](_0x11f85a,_0x5495f5){const _0x3d3bc3=[],_0x17ed44=[];_0x5495f5['forEach'](_0x48dd10=>{_0x17ed44['push'](_0x48dd10);});for(let _0x106e40=0x0;_0x106e40<_0x11f85a['length'];_0x106e40++){let _0x500649=!0x1;for(let _0x105fa0=0x0;_0x105fa0<_0x3d3bc3['length'];_0x105fa0++)if(_0x11f85a[_0x106e40]['equals'](_0x3d3bc3[_0x105fa0])){for(let _0x5e7157=0x0;_0x5e7157<_0x5495f5['length'];_0x5e7157++)_0x5495f5[_0x5e7157]==_0x106e40&&(_0x17ed44[_0x5e7157]=_0x105fa0);_0x500649=!0x0;}if(!_0x500649){_0x3d3bc3['push'](_0x11f85a[_0x106e40]);for(let _0x347e27=0x0;_0x347e27<_0x5495f5['length'];_0x347e27++)_0x5495f5[_0x347e27]==_0x106e40&&(_0x17ed44[_0x347e27]=_0x3d3bc3['length']-0x1);}}return[_0x3d3bc3,_0x17ed44];}}var si='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelViewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201);\x0a}',ni='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20materialColor;\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec2\x20uv;\x0a\x0ain\x20vec4\x20vertColor;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20materialColor\x20*\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const Y=class extends ut{constructor(){super();o(this,'texture');o(this,'color');o(this,'colorUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'modelViewUniform');o(this,'projectionUniform');o(this,'positionAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['color']=new M(0x1,0x1,0x1),Y['shader']['initialize'](this['gl']),this['colorUniform']=Y['shader']['getUniform'](this['gl'],'materialColor'),this['textureUniform']=Y['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=Y['shader']['getUniform'](this['gl'],'useTexture'),this['modelViewUniform']=Y['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform']=Y['shader']['getUniform'](this['gl'],'projectionMatrix'),this['positionAttribute']=Y['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute']=Y['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=Y['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x3bf1ba,_0x55791b,_0x560c4b,_0x1006a6){!this['visible']||_0x3bf1ba['triangleCount']==0x0||(this['initialize'](),this['gl']['useProgram'](Y['shader']['getProgram']()),this['gl']['uniformMatrix4fv'](this['modelViewUniform'],!0x1,j['multiply'](_0x55791b['worldMatrix'],_0x560c4b['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x560c4b['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3bf1ba['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3bf1ba['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3bf1ba['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x3bf1ba['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x3bf1ba['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x409427){this['color']['copy'](_0x409427);}};let O=Y;o(O,'shader',new ot(si,ni));var ri='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat3\x20modelMatrix;\x0auniform\x20float\x20layer;\x0a\x0ain\x20vec2\x20position;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec3(position,\x201);\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(worldPosition.x,\x20worldPosition.y,\x20layer,\x201);\x0a}',oi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20materialColor;\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20materialColor\x20*\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const k=class{constructor(){o(this,'visible');o(this,'color');o(this,'drawMode');o(this,'texture');o(this,'gl');o(this,'colorUniform');o(this,'modelUniform');o(this,'layerUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'positionAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['gl']=S['getInstance']()['renderer']['gl'],this['visible']=!0x0,this['color']=new M(0x1,0x1,0x1),this['drawMode']=this['gl']['LINE_LOOP'],this['texture']=null,k['shader']['initialize'](this['gl']),this['colorUniform']=k['shader']['getUniform'](this['gl'],'materialColor'),this['modelUniform']=k['shader']['getUniform'](this['gl'],'modelMatrix'),this['layerUniform']=k['shader']['getUniform'](this['gl'],'layer'),this['textureUniform']=k['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=k['shader']['getUniform'](this['gl'],'useTexture'),this['positionAttribute']=k['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute']=k['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=k['shader']['getAttribute'](this['gl'],'texCoord');}['copy'](_0x152159){this['visible']=_0x152159['visible'],this['color']['copy'](_0x152159['color']),this['drawMode']=_0x152159['drawMode'],this['texture']=_0x152159['texture'];}['draw'](_0x3efe74,_0x44a5c4){!this['visible']||_0x3efe74['vertexCount']==0x0||(this['gl']['useProgram'](k['shader']['getProgram']()),this['gl']['uniformMatrix3fv'](this['modelUniform'],!0x1,_0x44a5c4['worldMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['uniform1f'](this['layerUniform'],_0x44a5c4['layer']),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3efe74['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3efe74['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3efe74['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['drawArrays'](this['drawMode'],0x0,_0x3efe74['vertexCount']));}};let N=k;o(N,'shader',new ot(ri,oi));class ai{constructor(){o(this,'visible');o(this,'color');o(this,'colorUniform3d');o(this,'useTextureUniform3d');o(this,'textureUniform3d');o(this,'modelViewUniform3d');o(this,'projectionUniform3d');o(this,'positionAttribute3d');o(this,'colorAttribute3d');o(this,'texCoordAttribute3d');o(this,'colorUniform2d');o(this,'useTextureUniform2d');o(this,'textureUniform2d');o(this,'modelUniform2d');o(this,'layerUniform2d');o(this,'positionAttribute2d');o(this,'colorAttribute2d');o(this,'texCoordAttribute2d');o(this,'gl');this['visible']=!0x0,this['color']=new M(0x1,0x1,0x1),this['gl']=S['getInstance']()['renderer']['gl'],O['shader']['initialize'](this['gl']),this['colorUniform3d']=O['shader']['getUniform'](this['gl'],'materialColor'),this['modelViewUniform3d']=O['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform3d']=O['shader']['getUniform'](this['gl'],'projectionMatrix'),this['useTextureUniform3d']=O['shader']['getUniform'](this['gl'],'useTexture'),this['textureUniform3d']=O['shader']['getUniform'](this['gl'],'textureImage'),this['positionAttribute3d']=O['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute3d']=O['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute3d']=O['shader']['getAttribute'](this['gl'],'texCoord'),N['shader']['initialize'](this['gl']),this['colorUniform2d']=N['shader']['getUniform'](this['gl'],'materialColor'),this['modelUniform2d']=N['shader']['getUniform'](this['gl'],'modelMatrix'),this['layerUniform2d']=N['shader']['getUniform'](this['gl'],'layer'),this['useTextureUniform2d']=N['shader']['getUniform'](this['gl'],'useTexture'),this['textureUniform2d']=N['shader']['getUniform'](this['gl'],'textureImage'),this['positionAttribute2d']=N['shader']['getAttribute'](this['gl'],'position'),this['colorAttribute2d']=N['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute2d']=N['shader']['getAttribute'](this['gl'],'texCoord');}['draw3d'](_0x34a975,_0x396998){!this['visible']||_0x34a975['vertexCount']<0x2||(this['gl']['useProgram'](O['shader']['getProgram']()),this['gl']['uniform1i'](this['useTextureUniform3d'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute3d']),this['gl']['uniformMatrix4fv'](this['modelViewUniform3d'],!0x1,j['multiply'](_0x34a975['worldMatrix'],_0x396998['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform3d'],!0x1,_0x396998['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform3d'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['colorAttribute3d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x34a975['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute3d'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute3d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x34a975['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute3d'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['drawArrays'](_0x34a975['glLineMode'](),0x0,_0x34a975['vertexCount']));}['draw2d'](_0x1e1865){!this['visible']||_0x1e1865['vertexCount']<0x2||(this['gl']['useProgram'](N['shader']['getProgram']()),this['gl']['uniform1i'](this['useTextureUniform2d'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute2d']),this['gl']['uniformMatrix3fv'](this['modelUniform2d'],!0x1,_0x1e1865['worldMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform2d'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['uniform1f'](this['layerUniform2d'],_0x1e1865['layer']),this['gl']['enableVertexAttribArray'](this['colorAttribute2d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1e1865['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute2d'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['positionAttribute2d']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x1e1865['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute2d'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['drawArrays'](_0x1e1865['glLineMode'](),0x0,_0x1e1865['vertexCount']));}}var Ot=(_0x35b082=>(_0x35b082[_0x35b082['LINES']=0x0]='LINES',_0x35b082[_0x35b082['LINE_STRIP']=0x1]='LINE_STRIP',_0x35b082[_0x35b082['LINE_LOOP']=0x2]='LINE_LOOP',_0x35b082))(Ot||{});class Ht extends G{constructor(_0x222569=0x1){super();o(this,'gl');o(this,'positionBuffer');o(this,'colorBuffer');o(this,'vertexCount');o(this,'material');o(this,'lineMode');this['gl']=S['getInstance']()['renderer']['gl'],this['positionBuffer']=this['gl']['createBuffer'](),this['colorBuffer']=this['gl']['createBuffer'](),this['vertexCount']=0x0,this['material']=new ai(),this['lineMode']=_0x222569;}['createFromBox'](_0x32d346){const _0x5ed0b9=[];_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['min']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['min']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['min']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['min']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['min']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['min']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['min']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['min']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['max']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['max']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['max']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['max']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['max']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['max']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['max']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['max']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['min']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['max']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['min']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['max']['x'],_0x32d346['max']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['min']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['max']['y'],_0x32d346['min']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['min']['y'],_0x32d346['max']['z']),_0x5ed0b9['push'](_0x32d346['min']['x'],_0x32d346['max']['y'],_0x32d346['max']['z']),this['setVertices'](_0x5ed0b9),this['createDefaultVertexColors'](),this['lineMode']=0x0;}['draw'](_0x52af9b,_0x18de74,_0x146d7e){!this['visible']||(this['material']['draw3d'](this,_0x18de74),this['children']['forEach'](_0x335c17=>{_0x335c17['draw'](this,_0x18de74,_0x146d7e);}));}['setVertices'](_0x5aaad3,_0x163a3c=this['gl']['STATIC_DRAW']){if(_0x5aaad3['length']>0x0){this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']);let _0x32ffc6;typeof _0x5aaad3[0x0]=='number'?_0x32ffc6=_0x5aaad3:(_0x32ffc6=[],_0x5aaad3['forEach'](_0x5e0100=>{_0x32ffc6['push'](_0x5e0100['x'],_0x5e0100['y'],_0x5e0100['z']);})),this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x32ffc6),_0x163a3c),this['vertexCount']=_0x32ffc6['length']/0x3,this['boundingBox']['computeBounds'](_0x32ffc6),this['boundingSphere']['computeBounds'](_0x32ffc6,this['boundingBox']);}}['setColors'](_0x26d12b,_0x2bed22=this['gl']['STATIC_DRAW']){if(_0x26d12b['length']>0x0)if(this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),typeof _0x26d12b[0x0]=='number')this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x26d12b),_0x2bed22);else{const _0x17f151=[];_0x26d12b['forEach'](_0x3b088b=>{_0x17f151['push'](_0x3b088b['r'],_0x3b088b['g'],_0x3b088b['b'],_0x3b088b['a']);}),this['gl']['bufferData'](this['gl']['ARRAY_BUFFER'],new Float32Array(_0x17f151),_0x2bed22);}}['getVertices'](){const _0x4baffb=new Float32Array(this['vertexCount']*0x3);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['positionBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x4baffb),[..._0x4baffb];}['getColors'](){const _0x35402d=new Float32Array(this['vertexCount']*0x4);return this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],this['colorBuffer']),this['gl']['getBufferSubData'](this['gl']['ARRAY_BUFFER'],0x0,_0x35402d),[..._0x35402d];}['createDefaultVertexColors'](){const _0x3f3aed=[];for(let _0x3390f1=0x0;_0x3390f1<this['vertexCount'];_0x3390f1++)_0x3f3aed['push'](0x1,0x1,0x1,0x1);this['setColors'](_0x3f3aed);}['glLineMode'](){return this['lineMode']==0x0?this['gl']['LINES']:this['lineMode']==0x1?this['gl']['LINE_STRIP']:this['gl']['LINE_LOOP'];}}class hi extends Ht{constructor(_0x3b6543=0x1){super(Ot['LINES']);const _0x3322e5=[],_0x47cc2c=[];_0x3322e5['push'](0x0,0x0,0x0),_0x3322e5['push'](_0x3b6543,0x0,0x0),_0x47cc2c['push'](0x1,0x0,0x0,0x1),_0x47cc2c['push'](0x1,0x0,0x0,0x1),_0x3322e5['push'](0x0,0x0,0x0),_0x3322e5['push'](0x0,_0x3b6543,0x0),_0x47cc2c['push'](0x0,0x1,0x0,0x1),_0x47cc2c['push'](0x0,0x1,0x0,0x1),_0x3322e5['push'](0x0,0x0,0x0),_0x3322e5['push'](0x0,0x0,_0x3b6543),_0x47cc2c['push'](0x0,0x0,0x1,0x1),_0x47cc2c['push'](0x0,0x0,0x1,0x1),this['setVertices'](_0x3322e5),this['setColors'](_0x47cc2c);}}class li{constructor(_0x4e410c,_0x278ead=0x1,_0x1ceb57=!0x0){o(this,'camera');o(this,'zoomable');o(this,'rotationSpeedX');o(this,'rotationSpeedY');o(this,'zoomSpeed');o(this,'targetPoint');o(this,'distance');o(this,'cameraOrbitX');o(this,'cameraOrbitY');o(this,'rotationDirection');o(this,'zoomDirection');o(this,'mouseDrag');o(this,'mouseMovement');this['camera']=_0x4e410c,this['zoomable']=_0x1ceb57,this['distance']=_0x278ead,this['rotationSpeedX']=Math['PI']/0x4,this['rotationSpeedY']=Math['PI']/0x4,this['zoomSpeed']=0.25,this['targetPoint']=new m(),this['cameraOrbitX']=new D(),this['cameraOrbitY']=new D(),this['rotationDirection']=new m(),this['zoomDirection']=0x0,this['mouseDrag']=!0x1,this['mouseMovement']=new x(),window['addEventListener']('mousedown',_0x355f40=>{this['onMouseDown'](_0x355f40);}),window['addEventListener']('mouseup',_0xd68a6b=>{this['onMouseUp'](_0xd68a6b);}),window['addEventListener']('mousemove',_0x4b355d=>{this['onMouseMove'](_0x4b355d);}),window['addEventListener']('wheel',_0xd9af67=>{this['onMouseWheel'](_0xd9af67);}),this['updateCamera']();}['setTargetPoint'](_0x50710d){this['targetPoint']['copy'](_0x50710d),this['updateCamera']();}['setDistance'](_0x26a7a1){this['distance']=_0x26a7a1,this['updateCamera']();}['setOrbit'](_0x412f08,_0x476665){this['cameraOrbitX']['setRotationX'](_0x412f08),this['cameraOrbitY']['setRotationY'](_0x476665),this['updateCamera']();}['onMouseDown'](_0x443f70){_0x443f70['target']['localName']=='canvas'&&(this['mouseDrag']=!0x0);}['onMouseUp'](_0x3327ab){this['mouseDrag']=!0x1;}['onMouseMove'](_0xad4b06){this['mouseDrag']&&(this['mouseMovement']['x']=-_0xad4b06['movementY'],this['mouseMovement']['y']=-_0xad4b06['movementX']);}['onMouseWheel'](_0x48107d){this['zoomable']&&(this['zoomDirection']+=_0x48107d['deltaY']);}['update'](_0x4b5c3c){this['rotationDirection']['x']+=this['mouseMovement']['x'],this['rotationDirection']['y']+=this['mouseMovement']['y'],this['mouseMovement']['x']=0x0,this['mouseMovement']['y']=0x0,this['cameraOrbitX']['multiply'](D['makeRotationX'](this['rotationDirection']['x']*this['rotationSpeedX']*_0x4b5c3c)),this['cameraOrbitY']['multiply'](D['makeRotationY'](this['rotationDirection']['y']*this['rotationSpeedY']*_0x4b5c3c)),this['distance']+=this['zoomDirection']*this['zoomSpeed']*_0x4b5c3c,this['rotationDirection']['set'](0x0,0x0,0x0),this['zoomDirection']=0x0,this['updateCamera']();}['updateCamera'](){this['camera']['rotation']['copy'](this['cameraOrbitY']),this['camera']['rotation']['multiply'](this['cameraOrbitX']),this['camera']['position']['set'](0x0,0x0,this['distance']),this['camera']['position']['rotate'](this['camera']['rotation']),this['camera']['position']['add'](this['targetPoint']);}['freeze'](){this['mouseDrag']=!0x1,this['mouseMovement']['x']=0x0,this['mouseMovement']['y']=0x0;}}class nt{constructor(_0x68a9f2=new m(),_0xe4bc5b=new m(0x0,0x0,-0x1)){o(this,'point');o(this,'normal');this['point']=_0x68a9f2,this['normal']=_0xe4bc5b;}}class Tt{constructor(_0x26c009=new m(),_0x4d1e94=new m(0x0,0x0,-0x1)){o(this,'origin');o(this,'direction');this['origin']=_0x26c009,this['direction']=_0x4d1e94;}['set'](_0x208f3f,_0x199aa7){this['origin']=_0x208f3f,this['direction']=_0x199aa7;}['setPickRay'](_0x5501bc,_0x4ad288){const [_0x2f69d6,_0x42b788,_0xa4ba7f]=_0x4ad288['worldMatrix']['decompose']();this['origin']['copy'](_0x2f69d6),this['direction']['set'](_0x5501bc['x'],_0x5501bc['y'],-0x1),this['direction']['transform'](_0x4ad288['projectionMatrix']['inverse']()),this['direction']['rotate'](_0x42b788),this['direction']['normalize']();}['intersectsPlane'](_0x3a5870){const _0x19ee84=this['direction']['dot'](_0x3a5870['normal']);if(Math['abs'](_0x19ee84)>0.000001){const _0x594066=m['subtract'](_0x3a5870['point'],this['origin'])['dot'](_0x3a5870['normal'])/_0x19ee84;if(_0x594066>0x0){const _0x10e560=m['multiplyScalar'](this['direction'],_0x594066);return _0x10e560['add'](this['origin']),_0x10e560;}}return null;}['intersectsSphere'](_0x13ba8a){const _0x4c42f3=m['subtract'](_0x13ba8a['center'],this['origin']),_0x2ce1ce=_0x4c42f3['dot'](this['direction']),_0x1722a4=_0x13ba8a['radius']*_0x13ba8a['radius'],_0x38fc02=_0x4c42f3['dot'](_0x4c42f3)-_0x2ce1ce*_0x2ce1ce;if(_0x38fc02>_0x1722a4)return null;const _0x32051e=Math['sqrt'](_0x1722a4-_0x38fc02),_0x3f561a=_0x2ce1ce-_0x32051e,_0x218e4e=_0x2ce1ce+_0x32051e;if(_0x3f561a<0x0&&_0x218e4e<0x0)return null;const _0x4bd0e3=this['direction']['clone']();return _0x3f561a<_0x218e4e?_0x4bd0e3['multiplyScalar'](_0x3f561a):_0x4bd0e3['multiplyScalar'](_0x218e4e),_0x4bd0e3['add'](this['origin']),_0x4bd0e3;}['intersectsBox'](_0xfcf616){let _0x96c8fe=(_0xfcf616['min']['x']-this['origin']['x'])/this['direction']['x'],_0x49af2c=(_0xfcf616['max']['x']-this['origin']['x'])/this['direction']['x'];if(_0x96c8fe>_0x49af2c){const _0x2d0c60=_0x96c8fe;_0x96c8fe=_0x49af2c,_0x49af2c=_0x2d0c60;}let _0xf0da4e=(_0xfcf616['min']['y']-this['origin']['y'])/this['direction']['y'],_0x53ffb7=(_0xfcf616['max']['y']-this['origin']['y'])/this['direction']['y'];if(_0xf0da4e>_0x53ffb7){const _0x315cbc=_0xf0da4e;_0xf0da4e=_0x53ffb7,_0x53ffb7=_0x315cbc;}if(_0x96c8fe>_0x53ffb7||_0xf0da4e>_0x49af2c)return null;_0xf0da4e>_0x96c8fe&&(_0x96c8fe=_0xf0da4e),_0x53ffb7<_0x49af2c&&(_0x49af2c=_0x53ffb7);let _0xf8d49d=(_0xfcf616['min']['z']-this['origin']['z'])/this['direction']['z'],_0x2e471f=(_0xfcf616['max']['z']-this['origin']['z'])/this['direction']['z'];if(_0xf8d49d>_0x2e471f){const _0x10e3ed=_0xf8d49d;_0xf8d49d=_0x2e471f,_0x2e471f=_0x10e3ed;}if(_0x96c8fe>_0x2e471f||_0xf8d49d>_0x49af2c)return null;_0xf8d49d>_0x96c8fe&&(_0x96c8fe=_0xf8d49d),_0x2e471f<_0x49af2c&&(_0x49af2c=_0x2e471f);const _0x42fd67=m['multiplyScalar'](this['direction'],_0x96c8fe);return _0x42fd67['add'](this['origin']),_0x42fd67;}['intersectsOrientedBoundingBox'](_0xe0e413){const _0x176c2c=this['createLocalRay'](_0xe0e413)['intersectsBox'](_0xe0e413['boundingBox']);return _0x176c2c&&_0x176c2c['transform'](_0xe0e413['worldMatrix']),_0x176c2c;}['intersectsOrientedBoundingSphere'](_0x2cf7ff){const _0x3a4ab3=this['createLocalRay'](_0x2cf7ff)['intersectsSphere'](_0x2cf7ff['boundingSphere']);return _0x3a4ab3&&_0x3a4ab3['transform'](_0x2cf7ff['worldMatrix']),_0x3a4ab3;}['intersectsMesh'](_0x5a9904){if(!this['intersectsOrientedBoundingBox'](_0x5a9904))return null;const _0x5e8fde=_0x5a9904['getVertices'](),_0x4c68d9=_0x5a9904['getIndices'](),_0x56fd64=this['createLocalRay'](_0x5a9904),_0x11545d=[];for(let _0xf373b3=0x0;_0xf373b3<_0x4c68d9['length'];_0xf373b3+=0x3){const _0x5f2ce2=this['intersectsTriangle'](_0x56fd64,new m(_0x5e8fde[_0x4c68d9[_0xf373b3]*0x3],_0x5e8fde[_0x4c68d9[_0xf373b3]*0x3+0x1],_0x5e8fde[_0x4c68d9[_0xf373b3]*0x3+0x2]),new m(_0x5e8fde[_0x4c68d9[_0xf373b3+0x1]*0x3],_0x5e8fde[_0x4c68d9[_0xf373b3+0x1]*0x3+0x1],_0x5e8fde[_0x4c68d9[_0xf373b3+0x1]*0x3+0x2]),new m(_0x5e8fde[_0x4c68d9[_0xf373b3+0x2]*0x3],_0x5e8fde[_0x4c68d9[_0xf373b3+0x2]*0x3+0x1],_0x5e8fde[_0x4c68d9[_0xf373b3+0x2]*0x3+0x2]));_0x5f2ce2&&(_0x5f2ce2['transform'](_0x5a9904['worldMatrix']),_0x11545d['push'](_0x5f2ce2));}if(_0x11545d['length']==0x0)return null;{let _0x3395bf=0x0,_0x472ea5=this['origin']['distanceTo'](_0x11545d[0x0]);for(let _0x3db910=0x1;_0x3db910<_0x11545d['length'];_0x3db910++){const _0x2c5dec=this['origin']['distanceTo'](_0x11545d[_0x3db910]);_0x2c5dec<_0x472ea5&&(_0x3395bf=_0x3db910,_0x472ea5=_0x2c5dec);}return _0x11545d[_0x3395bf];}}['intersectsTriangle'](_0x1a976c,_0x4a5f8e,_0x5ab7cf,_0x3d87a4){const _0x5cbccd=m['subtract'](_0x5ab7cf,_0x4a5f8e),_0x396fd3=m['subtract'](_0x3d87a4,_0x4a5f8e),_0x3dcf95=m['cross'](_0x1a976c['direction'],_0x396fd3),_0x5a1362=_0x5cbccd['dot'](_0x3dcf95);if(_0x5a1362>-1e-7&&_0x5a1362<1e-7)return null;const _0x452845=0x1/_0x5a1362,_0x4f2877=m['subtract'](_0x1a976c['origin'],_0x4a5f8e),_0x531f30=_0x452845*_0x4f2877['dot'](_0x3dcf95);if(_0x531f30<0x0||_0x531f30>0x1)return null;const _0x4ecaa7=m['cross'](_0x4f2877,_0x5cbccd),_0x465dcb=_0x452845*_0x1a976c['direction']['dot'](_0x4ecaa7);if(_0x465dcb<0x0||_0x531f30+_0x465dcb>0x1)return null;const _0x521ca2=_0x452845*_0x396fd3['dot'](_0x4ecaa7);if(_0x521ca2>1e-7){const _0x50bed5=_0x1a976c['direction']['clone']();return _0x50bed5['multiplyScalar'](_0x521ca2),_0x50bed5['add'](_0x1a976c['origin']),_0x50bed5;}return null;}['createLocalRay'](_0x16aa0d){const _0x4b7833=new Tt(this['origin']['clone'](),this['direction']['clone']()),[_0x30982c,_0x4159b0,_0x4883f5]=_0x16aa0d['worldMatrix']['decompose']();_0x4b7833['origin']['subtract'](_0x30982c);const _0x51b78e=_0x4159b0['inverse']();_0x4b7833['origin']['rotate'](_0x51b78e),_0x4b7833['direction']['rotate'](_0x51b78e);const _0x56b83d=_0x4883f5,_0x42c19e=new m();return _0x42c19e['x']=0x1/_0x56b83d['x'],_0x42c19e['y']=0x1/_0x56b83d['y'],_0x42c19e['z']=0x1/_0x56b83d['z'],_0x4b7833['origin']['multiply'](_0x42c19e),_0x4b7833['direction']['multiply'](_0x42c19e),_0x4b7833['direction']['normalize'](),_0x4b7833;}}class ui extends G{constructor(_0x41470f=0x1,_0x459c08=0.01,_0x18d2d9=0.05){super();o(this,'axes');o(this,'thickAxes');o(this,'deviceCoords');o(this,'currentAxis');o(this,'selectionPoint');this['currentAxis']=-0x1,this['deviceCoords']=new x(),this['selectionPoint']=new m(),this['axes']=new hi(_0x41470f),this['add'](this['axes']),this['thickAxes']=[],this['thickAxes']['push'](new K(_0x41470f,_0x459c08,_0x459c08)),this['thickAxes']['push'](new K(_0x459c08,_0x41470f,_0x459c08)),this['thickAxes']['push'](new K(_0x459c08,_0x459c08,_0x41470f)),this['thickAxes'][0x0]['position']['set'](_0x41470f/0x2,0x0,0x0),this['thickAxes'][0x1]['position']['set'](0x0,_0x41470f/0x2,0x0),this['thickAxes'][0x2]['position']['set'](0x0,0x0,_0x41470f/0x2),this['thickAxes'][0x0]['material']=new O(),this['thickAxes'][0x1]['material']=new O(),this['thickAxes'][0x2]['material']=new O(),this['thickAxes'][0x0]['material']['setColor'](new M(0x1,0x0,0x0)),this['thickAxes'][0x1]['material']['setColor'](new M(0x0,0x1,0x0)),this['thickAxes'][0x2]['material']['setColor'](new M(0x0,0x0,0x1)),this['thickAxes'][0x0]['boundingBox']['max']['y']=_0x18d2d9,this['thickAxes'][0x0]['boundingBox']['max']['z']=_0x18d2d9,this['thickAxes'][0x1]['boundingBox']['max']['x']=_0x18d2d9,this['thickAxes'][0x1]['boundingBox']['max']['z']=_0x18d2d9,this['thickAxes'][0x2]['boundingBox']['max']['x']=_0x18d2d9,this['thickAxes'][0x2]['boundingBox']['max']['y']=_0x18d2d9,this['add'](this['thickAxes'][0x0]),this['add'](this['thickAxes'][0x1]),this['add'](this['thickAxes'][0x2]),window['addEventListener']('mousedown',_0x4b4054=>{this['onMouseDown'](_0x4b4054);}),window['addEventListener']('mouseup',_0x17cb78=>{this['onMouseUp'](_0x17cb78);}),window['addEventListener']('mousemove',_0x4b3b66=>{this['onMouseMove'](_0x4b3b66);});}['update'](_0x1ecf90){const _0x2023d5=new Tt();if(_0x2023d5['setPickRay'](this['deviceCoords'],S['getInstance']()['camera']),this['currentAxis']==-0x1)this['thickAxes'][0x0]['visible']=!0x1,this['thickAxes'][0x1]['visible']=!0x1,this['thickAxes'][0x2]['visible']=!0x1,_0x2023d5['intersectsOrientedBoundingBox'](this['thickAxes'][0x0])?this['thickAxes'][0x0]['visible']=!0x0:_0x2023d5['intersectsOrientedBoundingBox'](this['thickAxes'][0x1])?this['thickAxes'][0x1]['visible']=!0x0:_0x2023d5['intersectsOrientedBoundingBox'](this['thickAxes'][0x2])&&(this['thickAxes'][0x2]['visible']=!0x0);else if(this['currentAxis']==0x0){const [_0x36b794,_0x40fd59,_0x3a2a0b]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x36ecc9=_0x2023d5['intersectsPlane'](new nt(m['ZERO'],new m(0x0,_0x36b794['y'],_0x36b794['z'])));_0x36ecc9&&(this['translateX'](_0x36ecc9['x']-this['selectionPoint']['x']),this['selectionPoint']=_0x36ecc9);}else if(this['currentAxis']==0x1){const [_0x4542b2,_0x432fba,_0x3dff8c]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x5ad28a=_0x2023d5['intersectsPlane'](new nt(m['ZERO'],new m(_0x4542b2['x'],0x0,_0x4542b2['z'])));_0x5ad28a&&(this['translateY'](_0x5ad28a['y']-this['selectionPoint']['y']),this['selectionPoint']=_0x5ad28a);}else if(this['currentAxis']==0x2){const [_0x11223b,_0x2e4402,_0x4cca88]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x3dd68c=_0x2023d5['intersectsPlane'](new nt(m['ZERO'],new m(_0x11223b['x'],_0x11223b['y'],0x0)));_0x3dd68c&&(this['translateZ'](_0x3dd68c['z']-this['selectionPoint']['z']),this['selectionPoint']=_0x3dd68c);}}['onMouseDown'](_0x6eec4a){this['deviceCoords']=S['getInstance']()['getNormalizedDeviceCoordinates'](_0x6eec4a['x'],_0x6eec4a['y']);const _0x2181eb=new Tt();if(_0x2181eb['setPickRay'](this['deviceCoords'],S['getInstance']()['camera']),this['currentAxis']==-0x1){if(_0x2181eb['intersectsOrientedBoundingBox'](this['thickAxes'][0x0])){const [_0xfb2a4b,_0x18f0ff,_0x20b0b8]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x5d0105=_0x2181eb['intersectsPlane'](new nt(m['ZERO'],new m(0x0,_0xfb2a4b['y'],_0xfb2a4b['z'])));_0x5d0105&&(this['selectionPoint']=_0x5d0105,this['currentAxis']=0x0);return;}if(_0x2181eb['intersectsOrientedBoundingBox'](this['thickAxes'][0x1])){const [_0x10cff1,_0x1b844b,_0x18622c]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x104e7c=_0x2181eb['intersectsPlane'](new nt(m['ZERO'],new m(_0x10cff1['x'],0x0,_0x10cff1['z'])));_0x104e7c&&(this['selectionPoint']=_0x104e7c,this['currentAxis']=0x1);return;}if(_0x2181eb['intersectsOrientedBoundingBox'](this['thickAxes'][0x2])){const [_0x267822,_0x5bf575,_0x4ec6a8]=S['getInstance']()['camera']['worldMatrix']['decompose'](),_0x666baa=_0x2181eb['intersectsPlane'](new nt(m['ZERO'],new m(_0x267822['x'],_0x267822['y'],0x0)));_0x666baa&&(this['selectionPoint']=_0x666baa,this['currentAxis']=0x2);return;}}}['onMouseUp'](_0x102cc8){this['currentAxis']=-0x1;}['onMouseMove'](_0x3001fa){this['deviceCoords']=S['getInstance']()['getNormalizedDeviceCoordinates'](_0x3001fa['x'],_0x3001fa['y']);}['isSelected'](){return this['currentAxis']>=0x0;}}var Vt=(_0x3aac9d=>(_0x3aac9d[_0x3aac9d['POINT']=0x0]='POINT',_0x3aac9d[_0x3aac9d['DIRECTIONAL']=0x1]='DIRECTIONAL',_0x3aac9d))(Vt||{});class Gt extends G{constructor(_0xfcd180,_0x336919,_0x29d5c7,_0x9eaa4c){super();o(this,'ambientIntensity');o(this,'diffuseIntensity');o(this,'specularIntensity');o(this,'type');this['type']=_0xfcd180,_0x336919 instanceof m?this['ambientIntensity']=new m(_0x336919['x'],_0x336919['y'],_0x336919['z']):this['ambientIntensity']=new m(_0x336919['r'],_0x336919['g'],_0x336919['b']),_0x29d5c7 instanceof m?this['diffuseIntensity']=new m(_0x29d5c7['x'],_0x29d5c7['y'],_0x29d5c7['z']):this['diffuseIntensity']=new m(_0x29d5c7['r'],_0x29d5c7['g'],_0x29d5c7['b']),_0x9eaa4c instanceof m?this['specularIntensity']=new m(_0x9eaa4c['x'],_0x9eaa4c['y'],_0x9eaa4c['z']):this['specularIntensity']=new m(_0x9eaa4c['r'],_0x9eaa4c['g'],_0x9eaa4c['b']);}['getType'](){return this['type'];}['setLights'](_0x1626e1){_0x1626e1['addLight'](this),super['setLights'](_0x1626e1);}}class ci extends Gt{constructor(_0x458122=new m(0.5,0.5,0.5)){super(Vt['POINT'],_0x458122,m['ZERO'],m['ZERO']);}}class mi extends Gt{constructor(_0x292896=new m(0.5,0.5,0.5)){super(Vt['DIRECTIONAL'],m['ZERO'],_0x292896,_0x292896);}}var fi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0a\x0aout\x20vec3\x20vertPosition;\x0aout\x20vec3\x20vertNormal;\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vertPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20vertNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(vertPosition,\x201);\x0a}',di='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec3\x20vertPosition;\x0ain\x20vec3\x20vertNormal;\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20normalize(vertNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20vertPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(n,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20vertPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20n);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x20\x20\x20\x20fragColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const R=class extends ut{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,R['shader']['initialize'](this['gl']),this['kAmbientUniform']=R['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=R['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=R['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=R['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=R['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=R['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=R['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=R['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=R['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=R['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=R['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=R['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=R['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=R['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=R['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=R['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=R['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=R['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=R['shader']['getAttribute'](this['gl'],'texCoord');}['draw'](_0x3a4d72,_0x2168be,_0x2af5f9,_0x40e8e2){if(!this['visible']||_0x3a4d72['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](R['shader']['getProgram']());const _0x4261da=new m();_0x4261da['transform'](_0x2af5f9['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x4261da['x'],_0x4261da['y'],_0x4261da['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x2168be['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x2af5f9['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x2af5f9['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x2168be['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x40e8e2['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x40e8e2['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x40e8e2['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x40e8e2['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x40e8e2['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x40e8e2['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3a4d72['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3a4d72['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3a4d72['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x3a4d72['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x3a4d72['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x3a4d72['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0);}['setColor'](_0x2559a8){this['ambientColor']['copy'](_0x2559a8),this['diffuseColor']['copy'](_0x2559a8),this['specularColor']['copy'](_0x2559a8);}};let It=R;o(It,'shader',new ot(fi,di));var gi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20mat4\x20modelViewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0a\x0ain\x20vec3\x20position;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201);\x0a}',pi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20vec4\x20color;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20color;\x0a}';const _=class extends ut{constructor(){super();o(this,'color');o(this,'positionAttribute');o(this,'modelViewUniform');o(this,'projectionUniform');o(this,'colorUniform');this['color']=new M(0x1,0x1,0x1,0x1),_['shader']['initialize'](this['gl']),this['positionAttribute']=_['shader']['getAttribute'](this['gl'],'position'),this['modelViewUniform']=_['shader']['getUniform'](this['gl'],'modelViewMatrix'),this['projectionUniform']=_['shader']['getUniform'](this['gl'],'projectionMatrix'),this['colorUniform']=_['shader']['getUniform'](this['gl'],'color');}['draw'](_0x509b73,_0x374f5c,_0x2a170e,_0x3d1b6a){!this['visible']||_0x509b73['triangleCount']==0x0||(this['initialize'](),this['gl']['useProgram'](_['shader']['getProgram']()),this['gl']['uniformMatrix4fv'](this['modelViewUniform'],!0x1,j['multiply'](_0x374f5c['worldMatrix'],_0x2a170e['viewMatrix'])['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x2a170e['projectionMatrix']['mat']),this['gl']['uniform4f'](this['colorUniform'],this['color']['r'],this['color']['g'],this['color']['b'],this['color']['a']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x509b73['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),_['wireframeBuffers']['get'](_0x509b73)||this['updateWireframeBuffer'](_0x509b73),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_['wireframeBuffers']['get'](_0x509b73)),this['gl']['drawElements'](this['gl']['LINES'],_0x509b73['triangleCount']*0x6,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x38dc39){this['color']['copy'](_0x38dc39);}['updateWireframeBuffer'](_0x22664f){let _0xb61ad1;_0xb61ad1=_['wireframeBuffers']['get'](_0x22664f),_0xb61ad1||(_0xb61ad1=this['gl']['createBuffer'](),_0xb61ad1&&_['wireframeBuffers']['set'](_0x22664f,_0xb61ad1));const _0x2b46d4=new Uint16Array(_0x22664f['triangleCount']*0x3);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x22664f['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x2b46d4);const _0xad883f=[..._0x2b46d4],_0x5452b7=[];for(let _0x5971b9=0x0;_0x5971b9<_0x22664f['triangleCount'];_0x5971b9++)_0x5452b7['push'](_0xad883f[_0x5971b9*0x3]),_0x5452b7['push'](_0xad883f[_0x5971b9*0x3+0x1]),_0x5452b7['push'](_0xad883f[_0x5971b9*0x3+0x1]),_0x5452b7['push'](_0xad883f[_0x5971b9*0x3+0x2]),_0x5452b7['push'](_0xad883f[_0x5971b9*0x3+0x2]),_0x5452b7['push'](_0xad883f[_0x5971b9*0x3]);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0xb61ad1),this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x5452b7),this['gl']['STATIC_DRAW']);}};let xt=_;o(xt,'shader',new ot(gi,pi)),o(xt,'wireframeBuffers',new Map());var yi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0a#define\x20POINT_LIGHT\x200\x0a#define\x20DIRECTIONAL_LIGHT\x201\x0a\x0aconst\x20int\x20MAX_LIGHTS\x20=\x2016;\x0a\x0auniform\x20mat4\x20modelMatrix;\x0auniform\x20mat4\x20viewMatrix;\x0auniform\x20mat4\x20projectionMatrix;\x0auniform\x20mat4\x20normalMatrix;\x0auniform\x20vec3\x20eyePosition;\x0a\x0auniform\x20int\x20numLights;\x0auniform\x20int\x20lightTypes[MAX_LIGHTS];\x0auniform\x20vec3\x20lightPositions[MAX_LIGHTS];\x0auniform\x20vec3\x20ambientIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20diffuseIntensities[MAX_LIGHTS];\x0auniform\x20vec3\x20specularIntensities[MAX_LIGHTS];\x0a\x0auniform\x20vec3\x20kAmbient;\x0auniform\x20vec3\x20kDiffuse;\x0auniform\x20vec3\x20kSpecular;\x0auniform\x20float\x20shininess;\x0a\x0auniform\x20float\x20morphAlpha;\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec3\x20normal;\x0ain\x20vec4\x20color;\x0ain\x20vec2\x20texCoord;\x0ain\x20vec3\x20morphTargetPosition;\x0ain\x20vec3\x20morphTargetNormal;\x0a\x0aout\x20vec4\x20vertColor;\x0aout\x20vec2\x20uv;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20vec3\x20worldPosition,\x20worldNormal;\x0a\x20\x20\x20\x20if(morphAlpha\x20>\x200.0f)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20mix(position,\x20morphTargetPosition,\x20morphAlpha);\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(worldPosition,\x201)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20mix(normal,\x20morphTargetNormal,\x20morphAlpha);\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(worldNormal,\x200)).xyz);\x0a\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20else\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20worldNormal\x20=\x20normalize((normalMatrix\x20*\x20vec4(normal,\x200)).xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vec3\x20illumination\x20=\x20vec3(0,\x200,\x200);\x0a\x20\x20\x20\x20for(int\x20i=0;\x20i\x20<\x20numLights;\x20i++)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20kAmbient\x20*\x20ambientIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20l;\x0a\x20\x20\x20\x20\x20\x20\x20\x20if(lightTypes[i]\x20==\x20DIRECTIONAL_LIGHT)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20l\x20=\x20normalize(lightPositions[i]\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20diffuseComponent\x20=\x20max(dot(worldNormal,\x20l),\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20diffuseComponent\x20*\x20kDiffuse\x20*\x20diffuseIntensities[i];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20e\x20=\x20normalize(eyePosition\x20-\x20worldPosition);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20reflect(-l,\x20worldNormal);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20specularComponent\x20=\x20pow(max(dot(e,\x20r),\x200.0),\x20shininess);\x0a\x20\x20\x20\x20\x20\x20\x20\x20illumination\x20+=\x20specularComponent\x20*\x20kSpecular\x20*\x20specularIntensities[i];\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vertColor\x20=\x20color;\x0a\x20\x20\x20\x20vertColor.rgb\x20*=\x20illumination;\x0a\x0a\x20\x20\x20\x20uv\x20=\x20texCoord.xy;\x20\x0a\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vec4(worldPosition,\x201);\x0a}',xi='#version\x20300\x20es\x0a\x0aprecision\x20mediump\x20float;\x0a\x0auniform\x20int\x20useTexture;\x0auniform\x20sampler2D\x20textureImage;\x0a\x0ain\x20vec4\x20vertColor;\x0ain\x20vec2\x20uv;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20\x0a{\x0a\x20\x20\x20\x20fragColor\x20=\x20vertColor;\x0a\x0a\x20\x20\x20\x20if(useTexture\x20!=\x200)\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20fragColor\x20*=\x20texture(textureImage,\x20uv);\x0a\x20\x20\x20\x20}\x0a}';const C=class extends ut{constructor(){super();o(this,'texture');o(this,'ambientColor');o(this,'diffuseColor');o(this,'specularColor');o(this,'shininess');o(this,'kAmbientUniform');o(this,'kDiffuseUniform');o(this,'kSpecularUniform');o(this,'shininessUniform');o(this,'textureUniform');o(this,'useTextureUniform');o(this,'eyePositionUniform');o(this,'modelUniform');o(this,'viewUniform');o(this,'projectionUniform');o(this,'normalUniform');o(this,'numLightsUniform');o(this,'lightTypesUniform');o(this,'lightPositionsUniform');o(this,'ambientIntensitiesUniform');o(this,'diffuseIntensitiesUniform');o(this,'specularIntensitiesUniform');o(this,'positionAttribute');o(this,'normalAttribute');o(this,'colorAttribute');o(this,'texCoordAttribute');o(this,'morphAlpha');o(this,'morphAlphaUniform');o(this,'morphTargetPositionAttribute');o(this,'morphTargetNormalAttribute');o(this,'wireframe');this['texture']=null,this['ambientColor']=new M(0x1,0x1,0x1),this['diffuseColor']=new M(0x1,0x1,0x1),this['specularColor']=new M(0x0,0x0,0x0),this['shininess']=0x1e,C['shader']['initialize'](this['gl']),this['kAmbientUniform']=C['shader']['getUniform'](this['gl'],'kAmbient'),this['kDiffuseUniform']=C['shader']['getUniform'](this['gl'],'kDiffuse'),this['kSpecularUniform']=C['shader']['getUniform'](this['gl'],'kSpecular'),this['shininessUniform']=C['shader']['getUniform'](this['gl'],'shininess'),this['textureUniform']=C['shader']['getUniform'](this['gl'],'textureImage'),this['useTextureUniform']=C['shader']['getUniform'](this['gl'],'useTexture'),this['eyePositionUniform']=C['shader']['getUniform'](this['gl'],'eyePosition'),this['viewUniform']=C['shader']['getUniform'](this['gl'],'viewMatrix'),this['modelUniform']=C['shader']['getUniform'](this['gl'],'modelMatrix'),this['projectionUniform']=C['shader']['getUniform'](this['gl'],'projectionMatrix'),this['normalUniform']=C['shader']['getUniform'](this['gl'],'normalMatrix'),this['numLightsUniform']=C['shader']['getUniform'](this['gl'],'numLights'),this['lightTypesUniform']=C['shader']['getUniform'](this['gl'],'lightTypes'),this['lightPositionsUniform']=C['shader']['getUniform'](this['gl'],'lightPositions'),this['ambientIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'ambientIntensities'),this['diffuseIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'diffuseIntensities'),this['specularIntensitiesUniform']=C['shader']['getUniform'](this['gl'],'specularIntensities'),this['positionAttribute']=C['shader']['getAttribute'](this['gl'],'position'),this['normalAttribute']=C['shader']['getAttribute'](this['gl'],'normal'),this['colorAttribute']=C['shader']['getAttribute'](this['gl'],'color'),this['texCoordAttribute']=C['shader']['getAttribute'](this['gl'],'texCoord'),this['morphAlpha']=0x0,this['morphAlphaUniform']=C['shader']['getUniform'](this['gl'],'morphAlpha'),this['morphTargetPositionAttribute']=C['shader']['getAttribute'](this['gl'],'morphTargetPosition'),this['morphTargetNormalAttribute']=C['shader']['getAttribute'](this['gl'],'morphTargetNormal'),this['wireframe']=!0x1;}['draw'](_0x268930,_0x4a2c67,_0x31e161,_0x1c8047){if(!this['visible']||_0x268930['triangleCount']==0x0)return;this['initialize'](),this['gl']['useProgram'](C['shader']['getProgram']());const _0x3e00ca=new m();_0x3e00ca['transform'](_0x31e161['worldMatrix']),this['gl']['uniform3f'](this['eyePositionUniform'],_0x3e00ca['x'],_0x3e00ca['y'],_0x3e00ca['z']),this['gl']['uniformMatrix4fv'](this['modelUniform'],!0x1,_0x4a2c67['worldMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['viewUniform'],!0x1,_0x31e161['viewMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['projectionUniform'],!0x1,_0x31e161['projectionMatrix']['mat']),this['gl']['uniformMatrix4fv'](this['normalUniform'],!0x1,_0x4a2c67['worldMatrix']['inverse']()['transpose']()['mat']),this['gl']['uniform3f'](this['kAmbientUniform'],this['ambientColor']['r'],this['ambientColor']['g'],this['ambientColor']['b']),this['gl']['uniform3f'](this['kDiffuseUniform'],this['diffuseColor']['r'],this['diffuseColor']['g'],this['diffuseColor']['b']),this['gl']['uniform3f'](this['kSpecularUniform'],this['specularColor']['r'],this['specularColor']['g'],this['specularColor']['b']),this['gl']['uniform1f'](this['shininessUniform'],this['shininess']),this['gl']['uniform1i'](this['numLightsUniform'],_0x1c8047['getNumLights']()),this['gl']['uniform1iv'](this['lightTypesUniform'],_0x1c8047['lightTypes']),this['gl']['uniform3fv'](this['lightPositionsUniform'],_0x1c8047['lightPositions']),this['gl']['uniform3fv'](this['ambientIntensitiesUniform'],_0x1c8047['ambientIntensities']),this['gl']['uniform3fv'](this['diffuseIntensitiesUniform'],_0x1c8047['diffuseIntensities']),this['gl']['uniform3fv'](this['specularIntensitiesUniform'],_0x1c8047['specularIntensities']),this['gl']['enableVertexAttribArray'](this['positionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x268930['positionBuffer']),this['gl']['vertexAttribPointer'](this['positionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['normalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x268930['normalBuffer']),this['gl']['vertexAttribPointer'](this['normalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['colorAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x268930['colorBuffer']),this['gl']['vertexAttribPointer'](this['colorAttribute'],0x4,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['uniform1f'](this['morphAlphaUniform'],this['morphAlpha']),this['morphAlpha']>0x0?(this['gl']['enableVertexAttribArray'](this['morphTargetPositionAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x268930['morphTargetPositionBuffer']),this['gl']['vertexAttribPointer'](this['morphTargetPositionAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0),this['gl']['enableVertexAttribArray'](this['morphTargetNormalAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x268930['morphTargetNormalBuffer']),this['gl']['vertexAttribPointer'](this['morphTargetNormalAttribute'],0x3,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['disableVertexAttribArray'](this['morphTargetPositionAttribute']),this['gl']['disableVertexAttribArray'](this['morphTargetNormalAttribute'])),this['wireframe']?(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute']),C['wireframeBuffers']['get'](_0x268930)||this['updateWireframeBuffer'](_0x268930),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],C['wireframeBuffers']['get'](_0x268930)),this['gl']['drawElements'](this['gl']['LINES'],_0x268930['triangleCount']*0x6,this['gl']['UNSIGNED_SHORT'],0x0)):(this['texture']?(this['gl']['uniform1i'](this['useTextureUniform'],0x1),this['gl']['activeTexture'](this['gl']['TEXTURE0']+this['texture']['id']),this['gl']['bindTexture'](this['gl']['TEXTURE_2D'],this['texture']['texture']),this['gl']['uniform1i'](this['textureUniform'],this['texture']['id']),this['gl']['enableVertexAttribArray'](this['texCoordAttribute']),this['gl']['bindBuffer'](this['gl']['ARRAY_BUFFER'],_0x268930['texCoordBuffer']),this['gl']['vertexAttribPointer'](this['texCoordAttribute'],0x2,this['gl']['FLOAT'],!0x1,0x0,0x0)):(this['gl']['uniform1i'](this['useTextureUniform'],0x0),this['gl']['disableVertexAttribArray'](this['texCoordAttribute'])),this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x268930['indexBuffer']),this['gl']['drawElements'](this['gl']['TRIANGLES'],_0x268930['triangleCount']*0x3,this['gl']['UNSIGNED_SHORT'],0x0));}['setColor'](_0x479643){this['ambientColor']['copy'](_0x479643),this['diffuseColor']['copy'](_0x479643),this['specularColor']['copy'](_0x479643);}['updateWireframeBuffer'](_0x1c8b13){let _0x2f77e8;_0x2f77e8=C['wireframeBuffers']['get'](_0x1c8b13),_0x2f77e8||(_0x2f77e8=this['gl']['createBuffer'](),_0x2f77e8&&C['wireframeBuffers']['set'](_0x1c8b13,_0x2f77e8));const _0x59efc2=new Uint16Array(_0x1c8b13['triangleCount']*0x3);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x1c8b13['indexBuffer']),this['gl']['getBufferSubData'](this['gl']['ELEMENT_ARRAY_BUFFER'],0x0,_0x59efc2);const _0x1efa1f=[..._0x59efc2],_0x18928f=[];for(let _0x11f6f2=0x0;_0x11f6f2<_0x1c8b13['triangleCount'];_0x11f6f2++)_0x18928f['push'](_0x1efa1f[_0x11f6f2*0x3]),_0x18928f['push'](_0x1efa1f[_0x11f6f2*0x3+0x1]),_0x18928f['push'](_0x1efa1f[_0x11f6f2*0x3+0x1]),_0x18928f['push'](_0x1efa1f[_0x11f6f2*0x3+0x2]),_0x18928f['push'](_0x1efa1f[_0x11f6f2*0x3+0x2]),_0x18928f['push'](_0x1efa1f[_0x11f6f2*0x3]);this['gl']['bindBuffer'](this['gl']['ELEMENT_ARRAY_BUFFER'],_0x2f77e8),this['gl']['bufferData'](this['gl']['ELEMENT_ARRAY_BUFFER'],new Uint16Array(_0x18928f),this['gl']['STATIC_DRAW']);}};let bt=C;o(bt,'shader',new ot(yi,xi)),o(bt,'wireframeBuffers',new Map());var At=typeof globalThis<'u'?globalThis:typeof window<'u'?window:typeof global<'u'?global:typeof self<'u'?self:{},Q={};Number['EPSILON']===void 0x0&&(Number['EPSILON']=Math['pow'](0x2,-0x34));Math['sign']===void 0x0&&(Math['sign']=function(_0x1ee2d7){return _0x1ee2d7<0x0?-0x1:_0x1ee2d7>0x0?0x1:+_0x1ee2d7;});Function['prototype']['name']===void 0x0&&Object['defineProperty'](Function['prototype'],'name',{'get':function(){return this['toString']()['match'](/^\s*function\s*([^(\s]*)/)[0x1];}});Object['assign']===void 0x0&&(function(){Object['assign']=function(_0x4cdf4b){if(_0x4cdf4b==null)throw new TypeError('Cannot\x20convert\x20undefined\x20or\x20null\x20to\x20object');for(var _0x19ef22=Object(_0x4cdf4b),_0x2745ba=0x1;_0x2745ba<arguments['length'];_0x2745ba++){var _0x3e888f=arguments[_0x2745ba];if(_0x3e888f!=null)for(var _0xac96fb in _0x3e888f)Object['prototype']['hasOwnProperty']['call'](_0x3e888f,_0xac96fb)&&(_0x19ef22[_0xac96fb]=_0x3e888f[_0xac96fb]);}return _0x19ef22;};}());var Ut={},et={};Object['defineProperty'](et,'__esModule',{'value':!0x0});et['Tools']=void 0x0;var bi={'error':function(_0x5f1ab9){console['error'](_0x5f1ab9);}};et['Tools']=bi;var W={};Object['defineProperty'](W,'__esModule',{'value':!0x0});W['V3']=void 0x0;var Ai=(function(){function _0xdbe026(_0x5d18c6,_0x58ed27,_0x1338ff){this['x']=_0x5d18c6||0x0,this['y']=_0x58ed27||0x0,this['z']=_0x1338ff||0x0;}return _0xdbe026['prototype']['set']=function(_0x322634,_0x2d28bb,_0x34d4bd){return this['x']=_0x322634||0x0,this['y']=_0x2d28bb||0x0,this['z']=_0x34d4bd||0x0,this;},_0xdbe026['prototype']['distanceTo']=function(_0x229f80){return Math['sqrt'](this['distanceToSquared'](_0x229f80));},_0xdbe026['prototype']['distanceToSquared']=function(_0x5ef27f){var _0x10cc8f=this['x']-_0x5ef27f['x'],_0x310f04=this['y']-_0x5ef27f['y'],_0x511c0c=this['z']-_0x5ef27f['z'];return _0x10cc8f*_0x10cc8f+_0x310f04*_0x310f04+_0x511c0c*_0x511c0c;},_0xdbe026['prototype']['abs']=function(){return new _0xdbe026(this['x']<0x0?-this['x']:this['x'],this['y']<0x0?-this['y']:this['y'],this['z']<0x0?-this['z']:this['z']);},_0xdbe026['prototype']['dot']=function(_0x2853e0){return this['x']*_0x2853e0['x']+this['y']*_0x2853e0['y']+this['z']*_0x2853e0['z'];},_0xdbe026['prototype']['length']=function(){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);},_0xdbe026['prototype']['lengthSq']=function(){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];},_0xdbe026['prototype']['normalize']=function(){return this['divideScalar'](this['length']()||0x1);},_0xdbe026['prototype']['normalised']=function(){return new _0xdbe026(this['x'],this['y'],this['z'])['normalize']();},_0xdbe026['prototype']['add']=function(_0x541aef){return this['x']+=_0x541aef['x'],this['y']+=_0x541aef['y'],this['z']+=_0x541aef['z'],this;},_0xdbe026['prototype']['min']=function(_0x2b9e72){return this['x']-=_0x2b9e72['x'],this['y']-=_0x2b9e72['y'],this['z']-=_0x2b9e72['z'],this;},_0xdbe026['prototype']['plus']=function(_0x40bc99){return new _0xdbe026(this['x']+_0x40bc99['x'],this['y']+_0x40bc99['y'],this['z']+_0x40bc99['z']);},_0xdbe026['prototype']['minus']=function(_0x35b0b8){return new _0xdbe026(this['x']-_0x35b0b8['x'],this['y']-_0x35b0b8['y'],this['z']-_0x35b0b8['z']);},_0xdbe026['prototype']['divideBy']=function(_0x477e69){return new _0xdbe026(this['x']/_0x477e69,this['y']/_0x477e69,this['z']/_0x477e69);},_0xdbe026['prototype']['multiply']=function(_0x3cec8b){return new _0xdbe026(this['x']*_0x3cec8b,this['y']*_0x3cec8b,this['z']*_0x3cec8b);},_0xdbe026['prototype']['multiplyScalar']=function(_0x5254c0){return this['x']*=_0x5254c0,this['y']*=_0x5254c0,this['z']*=_0x5254c0,this;},_0xdbe026['prototype']['divideScalar']=function(_0x5dbcfb){return this['multiplyScalar'](0x1/_0x5dbcfb);},_0xdbe026['prototype']['cross']=function(_0x981996){return new _0xdbe026(this['y']*_0x981996['z']-this['z']*_0x981996['y'],this['z']*_0x981996['x']-this['x']*_0x981996['z'],this['x']*_0x981996['y']-this['y']*_0x981996['x']);},_0xdbe026['prototype']['crossVectors']=function(_0x609dd3,_0x4ba01d){var _0x22a01d=_0x609dd3['x'],_0xfb025c=_0x609dd3['y'],_0x353f64=_0x609dd3['z'],_0x3c6127=_0x4ba01d['x'],_0x4201b3=_0x4ba01d['y'],_0x545921=_0x4ba01d['z'];return this['x']=_0xfb025c*_0x545921-_0x353f64*_0x4201b3,this['y']=_0x353f64*_0x3c6127-_0x22a01d*_0x545921,this['z']=_0x22a01d*_0x4201b3-_0xfb025c*_0x3c6127,this;},_0xdbe026['prototype']['negate']=function(){return this['x']=-this['x'],this['y']=-this['y'],this['z']=-this['z'],this;},_0xdbe026['prototype']['negated']=function(){return new _0xdbe026(-this['x'],-this['y'],-this['z']);},_0xdbe026['prototype']['clone']=function(){return new _0xdbe026(this['x'],this['y'],this['z']);},_0xdbe026['prototype']['copy']=function(_0x4d88f3){return this['x']=_0x4d88f3['x'],this['y']=_0x4d88f3['y'],this['z']=_0x4d88f3['z'],this;},_0xdbe026['prototype']['approximatelyEquals']=function(_0x2d8ad4,_0x1f0076){if(_0x1f0076<0x0)return!0x1;var _0x373813=Math['abs'](this['x']-_0x2d8ad4['x']),_0x5d9e8a=Math['abs'](this['y']-_0x2d8ad4['y']),_0x5bf1a9=Math['abs'](this['z']-_0x2d8ad4['z']);return _0x373813<_0x1f0076&&_0x5d9e8a<_0x1f0076&&_0x5bf1a9<_0x1f0076;},_0xdbe026['prototype']['zero']=function(){return this['x']=0x0,this['y']=0x0,this['z']=0x0,this;},_0xdbe026['prototype']['rotate']=function(_0x16847c,_0x1c5e2b){var _0x51b637=Math['cos'](_0x16847c),_0x4802ae=Math['sin'](_0x16847c),_0x1d9154,_0x12d9db,_0x502c81;switch(_0x1c5e2b){case'X':_0x1d9154=this['x'],_0x12d9db=this['y']*_0x51b637-this['z']*_0x4802ae,_0x502c81=this['y']*_0x4802ae+this['z']*_0x51b637;break;case'Y':_0x1d9154=this['z']*_0x4802ae+this['x']*_0x51b637,_0x12d9db=this['y'],_0x502c81=this['z']*_0x51b637-this['x']*_0x4802ae;break;case'Z':_0x1d9154=this['x']*_0x51b637-this['y']*_0x4802ae,_0x12d9db=this['x']*_0x4802ae+this['y']*_0x51b637,_0x502c81=this['z'];break;}return this['x']=_0x1d9154,this['y']=_0x12d9db,this['z']=_0x502c81,this;},_0xdbe026['prototype']['projectOnVector']=function(_0x591384){var _0x1d65a7=_0x591384['dot'](this)/_0x591384['lengthSq']();return this['copy'](_0x591384)['multiplyScalar'](_0x1d65a7);},Object['defineProperty'](_0xdbe026['prototype'],'projectOnPlane',{'get':function(){var _0xe34548=this,_0x47a2d5=new _0xdbe026();return function(_0x2ef978){return _0x47a2d5['copy'](_0xe34548)['projectOnVector'](_0x2ef978['normalised']()),_0xe34548['min'](_0x47a2d5)['normalize']();};},'enumerable':!0x1,'configurable':!0x0}),_0xdbe026['prototype']['applyM3']=function(_0x4f4684){var _0xba8868=this['x'],_0x579c46=this['y'],_0x177fc9=this['z'],_0x1ee652=_0x4f4684['elements'];return this['x']=_0x1ee652[0x0]*_0xba8868+_0x1ee652[0x1]*_0x579c46+_0x1ee652[0x2]*_0x177fc9,this['y']=_0x1ee652[0x3]*_0xba8868+_0x1ee652[0x4]*_0x579c46+_0x1ee652[0x5]*_0x177fc9,this['z']=_0x1ee652[0x6]*_0xba8868+_0x1ee652[0x7]*_0x579c46+_0x1ee652[0x8]*_0x177fc9,this['normalize']();},_0xdbe026['prototype']['applyMatrix3']=function(_0x3c0a83){var _0x1821f2=this['x'],_0x544fb0=this['y'],_0x280428=this['z'],_0x266bea=_0x3c0a83['elements'];return this['x']=_0x266bea[0x0]*_0x1821f2+_0x266bea[0x3]*_0x544fb0+_0x266bea[0x6]*_0x280428,this['y']=_0x266bea[0x1]*_0x1821f2+_0x266bea[0x4]*_0x544fb0+_0x266bea[0x7]*_0x280428,this['z']=_0x266bea[0x2]*_0x1821f2+_0x266bea[0x5]*_0x544fb0+_0x266bea[0x8]*_0x280428,this;},_0xdbe026['prototype']['applyQuaternion']=function(_0x33cf1c){var _0x27f48d=this['x'],_0x6db47d=this['y'],_0x38abe2=this['z'],_0x46c312=_0x33cf1c['x'],_0x314db5=_0x33cf1c['y'],_0x410354=_0x33cf1c['z'],_0x13224d=_0x33cf1c['w'],_0xd87693=_0x13224d*_0x27f48d+_0x314db5*_0x38abe2-_0x410354*_0x6db47d,_0x3147f4=_0x13224d*_0x6db47d+_0x410354*_0x27f48d-_0x46c312*_0x38abe2,_0x33c104=_0x13224d*_0x38abe2+_0x46c312*_0x6db47d-_0x314db5*_0x27f48d,_0x167fcb=-_0x46c312*_0x27f48d-_0x314db5*_0x6db47d-_0x410354*_0x38abe2;return this['x']=_0xd87693*_0x13224d+_0x167fcb*-_0x46c312+_0x3147f4*-_0x410354-_0x33c104*-_0x314db5,this['y']=_0x3147f4*_0x13224d+_0x167fcb*-_0x314db5+_0x33c104*-_0x46c312-_0xd87693*-_0x410354,this['z']=_0x33c104*_0x13224d+_0x167fcb*-_0x410354+_0xd87693*-_0x314db5-_0x3147f4*-_0x46c312,this;},_0xdbe026['prototype']['sign']=function(_0x4358e1,_0x302bb7){var _0x45caaf=this['cross'](_0x4358e1)['dot'](_0x302bb7);return _0x45caaf>=0x0?0x1:-0x1;},_0xdbe026['prototype']['angleTo']=function(_0x8575d6){var _0x5c82f1=this['dot'](_0x8575d6)/Math['sqrt'](this['lengthSq']()*_0x8575d6['lengthSq']());return _0x5c82f1<=-0x1?Math['PI']:_0x5c82f1>=0x1?0x0:Math['acos'](_0x5c82f1);},_0xdbe026['prototype']['getSignedAngle']=function(_0x7aa4a1,_0x358725){var _0x38c472=this['angleTo'](_0x7aa4a1),_0x6fd81=this['sign'](_0x7aa4a1,_0x358725);return _0x6fd81===0x1?_0x38c472:-_0x38c472;},_0xdbe026['prototype']['constrainedUV']=function(_0x1972b2,_0x43b7ea,_0xaca4bc,_0x57a1c9,_0x124e87){var _0x2d9f2e=_0x1972b2['getSignedAngle'](this,_0x43b7ea);return _0x2d9f2e>_0x124e87&&this['copy'](_0xaca4bc['rotateAboutAxis'](_0x1972b2,_0x124e87,_0x43b7ea)),_0x2d9f2e<_0x57a1c9&&this['copy'](_0xaca4bc['rotateAboutAxis'](_0x1972b2,_0x57a1c9,_0x43b7ea)),this;},_0xdbe026['prototype']['limitAngle']=function(_0x5bd9e6,_0x4e1a53,_0x4c1bb9){var _0xce2431=_0x5bd9e6['angleTo'](this);if(_0xce2431>_0x4c1bb9){var _0x116988=_0x5bd9e6['normalised']()['cross'](this)['normalize']();this['copy'](_0x4e1a53['rotateAboutAxis'](_0x5bd9e6,_0x4c1bb9,_0x116988));}return this;},_0xdbe026['isVector3']=!0x0,_0xdbe026;}());W['V3']=Ai;(function(_0x3404f2){Object['defineProperty'](_0x3404f2,'__esModule',{'value':!0x0}),_0x3404f2['_Math']=void 0x0;var _0x33ea1d=et,_0x47aadb=W;_0x3404f2['_Math']={'toRad':Math['PI']/0xb4,'toDeg':0xb4/Math['PI'],'pi90':Math['PI']*0.5,'findAngle':function(_0xfe776e,_0xb7f0fe){var _0xde0f66=_0xfe776e['end']['minus'](_0xb7f0fe['end'])['lengthSq'](),_0x5df953=_0xfe776e['end']['minus'](_0xfe776e['start'])['lengthSq'](),_0x29b86c=_0xb7f0fe['end']['minus'](_0xfe776e['start'])['lengthSq'](),_0x24bc1e,_0x261b7f=(_0xde0f66+_0x5df953-_0x29b86c)/Math['sqrt'](0x4*_0xde0f66*_0x5df953);_0x261b7f<=-0x1?_0x24bc1e=Math['PI']:_0x261b7f>=0x1?_0x24bc1e=0x0:_0x24bc1e=Math['acos'](_0x261b7f);var _0x4dc201=_0xfe776e['end']['x']*_0xb7f0fe['end']['y']-_0xfe776e['end']['y']*_0xb7f0fe['end']['x'];return _0x4dc201>=0x0?_0x24bc1e:-_0x24bc1e;},'clamp':function(_0x23244d,_0x4debd4,_0x1b2af4){return _0x23244d=_0x23244d<_0x4debd4?_0x4debd4:_0x23244d,_0x23244d=_0x23244d>_0x1b2af4?_0x1b2af4:_0x23244d,_0x23244d;},'lerp':function(_0x4e5fb4,_0x262f65,_0x4ca013){return(0x1-_0x4ca013)*_0x4e5fb4+_0x4ca013*_0x262f65;},'rand':function(_0x1004b1,_0x26d873){return _0x1004b1+Math['random']()*(_0x26d873-_0x1004b1);},'randInt':function(_0x82c40,_0x411235){return _0x82c40+Math['floor'](Math['random']()*(_0x411235-_0x82c40+0x1));},'nearEquals':function(_0x42425f,_0x379a0d,_0x706b45){return Math['abs'](_0x42425f-_0x379a0d)<=_0x706b45;},'perpendicular':function(_0x306309,_0x31e85b){return!!_0x3404f2['_Math']['nearEquals'](_0x306309['dot'](_0x31e85b),0x0,0.01);},'genPerpendicularVectorQuick':function(_0x1dff2a){var _0x4f5bd1=_0x1dff2a['clone']();return Math['abs'](_0x1dff2a['y'])<0.99?_0x4f5bd1['set'](-_0x1dff2a['z'],0x0,_0x1dff2a['x'])['normalize']():_0x4f5bd1['set'](0x0,_0x1dff2a['z'],-_0x1dff2a['y'])['normalize']();},'genPerpendicularVectorFrisvad':function(_0x54cc64){var _0x2ab284=_0x54cc64['clone']();if(_0x54cc64['z']<-0.9999999)return _0x2ab284['set'](0x0,-0x1,0x0);var _0x9d1940=0x1/(0x1+_0x54cc64['z']);return _0x2ab284['set'](0x1-_0x54cc64['x']*_0x54cc64['x']*_0x9d1940,-_0x54cc64['x']*_0x54cc64['y']*_0x9d1940,-_0x54cc64['x'])['normalize']();},'rotateXDegs':function(_0x5a2cb6,_0x2daa75){return _0x5a2cb6['clone']()['rotate'](_0x2daa75*_0x3404f2['_Math']['toRad'],'X');},'rotateYDegs':function(_0x1d2e7e,_0x5bd9b9){return _0x1d2e7e['clone']()['rotate'](_0x5bd9b9*_0x3404f2['_Math']['toRad'],'Y');},'rotateZDegs':function(_0x3a8895,_0x188679){return _0x3a8895['clone']()['rotate'](_0x188679*_0x3404f2['_Math']['toRad'],'Z');},'withinManhattanDistance':function(_0xa8789,_0x4f3f4c,_0xcf2124){return!(Math['abs'](_0x4f3f4c['x']-_0xa8789['x'])>_0xcf2124||Math['abs'](_0x4f3f4c['y']-_0xa8789['y'])>_0xcf2124||Math['abs'](_0x4f3f4c['z']-_0xa8789['z'])>_0xcf2124);},'manhattanDistanceBetween':function(_0x28d7b7,_0x3f3612){return Math['abs'](_0x3f3612['x']-_0x28d7b7['x'])+Math['abs'](_0x3f3612['x']-_0x28d7b7['x'])+Math['abs'](_0x3f3612['x']-_0x28d7b7['x']);},'distanceBetween':function(_0x26d994,_0x4c1a95){var _0x316046=_0x4c1a95['x']-_0x26d994['x'],_0x440279=_0x4c1a95['y']-_0x26d994['y'],_0x42de46=_0x26d994 instanceof _0x47aadb['V3']&&_0x4c1a95 instanceof _0x47aadb['V3']?_0x4c1a95['z']-_0x26d994['z']:0x0;return Math['sqrt'](_0x316046*_0x316046+_0x440279*_0x440279+_0x42de46*_0x42de46);},'rotateDegs':function(_0x4964ce,_0x1b02a0){return _0x4964ce['clone']()['rotate'](_0x1b02a0*_0x3404f2['_Math']['toRad']);},'validateDirectionUV':function(_0x229afc){_0x229afc['length']()<0x0&&_0x33ea1d['Tools']['error']('vector\x20direction\x20unit\x20vector\x20cannot\x20be\x20zero.');},'validateLength':function(_0xa018f7){_0xa018f7<0x0&&_0x33ea1d['Tools']['error']('Length\x20must\x20be\x20a\x20greater\x20than\x20or\x20equal\x20to\x20zero.');}};}(Ut));var st={};Object['defineProperty'](st,'__esModule',{'value':!0x0});st['V2']=void 0x0;var wi=(function(){function _0x5996e1(_0xd0c7f,_0x57023e){this['x']=_0xd0c7f||0x0,this['y']=_0x57023e||0x0;}return _0x5996e1['prototype']['set']=function(_0x1b37bf,_0x30af10){return this['x']=_0x1b37bf||0x0,this['y']=_0x30af10||0x0,this;},_0x5996e1['prototype']['distanceTo']=function(_0x4599ed){return Math['sqrt'](this['distanceToSquared'](_0x4599ed));},_0x5996e1['prototype']['distanceToSquared']=function(_0x4a7db7){var _0x4b8d73=this['x']-_0x4a7db7['x'],_0x9ffe1a=this['y']-_0x4a7db7['y'];return _0x4b8d73*_0x4b8d73+_0x9ffe1a*_0x9ffe1a;},_0x5996e1['prototype']['multiplyScalar']=function(_0x22b181){return this['x']*=_0x22b181,this['y']*=_0x22b181,this;},_0x5996e1['prototype']['divideScalar']=function(_0x3fae41){return this['multiplyScalar'](0x1/_0x3fae41);},_0x5996e1['prototype']['length']=function(){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);},_0x5996e1['prototype']['normalize']=function(){return this['divideScalar'](this['length']()||0x1);},_0x5996e1['prototype']['normalised']=function(){return new _0x5996e1(this['x'],this['y'])['normalize']();},_0x5996e1['prototype']['lengthSq']=function(){return this['x']*this['x']+this['y']*this['y'];},_0x5996e1['prototype']['add']=function(_0x50d5da){return this['x']+=_0x50d5da['x'],this['y']+=_0x50d5da['y'],this;},_0x5996e1['prototype']['plus']=function(_0x1f4875){return new _0x5996e1(this['x']+_0x1f4875['x'],this['y']+_0x1f4875['y']);},_0x5996e1['prototype']['min']=function(_0x52362a){return this['x']-=_0x52362a['x'],this['y']-=_0x52362a['y'],this;},_0x5996e1['prototype']['minus']=function(_0x59c50c){return new _0x5996e1(this['x']-_0x59c50c['x'],this['y']-_0x59c50c['y']);},_0x5996e1['prototype']['divideBy']=function(_0x3d97c9){return new _0x5996e1(this['x'],this['y'])['divideScalar'](_0x3d97c9);},_0x5996e1['prototype']['dot']=function(_0x4b1f08){return this['x']*_0x4b1f08['x']+this['y']*_0x4b1f08['y'];},_0x5996e1['prototype']['negate']=function(){return this['x']=-this['x'],this['y']=-this['y'],this;},_0x5996e1['prototype']['negated']=function(){return new _0x5996e1(-this['x'],-this['y']);},_0x5996e1['prototype']['clone']=function(){return new _0x5996e1(this['x'],this['y']);},_0x5996e1['prototype']['copy']=function(_0x3c6e44){return this['x']=_0x3c6e44['x'],this['y']=_0x3c6e44['y'],this;},_0x5996e1['prototype']['cross']=function(_0x299fa8){return this['x']*_0x299fa8['y']-this['y']*_0x299fa8['x'];},_0x5996e1['prototype']['sign']=function(_0x265c14){var _0x325519=this['cross'](_0x265c14);return _0x325519>=0x0?0x1:-0x1;},_0x5996e1['prototype']['approximatelyEquals']=function(_0x1cdec4,_0x317e6f){if(_0x317e6f<0x0)return!0x1;var _0x52a807=Math['abs'](this['x']-_0x1cdec4['x']),_0x5f0acf=Math['abs'](this['y']-_0x1cdec4['y']);return _0x52a807<_0x317e6f&&_0x5f0acf<_0x317e6f;},_0x5996e1['prototype']['rotate']=function(_0x4fa414){var _0xaed69b=Math['cos'](_0x4fa414),_0xc4d782=Math['sin'](_0x4fa414),_0x125113=this['x']*_0xaed69b-this['y']*_0xc4d782,_0x91ef75=this['x']*_0xc4d782+this['y']*_0xaed69b;return this['x']=_0x125113,this['y']=_0x91ef75,this;},_0x5996e1['prototype']['angleTo']=function(_0x4844e8){var _0x2eb493=this['dot'](_0x4844e8)/Math['sqrt'](this['lengthSq']()*_0x4844e8['lengthSq']());return _0x2eb493<=-0x1?Math['PI']:_0x2eb493>=0x1?0x0:Math['acos'](_0x2eb493);},_0x5996e1['prototype']['getSignedAngle']=function(_0x34fcb6){var _0x527e0f=this['angleTo'](_0x34fcb6),_0x319602=this['sign'](_0x34fcb6);return _0x319602===0x1?_0x527e0f:-_0x527e0f;},_0x5996e1['prototype']['constrainedUV']=function(_0x5be922,_0x280e23,_0x496fc1){var _0x411c97=_0x5be922['getSignedAngle'](this);return _0x411c97>_0x496fc1&&this['copy'](_0x5be922)['rotate'](_0x496fc1),_0x411c97<_0x280e23&&this['copy'](_0x5be922)['rotate'](_0x280e23),this;},_0x5996e1['isVector2']=!0x0,_0x5996e1;}());st['V2']=wi;var at={};Object['defineProperty'](at,'__esModule',{'value':!0x0});at['M3']=void 0x0;var Nt=W,vi=(function(){function _0x1d60fd(){this['elements']=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1],arguments['length']>0x0&&console['error']('M3:\x20the\x20constructor\x20no\x20longer\x20reads\x20arguments.\x20use\x20.set()\x20instead.');}return _0x1d60fd['prototype']['set']=function(_0x1b8af3,_0x11eca3,_0xa537f9,_0x1ebd7f,_0x26b505,_0x33abec,_0xf59a4b,_0xb17a0d,_0x403224){var _0x404f02=this['elements'];return _0x404f02[0x0]=_0x1b8af3,_0x404f02[0x1]=_0x1ebd7f,_0x404f02[0x2]=_0xf59a4b,_0x404f02[0x3]=_0x11eca3,_0x404f02[0x4]=_0x26b505,_0x404f02[0x5]=_0xb17a0d,_0x404f02[0x6]=_0xa537f9,_0x404f02[0x7]=_0x33abec,_0x404f02[0x8]=_0x403224,this;},_0x1d60fd['prototype']['identity']=function(){return this['set'](0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1),this;},_0x1d60fd['prototype']['setV3']=function(_0x41ffe1,_0x57a1d7,_0x259822){var _0x4d7e74=this['elements'];return _0x4d7e74[0x0]=_0x41ffe1['x'],_0x4d7e74[0x3]=_0x41ffe1['y'],_0x4d7e74[0x6]=_0x41ffe1['z'],_0x4d7e74[0x1]=_0x57a1d7['x'],_0x4d7e74[0x4]=_0x57a1d7['y'],_0x4d7e74[0x7]=_0x57a1d7['z'],_0x4d7e74[0x2]=_0x259822['x'],_0x4d7e74[0x5]=_0x259822['y'],_0x4d7e74[0x8]=_0x259822['z'],this;},_0x1d60fd['prototype']['transpose']=function(){var _0x1143be,_0x1c6909=this['elements'];return _0x1143be=_0x1c6909[0x1],_0x1c6909[0x1]=_0x1c6909[0x3],_0x1c6909[0x3]=_0x1143be,_0x1143be=_0x1c6909[0x2],_0x1c6909[0x2]=_0x1c6909[0x6],_0x1c6909[0x6]=_0x1143be,_0x1143be=_0x1c6909[0x5],_0x1c6909[0x5]=_0x1c6909[0x7],_0x1c6909[0x7]=_0x1143be,this;},_0x1d60fd['prototype']['createRotationMatrix']=function(_0x594a4b){var _0x302376=_0x594a4b,_0x61a9c0=new Nt['V3'](0x1,0x0,0x0),_0x72c7e3=new Nt['V3'](0x0,0x1,0x0);if(_0x594a4b['z']<-0.9999999)_0x61a9c0['set'](0x1,0x0,0x0),_0x72c7e3['set'](0x0,0x1,0x0);else{var _0x24ebca=0x1/(0x1+_0x302376['z']),_0x4f0b83=-_0x302376['x']*_0x302376['y']*_0x24ebca;_0x61a9c0['set'](0x1-_0x302376['x']*_0x302376['x']*_0x24ebca,_0x4f0b83,-_0x302376['x'])['normalize'](),_0x72c7e3['set'](_0x4f0b83,0x1-_0x302376['y']*_0x302376['y']*_0x24ebca,-_0x302376['y'])['normalize']();}return this['setV3'](_0x61a9c0,_0x72c7e3,_0x302376);},_0x1d60fd['prototype']['rotateAboutAxis']=function(_0x21b3cd,_0x16f376,_0x448a2d){var _0x462cb3=Math['sin'](_0x16f376),_0x4943e8=Math['cos'](_0x16f376),_0x4d427f=0x1-_0x4943e8,_0xf65cc0=_0x448a2d['x']*_0x448a2d['y']*_0x4d427f,_0x634e47=_0x448a2d['x']*_0x448a2d['z']*_0x4d427f,_0x225abd=_0x448a2d['y']*_0x448a2d['z']*_0x4d427f,_0x54059e=this['elements'];return _0x54059e[0x0]=_0x448a2d['x']*_0x448a2d['x']*_0x4d427f+_0x4943e8,_0x54059e[0x3]=_0xf65cc0+_0x448a2d['z']*_0x462cb3,_0x54059e[0x6]=_0x634e47-_0x448a2d['y']*_0x462cb3,_0x54059e[0x1]=_0xf65cc0-_0x448a2d['z']*_0x462cb3,_0x54059e[0x4]=_0x448a2d['y']*_0x448a2d['y']*_0x4d427f+_0x4943e8,_0x54059e[0x7]=_0x225abd+_0x448a2d['x']*_0x462cb3,_0x54059e[0x2]=_0x634e47+_0x448a2d['y']*_0x462cb3,_0x54059e[0x5]=_0x225abd-_0x448a2d['x']*_0x462cb3,_0x54059e[0x8]=_0x448a2d['z']*_0x448a2d['z']*_0x4d427f+_0x4943e8,_0x21b3cd['clone']()['applyM3'](this);},_0x1d60fd['isMatrix3']=!0x0,_0x1d60fd;}());at['M3']=vi;var ct={},J={};(function(_0x5334c8){Object['defineProperty'](_0x5334c8,'__esModule',{'value':!0x0}),_0x5334c8['RIGHT']=_0x5334c8['LEFT']=_0x5334c8['DOWN']=_0x5334c8['UP']=_0x5334c8['Z_NEG']=_0x5334c8['Y_NEG']=_0x5334c8['X_NEG']=_0x5334c8['Z_AXE']=_0x5334c8['Y_AXE']=_0x5334c8['X_AXE']=_0x5334c8['ConnectionType']=_0x5334c8['JointType']=_0x5334c8['BaseboneConstraintType']=_0x5334c8['TODEG']=_0x5334c8['TORAD']=_0x5334c8['PI']=_0x5334c8['MAX_VALUE']=_0x5334c8['PRECISION_DEG']=_0x5334c8['PRECISION']=_0x5334c8['REVISION']=void 0x0;var _0x2e331e=W,_0x3f5316=st;_0x5334c8['REVISION']='1.3.3',_0x5334c8['PRECISION']=0.001,_0x5334c8['PRECISION_DEG']=0.01,_0x5334c8['MAX_VALUE']=0x1/0x0,_0x5334c8['PI']=Math['PI'],_0x5334c8['TORAD']=Math['PI']/0xb4,_0x5334c8['TODEG']=0xb4/Math['PI'],function(_0x3f0cab){_0x3f0cab[_0x3f0cab['NONE']=0x1]='NONE',_0x3f0cab[_0x3f0cab['GLOBAL_ROTOR']=0x2]='GLOBAL_ROTOR',_0x3f0cab[_0x3f0cab['GLOBAL_HINGE']=0x3]='GLOBAL_HINGE',_0x3f0cab[_0x3f0cab['LOCAL_ROTOR']=0x4]='LOCAL_ROTOR',_0x3f0cab[_0x3f0cab['LOCAL_HINGE']=0x5]='LOCAL_HINGE',_0x3f0cab[_0x3f0cab['GLOBAL_ABSOLUTE']=0x6]='GLOBAL_ABSOLUTE',_0x3f0cab[_0x3f0cab['LOCAL_RELATIVE']=0x7]='LOCAL_RELATIVE',_0x3f0cab[_0x3f0cab['LOCAL_ABSOLUTE']=0x8]='LOCAL_ABSOLUTE';}(_0x5334c8['BaseboneConstraintType']||(_0x5334c8['BaseboneConstraintType']={})),function(_0x3c4c93){_0x3c4c93[_0x3c4c93['J_BALL']=0xa]='J_BALL',_0x3c4c93[_0x3c4c93['J_LOCAL']=0xb]='J_LOCAL',_0x3c4c93[_0x3c4c93['J_GLOBAL']=0xc]='J_GLOBAL';}(_0x5334c8['JointType']||(_0x5334c8['JointType']={})),function(_0x394e20){_0x394e20[_0x394e20['START']=0x14]='START',_0x394e20[_0x394e20['END']=0x15]='END';}(_0x5334c8['ConnectionType']||(_0x5334c8['ConnectionType']={})),_0x5334c8['X_AXE']=new _0x2e331e['V3'](0x1,0x0,0x0),_0x5334c8['Y_AXE']=new _0x2e331e['V3'](0x0,0x1,0x0),_0x5334c8['Z_AXE']=new _0x2e331e['V3'](0x0,0x0,0x1),_0x5334c8['X_NEG']=new _0x2e331e['V3'](-0x1,0x0,0x0),_0x5334c8['Y_NEG']=new _0x2e331e['V3'](0x0,-0x1,0x0),_0x5334c8['Z_NEG']=new _0x2e331e['V3'](0x0,0x0,-0x1),_0x5334c8['UP']=new _0x3f5316['V2'](0x0,0x1),_0x5334c8['DOWN']=new _0x3f5316['V2'](0x0,-0x1),_0x5334c8['LEFT']=new _0x3f5316['V2'](-0x1,0x0),_0x5334c8['RIGHT']=new _0x3f5316['V2'](0x1,0x0);}(J));Object['defineProperty'](ct,'__esModule',{'value':!0x0});ct['Joint3D']=void 0x0;var Yt=W,V=J,Ci=(function(){function _0xc3687b(){this['rotor']=V['PI'],this['min']=-V['PI'],this['max']=V['PI'],this['freeHinge']=!0x0,this['rotationAxisUV']=new Yt['V3'](),this['referenceAxisUV']=new Yt['V3'](),this['type']=V['JointType']['J_BALL'];}return _0xc3687b['prototype']['clone']=function(){var _0x46219f=new _0xc3687b();return _0x46219f['type']=this['type'],_0x46219f['rotor']=this['rotor'],_0x46219f['max']=this['max'],_0x46219f['min']=this['min'],_0x46219f['freeHinge']=this['freeHinge'],_0x46219f['rotationAxisUV']['copy'](this['rotationAxisUV']),_0x46219f['referenceAxisUV']['copy'](this['referenceAxisUV']),_0x46219f;},_0xc3687b['prototype']['testAngle']=function(){this['max']===V['PI']&&this['min']===-V['PI']?this['freeHinge']=!0x0:this['freeHinge']=!0x1;},_0xc3687b['prototype']['validateAngle']=function(_0x3c0e3b){return _0x3c0e3b=_0x3c0e3b<0x0?0x0:_0x3c0e3b,_0x3c0e3b=_0x3c0e3b>0xb4?0xb4:_0x3c0e3b,_0x3c0e3b;},_0xc3687b['prototype']['setAsBallJoint']=function(_0x34d445){this['rotor']=this['validateAngle'](_0x34d445)*V['TORAD'],this['type']=V['JointType']['J_BALL'];},_0xc3687b['prototype']['setHinge']=function(_0x9b280e,_0x594a53,_0x2fa3f0,_0x5606ba,_0x83852f){this['type']=_0x9b280e,_0x2fa3f0<0x0&&(_0x2fa3f0*=-0x1),this['min']=-this['validateAngle'](_0x2fa3f0)*V['TORAD'],this['max']=this['validateAngle'](_0x5606ba)*V['TORAD'],this['testAngle'](),this['rotationAxisUV']['copy'](_0x594a53)['normalize'](),this['referenceAxisUV']['copy'](_0x83852f)['normalize']();},_0xc3687b['prototype']['getHingeReferenceAxis']=function(){return this['referenceAxisUV'];},_0xc3687b['prototype']['getHingeRotationAxis']=function(){return this['rotationAxisUV'];},_0xc3687b['prototype']['setBallJointConstraintDegs']=function(_0x32a2cf){this['rotor']=this['validateAngle'](_0x32a2cf)*V['TORAD'];},_0xc3687b['prototype']['setHingeClockwise']=function(_0x3f27ac){_0x3f27ac<0x0&&(_0x3f27ac*=-0x1),this['min']=-this['validateAngle'](_0x3f27ac)*V['TORAD'],this['testAngle']();},_0xc3687b['prototype']['setHingeAnticlockwise']=function(_0x106777){this['max']=this['validateAngle'](_0x106777)*V['TORAD'],this['testAngle']();},_0xc3687b['isJoint3D']=!0x0,_0xc3687b;}());ct['Joint3D']=Ci;var mt={};Object['defineProperty'](mt,'__esModule',{'value':!0x0});mt['Bone3D']=void 0x0;var Bi=J,Ti=ct,kt=W,Mi=(function(){function _0x4aae8a(_0xbf2548,_0x3b0964,_0x3ee768,_0x416f91){this['joint']=new Ti['Joint3D'](),this['start']=new kt['V3'](),this['end']=new kt['V3'](),this['boneConnectionPoint']=Bi['ConnectionType']['END'],this['length']=0x0,this['name']='',this['init'](_0xbf2548,_0x3b0964,_0x3ee768,_0x416f91);}return _0x4aae8a['prototype']['init']=function(_0xe2a019,_0x3871ab,_0x43101d,_0x1da0f2){this['setStartLocation'](_0xe2a019),_0x3871ab?(this['setEndLocation'](_0x3871ab),this['length']=this['getLength']()):_0x1da0f2&&_0x43101d&&(this['setLength'](_0x1da0f2),this['setEndLocation'](this['start']['plus'](_0x43101d['normalised']()['multiplyScalar'](_0x1da0f2))));},_0x4aae8a['prototype']['clone']=function(){var _0x35d457=new _0x4aae8a(this['start'],this['end']);return _0x35d457['joint']=this['joint']['clone'](),_0x35d457;},_0x4aae8a['prototype']['setBoneConnectionPoint']=function(_0x3c50ff){this['boneConnectionPoint']=_0x3c50ff;},_0x4aae8a['prototype']['setHingeClockwise']=function(_0x25752f){this['joint']['setHingeClockwise'](_0x25752f);},_0x4aae8a['prototype']['setHingeAnticlockwise']=function(_0x36c9e5){this['joint']['setHingeAnticlockwise'](_0x36c9e5);},_0x4aae8a['prototype']['setBallJointConstraintDegs']=function(_0x5e2c7a){this['joint']['setBallJointConstraintDegs'](_0x5e2c7a);},_0x4aae8a['prototype']['setStartLocation']=function(_0x43bd96){this['start']['copy'](_0x43bd96);},_0x4aae8a['prototype']['setEndLocation']=function(_0x4705fd){this['end']['copy'](_0x4705fd);},_0x4aae8a['prototype']['setLength']=function(_0x95ac6a){_0x95ac6a>0x0&&(this['length']=_0x95ac6a);},_0x4aae8a['prototype']['setJoint']=function(_0x14e725){this['joint']=_0x14e725;},_0x4aae8a['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x4aae8a['prototype']['getDirectionUV']=function(){return this['end']['minus'](this['start'])['normalize']();},_0x4aae8a['prototype']['getLength']=function(){return this['start']['distanceTo'](this['end']);},_0x4aae8a['isBone3D']=!0x0,_0x4aae8a;}());mt['Bone3D']=Mi;var Rt={};Object['defineProperty'](Rt,'__esModule',{'value':!0x0});Rt['Chain3D']=void 0x0;var b=J,wt=Ut,Z=W,Ui=at,Pt=mt,rt=et,Ri=(function(){function _0x4527f9(){this['tmpTarget']=new Z['V3'](),this['tmpMtx']=new Ui['M3'](),this['bones']=[],this['name']='',this['solveDistanceThreshold']=0x1,this['minIterationChange']=0.01,this['maxIteration']=0x14,this['precision']=0.001,this['chainLength']=0x0,this['numBones']=0x0,this['baseLocation']=new Z['V3'](),this['fixedBaseMode']=!0x0,this['baseboneConstraintType']=b['BaseboneConstraintType']['NONE'],this['baseboneConstraintUV']=new Z['V3'](),this['baseboneRelativeConstraintUV']=new Z['V3'](),this['baseboneRelativeReferenceConstraintUV']=new Z['V3'](),this['lastTargetLocation']=new Z['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['lastBaseLocation']=new Z['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['currentSolveDistance']=b['MAX_VALUE'],this['connectedChainNumber']=-0x1,this['connectedBoneNumber']=-0x1,this['boneConnectionPoint']=b['ConnectionType']['END'],this['isFullForward']=!0x1,this['embeddedTarget']=new Z['V3'](),this['useEmbeddedTarget']=!0x1;}return _0x4527f9['prototype']['clone']=function(){var _0x5e31af=new _0x4527f9();return _0x5e31af['solveDistanceThreshold']=this['solveDistanceThreshold'],_0x5e31af['minIterationChange']=this['minIterationChange'],_0x5e31af['maxIteration']=this['maxIteration'],_0x5e31af['precision']=this['precision'],_0x5e31af['bones']=this['cloneBones'](),_0x5e31af['baseLocation']['copy'](this['baseLocation']),_0x5e31af['lastTargetLocation']['copy'](this['lastTargetLocation']),_0x5e31af['lastBaseLocation']['copy'](this['lastBaseLocation']),this['baseboneConstraintType']!==b['BaseboneConstraintType']['NONE']&&(_0x5e31af['baseboneConstraintUV']['copy'](this['baseboneConstraintUV']),_0x5e31af['baseboneRelativeConstraintUV']['copy'](this['baseboneRelativeConstraintUV'])),_0x5e31af['fixedBaseMode']=this['fixedBaseMode'],_0x5e31af['chainLength']=this['chainLength'],_0x5e31af['numBones']=this['numBones'],_0x5e31af['currentSolveDistance']=this['currentSolveDistance'],_0x5e31af['boneConnectionPoint']=this['boneConnectionPoint'],_0x5e31af['connectedChainNumber']=this['connectedChainNumber'],_0x5e31af['connectedBoneNumber']=this['connectedBoneNumber'],_0x5e31af['baseboneConstraintType']=this['baseboneConstraintType'],_0x5e31af['embeddedTarget']=this['embeddedTarget']['clone'](),_0x5e31af['useEmbeddedTarget']=this['useEmbeddedTarget'],_0x5e31af;},_0x4527f9['prototype']['clear']=function(){for(var _0x2f596a=this['numBones'];_0x2f596a--;)this['removeBone'](_0x2f596a);this['numBones']=0x0;},_0x4527f9['prototype']['addBone']=function(_0x50ea78){this['bones']['push'](_0x50ea78),this['numBones']++,this['numBones']===0x1&&(this['baseLocation']['copy'](_0x50ea78['start']),this['baseboneConstraintUV']['copy'](_0x50ea78['getDirectionUV']())),this['updateChainLength']();},_0x4527f9['prototype']['removeBone']=function(_0x2f0949){_0x2f0949<this['numBones']&&(this['bones']['splice'](_0x2f0949,0x1),this['numBones']--,this['updateChainLength']());},_0x4527f9['prototype']['addConsecutiveBone']=function(_0x2cc13a,_0x3f4269){this['numBones']>0x0&&this['addBone'](new Pt['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0x2cc13a['normalised'](),_0x3f4269));},_0x4527f9['prototype']['addConsecutiveFreelyRotatingHingedBone']=function(_0x56a40a,_0x299a79,_0xadc27e,_0xd8f980){this['addConsecutiveHingedBone'](_0x56a40a,_0x299a79,_0xadc27e,_0xd8f980,0xb4,0xb4,wt['_Math']['genPerpendicularVectorQuick'](_0xd8f980));},_0x4527f9['prototype']['addConsecutiveHingedBone']=function(_0x3d8258,_0xb4703b,_0x39d666,_0x275b8c,_0x58ad66,_0x55f2c7,_0x901f8f){if(this['numBones']!==0x0){var _0x3dde40=_0x3d8258['normalised'](),_0x4234c0=_0x275b8c['normalised'](),_0x13e6da=new Pt['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0x3dde40,_0xb4703b);_0x39d666=_0x39d666||'global',_0x13e6da['joint']['setHinge'](_0x39d666==='global'?b['JointType']['J_GLOBAL']:b['JointType']['J_LOCAL'],_0x4234c0,_0x58ad66,_0x55f2c7,_0x901f8f),this['addBone'](_0x13e6da);}},_0x4527f9['prototype']['addConsecutiveRotorConstrainedBone']=function(_0xc8c9cc,_0xb2affe,_0x177de9){if(this['numBones']!==0x0){_0xc8c9cc=_0xc8c9cc['normalised']();var _0x136d5e=new Pt['Bone3D'](this['bones'][this['numBones']-0x1]['end'],void 0x0,_0xc8c9cc,_0xb2affe);_0x136d5e['joint']['setAsBallJoint'](_0x177de9),this['addBone'](_0x136d5e);}},_0x4527f9['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x4527f9['prototype']['getConnectedBoneNumber']=function(){return this['connectedBoneNumber'];},_0x4527f9['prototype']['getConnectedChainNumber']=function(){return this['connectedChainNumber'];},_0x4527f9['prototype']['getBaseboneConstraintType']=function(){return this['baseboneConstraintType'];},_0x4527f9['prototype']['getBaseboneConstraintUV']=function(){if(this['baseboneConstraintType']!==b['BaseboneConstraintType']['NONE'])return this['baseboneConstraintUV'];},_0x4527f9['prototype']['getBaseLocation']=function(){return this['bones'][0x0]['start'];},_0x4527f9['prototype']['getEffectorLocation']=function(){return this['bones'][this['numBones']-0x1]['end'];},_0x4527f9['prototype']['getLastTargetLocation']=function(){return this['lastTargetLocation'];},_0x4527f9['prototype']['getLiveChainLength']=function(){for(var _0x47e031=0x0,_0x7d35f3=this['numBones'];_0x7d35f3--;)_0x47e031+=this['bones'][_0x7d35f3]['getLength']();return _0x47e031;},_0x4527f9['prototype']['getBaseboneRelativeReferenceConstraintUV']=function(){return this['baseboneRelativeReferenceConstraintUV'];},_0x4527f9['prototype']['setConnectedBoneNumber']=function(_0x3cf3ab){this['connectedBoneNumber']=_0x3cf3ab;},_0x4527f9['prototype']['setConnectedChainNumber']=function(_0x17ecba){this['connectedChainNumber']=_0x17ecba;},_0x4527f9['prototype']['setBoneConnectionPoint']=function(_0xafb0af){this['boneConnectionPoint']=_0xafb0af;},_0x4527f9['prototype']['setBaseboneRelativeConstraintUV']=function(_0x4a4489){_0x4a4489&&(this['baseboneRelativeConstraintUV']=_0x4a4489['normalised']());},_0x4527f9['prototype']['setBaseboneRelativeReferenceConstraintUV']=function(_0xe71948){this['baseboneRelativeReferenceConstraintUV']=_0xe71948['normalised']();},_0x4527f9['prototype']['setBaseboneConstraintUV']=function(_0x4cb282){this['baseboneConstraintUV']=_0x4cb282['normalised']();},_0x4527f9['prototype']['setRotorBaseboneConstraint']=function(_0x4f9619,_0x3c90b8,_0x274deb){if(this['numBones']===0x0){rt['Tools']['error']('Chain\x20must\x20contain\x20a\x20basebone\x20before\x20we\x20can\x20specify\x20the\x20basebone\x20constraint\x20type.');return;}if(!(_0x3c90b8['length']()>0x0)){rt['Tools']['error']('Constraint\x20axis\x20cannot\x20be\x20zero.');return;}_0x4f9619=_0x4f9619||'global',this['baseboneConstraintType']=_0x4f9619==='global'?b['BaseboneConstraintType']['GLOBAL_ROTOR']:b['BaseboneConstraintType']['LOCAL_ROTOR'],this['baseboneConstraintUV']=_0x3c90b8['normalised'](),this['baseboneRelativeConstraintUV']['copy'](this['baseboneConstraintUV']),this['bones'][0x0]['joint']['setAsBallJoint'](_0x274deb);},_0x4527f9['prototype']['setHingeBaseboneConstraint']=function(_0x471ca5,_0x3a5b45,_0x56b0d1,_0x58235d,_0x8e35e3){if(this['numBones']===0x0){rt['Tools']['error']('Chain\x20must\x20contain\x20a\x20basebone\x20before\x20we\x20can\x20specify\x20the\x20basebone\x20constraint\x20type.');return;}if(_0x3a5b45['length']()<=0x0){rt['Tools']['error']('Hinge\x20rotation\x20axis\x20cannot\x20be\x20zero.');return;}if(_0x8e35e3['length']()<=0x0){rt['Tools']['error']('Hinge\x20reference\x20axis\x20cannot\x20be\x20zero.');return;}if(!wt['_Math']['perpendicular'](_0x3a5b45,_0x8e35e3)){rt['Tools']['error']('The\x20hinge\x20reference\x20axis\x20must\x20be\x20in\x20the\x20plane\x20of\x20the\x20hinge\x20rotation\x20axis,\x20that\x20is,\x20they\x20must\x20be\x20perpendicular.');return;}_0x471ca5=_0x471ca5||'global',this['baseboneConstraintType']=_0x471ca5==='global'?b['BaseboneConstraintType']['GLOBAL_HINGE']:b['BaseboneConstraintType']['LOCAL_HINGE'],this['baseboneConstraintUV']=_0x3a5b45['normalised'](),this['bones'][0x0]['joint']['setHinge'](_0x471ca5==='global'?b['JointType']['J_GLOBAL']:b['JointType']['J_LOCAL'],_0x3a5b45,_0x56b0d1,_0x58235d,_0x8e35e3);},_0x4527f9['prototype']['setFreelyRotatingGlobalHingedBasebone']=function(_0x3da39c){this['setHingeBaseboneConstraint']('global',_0x3da39c,0xb4,0xb4,wt['_Math']['genPerpendicularVectorQuick'](_0x3da39c));},_0x4527f9['prototype']['setGlobalHingedBasebone']=function(_0x4b731a,_0x1d5bc3,_0x4c6b9b,_0x53c91d){this['setHingeBaseboneConstraint']('global',_0x4b731a,_0x1d5bc3,_0x4c6b9b,_0x53c91d);},_0x4527f9['prototype']['setFreelyRotatingLocalHingedBasebone']=function(_0x4423b3){this['setHingeBaseboneConstraint']('local',_0x4423b3,0xb4,0xb4,wt['_Math']['genPerpendicularVectorQuick'](_0x4423b3));},_0x4527f9['prototype']['setLocalHingedBasebone']=function(_0x3aed19,_0x388eba,_0x1497d7,_0x4a5187){this['setHingeBaseboneConstraint']('local',_0x3aed19,_0x388eba,_0x1497d7,_0x4a5187);},_0x4527f9['prototype']['setBaseLocation']=function(_0xa52679){this['baseLocation']['copy'](_0xa52679);},_0x4527f9['prototype']['setFixedBaseMode']=function(_0x36d74c){!_0x36d74c&&this['connectedChainNumber']!==-0x1||this['baseboneConstraintType']===b['BaseboneConstraintType']['GLOBAL_ROTOR']&&!_0x36d74c||(this['fixedBaseMode']=_0x36d74c);},_0x4527f9['prototype']['setMaxIterationAttempts']=function(_0x114f12){_0x114f12<0x1||(this['maxIteration']=_0x114f12);},_0x4527f9['prototype']['setMinIterationChange']=function(_0x834db5){_0x834db5<0x0||(this['minIterationChange']=_0x834db5);},_0x4527f9['prototype']['setSolveDistanceThreshold']=function(_0x94d5f3){_0x94d5f3<0x0||(this['solveDistanceThreshold']=_0x94d5f3);},_0x4527f9['prototype']['solveForEmbeddedTarget']=function(){if(this['useEmbeddedTarget'])return this['solveForTarget'](this['embeddedTarget']);},_0x4527f9['prototype']['resetTarget']=function(){this['lastBaseLocation']=new Z['V3'](b['MAX_VALUE'],b['MAX_VALUE'],b['MAX_VALUE']),this['currentSolveDistance']=b['MAX_VALUE'];},_0x4527f9['prototype']['solveForTarget']=function(_0x1cb5c6){this['tmpTarget']['set'](_0x1cb5c6['x'],_0x1cb5c6['y'],_0x1cb5c6['z']);var _0x3f3899=this['precision'],_0x2b49be=this['lastBaseLocation']['approximatelyEquals'](this['baseLocation'],_0x3f3899);if(this['lastTargetLocation']['approximatelyEquals'](this['tmpTarget'],_0x3f3899)&&_0x2b49be)return this['currentSolveDistance'];var _0x40fd43,_0x31686e=null;_0x2b49be?(_0x40fd43=this['bones'][this['numBones']-0x1]['end']['distanceTo'](this['tmpTarget']),_0x31686e=this['cloneBones']()):_0x40fd43=b['MAX_VALUE'];for(var _0x4db2fd=[],_0x3ed460=b['MAX_VALUE'],_0x4b595f=b['MAX_VALUE'],_0x109358,_0x884f74=this['maxIteration'];_0x884f74--;){if(_0x109358=this['solveIK'](this['tmpTarget']),_0x109358!==void 0x0&&_0x109358<_0x3ed460){if(_0x3ed460=_0x109358,_0x4db2fd=this['cloneBones'](),_0x109358<=this['solveDistanceThreshold'])break;}else if(_0x109358===void 0x0||Math['abs'](_0x109358-_0x4b595f)<this['minIterationChange'])break;_0x4b595f=_0x109358;}return _0x3ed460<_0x40fd43?(this['currentSolveDistance']=_0x3ed460,this['bones']=_0x4db2fd):(this['currentSolveDistance']=_0x40fd43,this['bones']=_0x31686e||this['bones']),this['lastBaseLocation']['copy'](this['baseLocation']),this['lastTargetLocation']['copy'](this['tmpTarget']),this['currentSolveDistance'];},_0x4527f9['prototype']['solveIK']=function(_0xdddc3e){if(this['numBones']!==0x0){for(var _0x2ca93c,_0x5f0dba,_0x538269,_0x4f18f0,_0x1ed64f,_0x40e738,_0x2d3a70=this['tmpMtx'],_0x423103=this['numBones'];_0x423103--;)if(_0x2ca93c=this['bones'][_0x423103],_0x5f0dba=_0x2ca93c['length'],_0x538269=_0x2ca93c['joint'],_0x4f18f0=_0x538269['type'],_0x423103!==this['numBones']-0x1){_0x1ed64f=this['bones'][_0x423103+0x1];var _0x1aab43=_0x1ed64f['getDirectionUV']()['negate'](),_0x3a5434=_0x2ca93c['getDirectionUV']()['negate']();switch(_0x4f18f0){case b['JointType']['J_BALL']:_0x3a5434['limitAngle'](_0x1aab43,_0x2d3a70,_0x538269['rotor']);break;case b['JointType']['J_GLOBAL']:_0x40e738=_0x538269['getHingeRotationAxis'](),_0x3a5434['projectOnPlane'](_0x40e738);break;case b['JointType']['J_LOCAL']:_0x423103>0x0?(_0x2d3a70['createRotationMatrix'](this['bones'][_0x423103-0x1]['getDirectionUV']()),_0x40e738=_0x538269['getHingeRotationAxis']()['clone']()['applyM3'](_0x2d3a70)):_0x40e738=this['baseboneRelativeConstraintUV'],_0x3a5434['projectOnPlane'](_0x40e738);break;}var _0x16575b=_0x2ca93c['end']['plus'](_0x3a5434['multiplyScalar'](_0x5f0dba));_0x2ca93c['setStartLocation'](_0x16575b),_0x423103>0x0&&this['bones'][_0x423103-0x1]['setEndLocation'](_0x16575b);}else{_0x2ca93c['setEndLocation'](_0xdddc3e);var _0x3a5434=_0x2ca93c['getDirectionUV']()['negated']();switch(_0x4f18f0){case b['JointType']['J_BALL']:break;case b['JointType']['J_GLOBAL']:_0x40e738=_0x538269['getHingeRotationAxis'](),_0x3a5434['projectOnPlane'](_0x40e738);break;case b['JointType']['J_LOCAL']:_0x2d3a70['createRotationMatrix'](this['bones'][_0x423103-0x1]['getDirectionUV']()),_0x40e738=_0x538269['getHingeRotationAxis']()['clone']()['applyM3'](_0x2d3a70),_0x3a5434['projectOnPlane'](_0x40e738);break;}var _0x16575b=_0xdddc3e['plus'](_0x3a5434['multiplyScalar'](_0x5f0dba));_0x2ca93c['setStartLocation'](_0x16575b),_0x423103>0x0&&this['bones'][_0x423103-0x1]['setEndLocation'](_0x16575b);}for(_0x423103=0x0;_0x423103<this['numBones'];_0x423103++)if(_0x2ca93c=this['bones'][_0x423103],_0x5f0dba=_0x2ca93c['length'],_0x538269=_0x2ca93c['joint'],_0x4f18f0=_0x538269['type'],_0x423103!==0x0){var _0xb8184c=_0x2ca93c['getDirectionUV'](),_0x382229=this['bones'][_0x423103-0x1]['getDirectionUV'](),_0x4560ba=void 0x0,_0xa49fbc=void 0x0;switch(_0x4f18f0){case b['JointType']['J_BALL']:_0xb8184c['limitAngle'](_0x382229,_0x2d3a70,_0x538269['rotor']);break;case b['JointType']['J_GLOBAL']:_0x4560ba=_0x538269['getHingeRotationAxis'](),_0xa49fbc=_0x538269['getHingeReferenceAxis'](),_0xb8184c['projectOnPlane'](_0x4560ba),_0x538269['freeHinge']||_0xb8184c['constrainedUV'](_0xa49fbc,_0x4560ba,_0x2d3a70,_0x538269['min'],_0x538269['max']);break;case b['JointType']['J_LOCAL']:_0x2d3a70['createRotationMatrix'](_0x382229),_0x4560ba=_0x538269['getHingeRotationAxis']()['clone']()['applyM3'](_0x2d3a70),_0xa49fbc=_0x538269['getHingeReferenceAxis']()['clone']()['applyM3'](_0x2d3a70),_0xb8184c['projectOnPlane'](_0x4560ba),_0x538269['freeHinge']||_0xb8184c['constrainedUV'](_0xa49fbc,_0x4560ba,_0x2d3a70,_0x538269['min'],_0x538269['max']);break;}var _0x97f401=_0x2ca93c['start']['plus'](_0xb8184c['multiplyScalar'](_0x5f0dba));_0x2ca93c['setEndLocation'](_0x97f401),_0x423103<this['numBones']-0x1&&this['bones'][_0x423103+0x1]['setStartLocation'](_0x97f401);}else{this['fixedBaseMode']?_0x2ca93c['setStartLocation'](this['baseLocation']):_0x2ca93c['setStartLocation'](_0x2ca93c['end']['minus'](_0x2ca93c['getDirectionUV']()['multiplyScalar'](_0x5f0dba)));var _0xb8184c=_0x2ca93c['getDirectionUV'](),_0x2785e9=void 0x0,_0xa49fbc=void 0x0;switch(this['baseboneConstraintType']){case b['BaseboneConstraintType']['NONE']:break;case b['BaseboneConstraintType']['GLOBAL_ROTOR']:_0xb8184c['limitAngle'](this['baseboneConstraintUV'],_0x2d3a70,_0x538269['rotor']);break;case b['BaseboneConstraintType']['LOCAL_ROTOR']:_0xb8184c['limitAngle'](this['baseboneRelativeConstraintUV'],_0x2d3a70,_0x538269['rotor']);break;case b['BaseboneConstraintType']['GLOBAL_HINGE']:_0x2785e9=_0x538269['getHingeRotationAxis'](),_0xa49fbc=_0x538269['getHingeReferenceAxis'](),_0xb8184c['projectOnPlane'](_0x2785e9),_0x538269['freeHinge']||_0xb8184c['constrainedUV'](_0xa49fbc,_0x2785e9,_0x2d3a70,_0x538269['min'],_0x538269['max']);break;case b['BaseboneConstraintType']['LOCAL_HINGE']:_0x2785e9=this['baseboneRelativeConstraintUV'],_0xa49fbc=this['baseboneRelativeReferenceConstraintUV'],_0xb8184c['projectOnPlane'](_0x2785e9),_0x538269['freeHinge']||_0xb8184c['constrainedUV'](_0xa49fbc,_0x2785e9,_0x2d3a70,_0x538269['min'],_0x538269['max']);break;}var _0x97f401=_0x2ca93c['start']['plus'](_0xb8184c['multiplyScalar'](_0x5f0dba));_0x2ca93c['setEndLocation'](_0x97f401),this['numBones']>0x1&&this['bones'][0x1]['setStartLocation'](_0x97f401);}return this['lastTargetLocation']['copy'](_0xdddc3e),this['bones'][this['numBones']-0x1]['end']['distanceTo'](_0xdddc3e);}},_0x4527f9['prototype']['updateChainLength']=function(){this['chainLength']=0x0;for(var _0xfd0e39=this['numBones'];_0xfd0e39--;)this['chainLength']+=this['bones'][_0xfd0e39]['length'];},_0x4527f9['prototype']['cloneBones']=function(){for(var _0x4d51f3=[],_0x5dd7dd=0x0,_0x6723c3=this['bones']['length'];_0x5dd7dd<_0x6723c3;_0x5dd7dd++)_0x4d51f3['push'](this['bones'][_0x5dd7dd]['clone']());return _0x4d51f3;},_0x4527f9['isChain3D']=!0x0,_0x4527f9;}());Rt['Chain3D']=Ri;var Lt={};Object['defineProperty'](Lt,'__esModule',{'value':!0x0});Lt['Structure3D']=void 0x0;var $=J,Li=at,Ei=(function(){function _0x933427(){this['fixedBaseMode']=!0x0,this['chains']=[],this['targets']=[],this['numChains']=0x0,this['tmpMtx']=new Li['M3']();}return _0x933427['prototype']['update']=function(){for(var _0x5b4545,_0x18d2e3,_0x2d47b4,_0x4b49a3,_0x7219e7,_0x385e0e,_0x2b4a1b=0x0;_0x2b4a1b<this['numChains'];_0x2b4a1b++){if(_0x18d2e3=this['chains'][_0x2b4a1b],_0x2d47b4=this['targets'][_0x2b4a1b],_0x4b49a3=_0x18d2e3['getConnectedChainNumber'](),_0x4b49a3!==-0x1){_0x7219e7=this['chains'][_0x4b49a3]['bones'][_0x18d2e3['getConnectedBoneNumber']()],_0x18d2e3['setBaseLocation'](_0x18d2e3['getBoneConnectionPoint']()===$['ConnectionType']['START']?_0x7219e7['start']:_0x7219e7['end']),_0x385e0e=_0x18d2e3['getBaseboneConstraintType']();var _0xaafecf=void 0x0;switch(_0x385e0e){case $['BaseboneConstraintType']['NONE']:case $['BaseboneConstraintType']['GLOBAL_ROTOR']:case $['BaseboneConstraintType']['GLOBAL_HINGE']:break;case $['BaseboneConstraintType']['LOCAL_ROTOR']:case $['BaseboneConstraintType']['LOCAL_HINGE']:this['tmpMtx']['createRotationMatrix'](_0x7219e7['getDirectionUV']()),_0xaafecf=(_0x5b4545=_0x18d2e3['getBaseboneConstraintUV']())===null||_0x5b4545===void 0x0?void 0x0:_0x5b4545['clone']()['applyM3'](this['tmpMtx']),_0x18d2e3['setBaseboneRelativeConstraintUV'](_0xaafecf),_0x385e0e===$['BaseboneConstraintType']['LOCAL_HINGE']&&_0x18d2e3['setBaseboneRelativeReferenceConstraintUV'](_0x18d2e3['bones'][0x0]['joint']['getHingeReferenceAxis']()['clone']()['applyM3'](this['tmpMtx']));break;}}_0x18d2e3['useEmbeddedTarget']?_0x18d2e3['solveForEmbeddedTarget']():_0x18d2e3['solveForTarget'](_0x2d47b4);}},_0x933427['prototype']['clear']=function(){var _0x6ca96e;for(_0x6ca96e=this['numChains'];_0x6ca96e--;)this['remove'](_0x6ca96e);this['chains']=[],this['targets']=[];},_0x933427['prototype']['add']=function(_0x466953,_0x930de1){this['chains']['push'](_0x466953),this['targets']['push'](_0x930de1),this['numChains']++;},_0x933427['prototype']['remove']=function(_0x6f778f){this['chains'][_0x6f778f]['clear'](),this['chains']['splice'](_0x6f778f,0x1),this['targets']['splice'](_0x6f778f,0x1),this['numChains']--;},_0x933427['prototype']['setFixedBaseMode']=function(_0x15362b){this['fixedBaseMode']=_0x15362b;for(var _0x577186=this['numChains'],_0x4cc2e2;_0x577186--;)_0x4cc2e2=this['chains'][_0x577186]['getConnectedChainNumber'](),_0x4cc2e2===-0x1&&this['chains'][_0x577186]['setFixedBaseMode'](this['fixedBaseMode']);},_0x933427['prototype']['getNumChains']=function(){return this['numChains'];},_0x933427['prototype']['getChain']=function(_0x3381ff){return this['chains'][_0x3381ff];},_0x933427['prototype']['connectChain']=function(_0x22fd14,_0x5c1f0f,_0xdb0c0,_0x2bb070,_0x981a52){var _0x16c9b1=_0x5c1f0f,_0x34ef4e=_0xdb0c0;if(!(_0x5c1f0f>this['numChains'])&&!(_0xdb0c0>this['chains'][_0x5c1f0f]['numBones'])){var _0x5a0442=_0x22fd14['clone']();_0x5a0442['setBoneConnectionPoint'](_0x2bb070==='end'?$['ConnectionType']['END']:$['ConnectionType']['START']),_0x5a0442['setConnectedChainNumber'](_0x16c9b1),_0x5a0442['setConnectedBoneNumber'](_0x34ef4e);var _0x3d64a0=_0x2bb070==='end'?this['chains'][_0x16c9b1]['bones'][_0x34ef4e]['end']:this['chains'][_0x16c9b1]['bones'][_0x34ef4e]['start'];_0x5a0442['setBaseLocation'](_0x3d64a0),_0x5a0442['setFixedBaseMode'](!0x0);for(var _0x1ce4b9=0x0;_0x1ce4b9<_0x5a0442['numBones'];_0x1ce4b9++)_0x5a0442['bones'][_0x1ce4b9]['start']['add'](_0x3d64a0),_0x5a0442['bones'][_0x1ce4b9]['end']['add'](_0x3d64a0);this['add'](_0x5a0442,_0x981a52);}},_0x933427;}());Lt['Structure3D']=Ei;var ft={};Object['defineProperty'](ft,'__esModule',{'value':!0x0});ft['Joint2D']=void 0x0;var tt=J,zi=(function(){function _0x390085(_0x2e05a2,_0x3ee426,_0x40f01f){_0x2e05a2===void 0x0&&(_0x2e05a2=0x0),this['isJoint2D']=!0x0,this['coordinateSystem']=_0x40f01f||tt['JointType']['J_LOCAL'],_0x2e05a2<0x0&&(_0x2e05a2*=-0x1),this['min']=_0x2e05a2!==void 0x0?-_0x2e05a2*tt['TORAD']:-tt['PI'],this['max']=_0x3ee426!==void 0x0?_0x3ee426*tt['TORAD']:tt['PI'];}return _0x390085['prototype']['clone']=function(){var _0x17c843=new _0x390085();return _0x17c843['coordinateSystem']=this['coordinateSystem'],_0x17c843['max']=this['max'],_0x17c843['min']=this['min'],_0x17c843;},_0x390085['prototype']['validateAngle']=function(_0x1aa4d5){return _0x1aa4d5=_0x1aa4d5<0x0?0x0:_0x1aa4d5,_0x1aa4d5=_0x1aa4d5>0xb4?0xb4:_0x1aa4d5,_0x1aa4d5;},_0x390085['prototype']['set']=function(_0x596478){this['max']=_0x596478['max'],this['min']=_0x596478['min'],this['coordinateSystem']=_0x596478['coordinateSystem'];},_0x390085['prototype']['setClockwiseConstraintDegs']=function(_0x183bf5){_0x183bf5<0x0&&(_0x183bf5*=-0x1),this['min']=-(this['validateAngle'](_0x183bf5)*tt['TORAD']);},_0x390085['prototype']['setAnticlockwiseConstraintDegs']=function(_0x2cc46c){this['max']=this['validateAngle'](_0x2cc46c)*tt['TORAD'];},_0x390085['prototype']['setConstraintCoordinateSystem']=function(_0x8e40a0){this['coordinateSystem']=_0x8e40a0;},_0x390085['prototype']['getConstraintCoordinateSystem']=function(){return this['coordinateSystem'];},_0x390085;}());ft['Joint2D']=zi;var dt={};Object['defineProperty'](dt,'__esModule',{'value':!0x0});dt['Bone2D']=void 0x0;var Si=J,Di=ft,Ft=st,Ii=(function(){function _0x2b8256(_0x5b4360,_0x530e12,_0x24fd05,_0x1fe303,_0x3961ec,_0x483b6b){this['isBone2D']=!0x0,this['globalConstraintUV']=new Ft['V2'](0x1,0x0),this['boneConnectionPoint']=Si['ConnectionType']['END'],this['start']=new Ft['V2'](),this['end']=new Ft['V2'](),this['length']=_0x1fe303||0x0,this['joint']=new Di['Joint2D'](_0x3961ec,_0x483b6b),this['name']='',this['setStartLocation'](_0x5b4360),_0x530e12?(this['setEndLocation'](_0x530e12),this['length']===0x0&&(this['length']=this['getLength']())):_0x24fd05&&this['setEndLocation'](this['start']['plus'](_0x24fd05['normalised']()['multiplyScalar'](this['length'])));}return _0x2b8256['prototype']['clone']=function(){var _0x362399=new _0x2b8256(this['start'],this['end']);return _0x362399['length']=this['length'],_0x362399['globalConstraintUV']=this['globalConstraintUV'],_0x362399['boneConnectionPoint']=this['boneConnectionPoint'],_0x362399['joint']=this['joint']['clone'](),_0x362399['name']=this['name'],_0x362399;},_0x2b8256['prototype']['setName']=function(_0x465b77){this['name']=_0x465b77;},_0x2b8256['prototype']['setBoneConnectionPoint']=function(_0x14d280){this['boneConnectionPoint']=_0x14d280;},_0x2b8256['prototype']['setStartLocation']=function(_0xd1284a){this['start']['copy'](_0xd1284a);},_0x2b8256['prototype']['setEndLocation']=function(_0x1eb0ee){this['end']['copy'](_0x1eb0ee);},_0x2b8256['prototype']['setLength']=function(_0x181128){_0x181128>0x0&&(this['length']=_0x181128);},_0x2b8256['prototype']['setGlobalConstraintUV']=function(_0x444f0f){this['globalConstraintUV']=_0x444f0f;},_0x2b8256['prototype']['setJoint']=function(_0x24841a){this['joint']=_0x24841a;},_0x2b8256['prototype']['setClockwiseConstraintDegs']=function(_0x427a99){this['joint']['setClockwiseConstraintDegs'](_0x427a99);},_0x2b8256['prototype']['setAnticlockwiseConstraintDegs']=function(_0x2fbf81){this['joint']['setAnticlockwiseConstraintDegs'](_0x2fbf81);},_0x2b8256['prototype']['setJointConstraintCoordinateSystem']=function(_0x41f2df){this['joint']['setConstraintCoordinateSystem'](_0x41f2df);},_0x2b8256['prototype']['getGlobalConstraintUV']=function(){return this['globalConstraintUV'];},_0x2b8256['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x2b8256['prototype']['getDirectionUV']=function(){return this['end']['minus'](this['start'])['normalize']();},_0x2b8256['prototype']['getLength']=function(){return this['start']['distanceTo'](this['end']);},_0x2b8256;}());dt['Bone2D']=Ii;var Et={};Object['defineProperty'](Et,'__esModule',{'value':!0x0});Et['Chain2D']=void 0x0;var L=J,ht=Ut,q=st,_t=dt,Pi=et,Fi=(function(){function _0x1ba85c(){this['tmpTarget']=new q['V2'](),this['bones']=[],this['name']='',this['solveDistanceThreshold']=0x1,this['minIterationChange']=0.01,this['maxIteration']=0xf,this['precision']=0.001,this['chainLength']=0x0,this['numBones']=0x0,this['baseLocation']=new q['V2'](),this['fixedBaseMode']=!0x0,this['baseboneConstraintType']=L['BaseboneConstraintType']['NONE'],this['baseboneConstraintUV']=new q['V2'](),this['baseboneRelativeConstraintUV']=new q['V2'](),this['lastTargetLocation']=new q['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['lastBaseLocation']=new q['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['boneConnectionPoint']=L['ConnectionType']['END'],this['currentSolveDistance']=L['MAX_VALUE'],this['connectedChainNumber']=-0x1,this['connectedBoneNumber']=-0x1,this['embeddedTarget']=new q['V2'](),this['useEmbeddedTarget']=!0x1;}return _0x1ba85c['prototype']['clone']=function(){var _0x23c8e9=new _0x1ba85c();return _0x23c8e9['solveDistanceThreshold']=this['solveDistanceThreshold'],_0x23c8e9['minIterationChange']=this['minIterationChange'],_0x23c8e9['maxIteration']=this['maxIteration'],_0x23c8e9['precision']=this['precision'],_0x23c8e9['bones']=this['cloneBones'](),_0x23c8e9['baseLocation']['copy'](this['baseLocation']),_0x23c8e9['lastTargetLocation']['copy'](this['lastTargetLocation']),_0x23c8e9['lastBaseLocation']['copy'](this['lastBaseLocation']),this['baseboneConstraintType']!==L['BaseboneConstraintType']['NONE']&&(_0x23c8e9['baseboneConstraintUV']['copy'](this['baseboneConstraintUV']),_0x23c8e9['baseboneRelativeConstraintUV']['copy'](this['baseboneRelativeConstraintUV'])),_0x23c8e9['fixedBaseMode']=this['fixedBaseMode'],_0x23c8e9['chainLength']=this['chainLength'],_0x23c8e9['numBones']=this['numBones'],_0x23c8e9['currentSolveDistance']=this['currentSolveDistance'],_0x23c8e9['boneConnectionPoint']=this['boneConnectionPoint'],_0x23c8e9['connectedChainNumber']=this['connectedChainNumber'],_0x23c8e9['connectedBoneNumber']=this['connectedBoneNumber'],_0x23c8e9['baseboneConstraintType']=this['baseboneConstraintType'],_0x23c8e9['embeddedTarget']=this['embeddedTarget']['clone'](),_0x23c8e9['useEmbeddedTarget']=this['useEmbeddedTarget'],_0x23c8e9;},_0x1ba85c['prototype']['clear']=function(){for(var _0x38d7ea=this['numBones'];_0x38d7ea--;)this['removeBone'](_0x38d7ea);},_0x1ba85c['prototype']['addBone']=function(_0x340602){this['bones']['push'](_0x340602),this['numBones']===0x0&&(this['baseLocation']['copy'](_0x340602['start']),this['baseboneConstraintUV']['copy'](_0x340602['getDirectionUV']())),this['numBones']++,this['updateChainLength']();},_0x1ba85c['prototype']['removeBone']=function(_0x4caece){_0x4caece<this['numBones']&&(this['bones']['splice'](_0x4caece,0x1),this['numBones']--,this['updateChainLength']());},_0x1ba85c['prototype']['addConsecutiveBone']=function(_0xfee898,_0x15f10d,_0x7e87ea,_0x5bff29){if(this['numBones']===0x0){Pi['Tools']['error']('Chain\x20is\x20empty\x20!\x20need\x20first\x20bone');return;}if(_0xfee898 instanceof _t['Bone2D']){var _0x3a738f=_0xfee898,_0x3512e7=_0x3a738f['getDirectionUV']();ht['_Math']['validateDirectionUV'](_0x3512e7);var _0x483f9d=_0x3a738f['length'];ht['_Math']['validateLength'](_0x483f9d);var _0x19860c=this['bones'][this['numBones']-0x1]['end'];_0x3a738f['setStartLocation'](_0x19860c),_0x3a738f['setEndLocation'](_0x19860c['plus'](_0x3512e7['multiplyScalar'](_0x483f9d))),this['addBone'](_0x3a738f);}else if(_0xfee898 instanceof q['V2']){ht['_Math']['validateDirectionUV'](_0xfee898),ht['_Math']['validateLength'](_0x15f10d);var _0x19860c=this['bones'][this['numBones']-0x1]['end'];this['addBone'](new _t['Bone2D'](_0x19860c,void 0x0,_0xfee898['normalised'](),_0x15f10d,_0x7e87ea,_0x5bff29));}},_0x1ba85c['prototype']['getBoneConnectionPoint']=function(){return this['boneConnectionPoint'];},_0x1ba85c['prototype']['getConnectedBoneNumber']=function(){return this['connectedBoneNumber'];},_0x1ba85c['prototype']['getConnectedChainNumber']=function(){return this['connectedChainNumber'];},_0x1ba85c['prototype']['getEmbeddedTarget']=function(){return this['embeddedTarget'];},_0x1ba85c['prototype']['getBaseboneConstraintType']=function(){return this['baseboneConstraintType'];},_0x1ba85c['prototype']['getBaseboneConstraintUV']=function(){if(this['baseboneConstraintType']!==L['BaseboneConstraintType']['NONE'])return this['baseboneConstraintUV'];},_0x1ba85c['prototype']['getBaseLocation']=function(){return this['bones'][0x0]['start'];},_0x1ba85c['prototype']['getEffectorLocation']=function(){return this['bones'][this['numBones']-0x1]['end'];},_0x1ba85c['prototype']['getLastTargetLocation']=function(){return this['lastTargetLocation'];},_0x1ba85c['prototype']['getLiveChainLength']=function(){for(var _0x3bae5f=0x0,_0x26ff31=this['numBones'];_0x26ff31--;)_0x3bae5f+=this['bones'][_0x26ff31]['getLength']();return _0x3bae5f;},_0x1ba85c['prototype']['setBaseboneRelativeConstraintUV']=function(_0xf68726){_0xf68726&&(this['baseboneRelativeConstraintUV']=_0xf68726);},_0x1ba85c['prototype']['setConnectedBoneNumber']=function(_0x2fa91c){this['connectedBoneNumber']=_0x2fa91c;},_0x1ba85c['prototype']['setConnectedChainNumber']=function(_0x3a1259){this['connectedChainNumber']=_0x3a1259;},_0x1ba85c['prototype']['setBoneConnectionPoint']=function(_0x346689){this['boneConnectionPoint']=_0x346689;},_0x1ba85c['prototype']['setBaseboneConstraintUV']=function(_0xd0337e){ht['_Math']['validateDirectionUV'](_0xd0337e),this['baseboneConstraintUV']['copy'](_0xd0337e['normalised']());},_0x1ba85c['prototype']['setBaseLocation']=function(_0x2fdf20){this['baseLocation']['copy'](_0x2fdf20);},_0x1ba85c['prototype']['setBaseboneConstraintType']=function(_0x460df0){this['baseboneConstraintType']=_0x460df0;},_0x1ba85c['prototype']['setFixedBaseMode']=function(_0x312b02){!_0x312b02&&this['connectedChainNumber']!==-0x1||this['baseboneConstraintType']===L['BaseboneConstraintType']['GLOBAL_ABSOLUTE']&&!_0x312b02||(this['fixedBaseMode']=_0x312b02);},_0x1ba85c['prototype']['setMaxIterationAttempts']=function(_0x264483){_0x264483<0x1||(this['maxIteration']=_0x264483);},_0x1ba85c['prototype']['setMinIterationChange']=function(_0x187a87){_0x187a87<0x0||(this['minIterationChange']=_0x187a87);},_0x1ba85c['prototype']['setSolveDistanceThreshold']=function(_0x208892){_0x208892<0x0||(this['solveDistanceThreshold']=_0x208892);},_0x1ba85c['prototype']['solveForEmbeddedTarget']=function(){if(this['useEmbeddedTarget'])return this['solveForTarget'](this['embeddedTarget']);},_0x1ba85c['prototype']['resetTarget']=function(){this['lastBaseLocation']=new q['V2'](L['MAX_VALUE'],L['MAX_VALUE']),this['currentSolveDistance']=L['MAX_VALUE'];},_0x1ba85c['prototype']['solveForTarget']=function(_0x38fcb9){this['tmpTarget']['set'](_0x38fcb9['x'],_0x38fcb9['y']);var _0x1a3967=this['precision'],_0x320887=this['lastBaseLocation']['approximatelyEquals'](this['baseLocation'],_0x1a3967);if(this['lastTargetLocation']['approximatelyEquals'](this['tmpTarget'],_0x1a3967)&&_0x320887)return this['currentSolveDistance'];var _0x6cb8fc,_0x34ec9d=null;_0x320887?(_0x6cb8fc=this['bones'][this['numBones']-0x1]['end']['distanceTo'](this['tmpTarget']),_0x34ec9d=this['cloneBones']()):_0x6cb8fc=L['MAX_VALUE'];for(var _0xffc265=[],_0x35f587=L['MAX_VALUE'],_0x2bc30b=L['MAX_VALUE'],_0x4695e2,_0x23df2e=this['maxIteration'];_0x23df2e--;){if(_0x4695e2=this['solveIK'](this['tmpTarget']),_0x4695e2!==void 0x0&&_0x4695e2<_0x35f587){if(_0x35f587=_0x4695e2,_0xffc265=this['cloneBones'](),_0x4695e2<=this['solveDistanceThreshold'])break;}else if(_0x4695e2===void 0x0||Math['abs'](_0x4695e2-_0x2bc30b)<this['minIterationChange'])break;_0x2bc30b=_0x4695e2;}return _0x35f587<_0x6cb8fc?(this['currentSolveDistance']=_0x35f587,this['bones']=_0xffc265):(this['currentSolveDistance']=_0x6cb8fc,this['bones']=_0x34ec9d||this['bones']),this['lastBaseLocation']['copy'](this['baseLocation']),this['lastTargetLocation']['copy'](this['tmpTarget']),this['currentSolveDistance'];},_0x1ba85c['prototype']['solveIK']=function(_0x2df8a0){if(this['numBones']!==0x0){for(var _0x49fe48,_0x205753,_0x1579c4,_0x53c7e5,_0x592520,_0x3c5eed,_0x365b78,_0x1cafa2=this['numBones'];_0x1cafa2--;)_0x49fe48=this['bones'][_0x1cafa2],_0x205753=_0x49fe48['length'],_0x1cafa2!==this['numBones']-0x1?(_0x1579c4=this['bones'][_0x1cafa2+0x1],_0x3c5eed=_0x49fe48['getDirectionUV']()['negate'](),_0x365b78=_0x49fe48['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?_0x1579c4['getDirectionUV']()['negate']():_0x49fe48['getGlobalConstraintUV']()['negated'](),_0x3c5eed['constrainedUV'](_0x365b78,_0x1579c4['joint']['min'],_0x1579c4['joint']['max']),_0x53c7e5=_0x49fe48['end']['plus'](_0x3c5eed['multiplyScalar'](_0x205753)),_0x49fe48['setStartLocation'](_0x53c7e5),_0x1cafa2>0x0&&this['bones'][_0x1cafa2-0x1]['setEndLocation'](_0x53c7e5)):(_0x49fe48['setEndLocation'](_0x2df8a0),_0x3c5eed=_0x49fe48['getDirectionUV']()['negate'](),_0x1cafa2>0x0?(_0x365b78=_0x49fe48['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?this['bones'][_0x1cafa2-0x1]['getDirectionUV']()['negate']():_0x49fe48['getGlobalConstraintUV']()['negated'](),_0x3c5eed['constrainedUV'](_0x365b78,_0x49fe48['joint']['min'],_0x49fe48['joint']['max'])):_0x49fe48['joint']['coordinateSystem']!==L['JointType']['J_LOCAL']&&(_0x365b78=_0x49fe48['getGlobalConstraintUV']()['negated'](),_0x3c5eed['constrainedUV'](_0x365b78,_0x49fe48['joint']['min'],_0x49fe48['joint']['max'])),_0x53c7e5=_0x49fe48['end']['plus'](_0x3c5eed['multiplyScalar'](_0x205753)),_0x49fe48['setStartLocation'](_0x53c7e5),_0x1cafa2>0x0&&this['bones'][_0x1cafa2-0x1]['setEndLocation'](_0x53c7e5));for(_0x1cafa2=0x0;_0x1cafa2<this['numBones'];_0x1cafa2++)_0x49fe48=this['bones'][_0x1cafa2],_0x205753=_0x49fe48['length'],_0x1cafa2!==0x0?(_0x3c5eed=_0x49fe48['getDirectionUV'](),_0x365b78=_0x49fe48['joint']['coordinateSystem']===L['JointType']['J_LOCAL']?this['bones'][_0x1cafa2-0x1]['getDirectionUV']():_0x49fe48['getGlobalConstraintUV'](),_0x3c5eed['constrainedUV'](_0x365b78,_0x49fe48['joint']['min'],_0x49fe48['joint']['max']),_0x592520=_0x49fe48['start']['plus'](_0x3c5eed['multiplyScalar'](_0x205753)),_0x49fe48['setEndLocation'](_0x592520),_0x1cafa2<this['numBones']-0x1&&this['bones'][_0x1cafa2+0x1]['setStartLocation'](_0x592520)):(this['fixedBaseMode']?_0x49fe48['setStartLocation'](this['baseLocation']):(_0x53c7e5=_0x49fe48['end']['minus'](_0x49fe48['getDirectionUV']()['multiplyScalar'](_0x205753)),_0x49fe48['setStartLocation'](_0x53c7e5)),_0x3c5eed=_0x49fe48['getDirectionUV'](),this['baseboneConstraintType']===L['BaseboneConstraintType']['NONE']?(_0x592520=_0x49fe48['start']['plus'](_0x3c5eed['multiplyScalar'](_0x205753)),_0x49fe48['setEndLocation'](_0x592520),this['numBones']>0x1&&this['bones'][0x1]['setStartLocation'](_0x592520)):(_0x365b78=this['baseboneConstraintType']===L['BaseboneConstraintType']['LOCAL_ABSOLUTE']?this['baseboneRelativeConstraintUV']:this['baseboneConstraintUV'],_0x3c5eed['constrainedUV'](_0x365b78,_0x49fe48['joint']['min'],_0x49fe48['joint']['max']),_0x592520=_0x49fe48['start']['plus'](_0x3c5eed['multiplyScalar'](_0x205753)),_0x49fe48['setEndLocation'](_0x592520),_0x1cafa2<this['numBones']-0x1&&this['bones'][_0x1cafa2+0x1]['setStartLocation'](_0x592520)));return this['lastTargetLocation']['copy'](_0x2df8a0),this['bones'][this['numBones']-0x1]['end']['distanceTo'](_0x2df8a0);}},_0x1ba85c['prototype']['updateChainLength']=function(){this['chainLength']=0x0;for(var _0x346380=this['numBones'];_0x346380--;)this['chainLength']+=this['bones'][_0x346380]['length'];},_0x1ba85c['prototype']['cloneBones']=function(){for(var _0xb80163=[],_0x1d4174=0x0,_0x4c1ca6=this['bones']['length'];_0x1d4174<_0x4c1ca6;_0x1d4174++)_0xb80163['push'](this['bones'][_0x1d4174]['clone']());return _0xb80163;},_0x1ba85c['isChain2D']=!0x0,_0x1ba85c;}());Et['Chain2D']=Fi;var zt={};Object['defineProperty'](zt,'__esModule',{'value':!0x0});zt['Structure2D']=void 0x0;var it=J,jt=et,Oi=(function(){function _0x59e68f(){this['fixedBaseMode']=!0x0,this['chains']=[],this['targets']=[],this['numChains']=0x0;}return _0x59e68f['prototype']['update']=function(){for(var _0x3a513a,_0xc9bdc5,_0x16ffa6,_0x44d74c,_0x13fcee,_0x213d29=0x0;_0x213d29<this['numChains'];_0x213d29++){if(_0xc9bdc5=this['chains'][_0x213d29],_0x16ffa6=this['targets'][_0x213d29]||null,_0x44d74c=_0xc9bdc5['getConnectedChainNumber'](),_0x13fcee=_0xc9bdc5['getBaseboneConstraintType'](),_0x44d74c!==-0x1&&_0x13fcee!==it['BaseboneConstraintType']['GLOBAL_ABSOLUTE']){var _0x4fb804=this['chains'][_0x44d74c]['bones'][_0xc9bdc5['getConnectedBoneNumber']()];_0xc9bdc5['setBaseLocation'](_0xc9bdc5['getBoneConnectionPoint']()===it['ConnectionType']['START']?_0x4fb804['start']:_0x4fb804['end']);var _0x244e94=_0x4fb804['getDirectionUV']();if(_0x13fcee===it['BaseboneConstraintType']['LOCAL_RELATIVE'])_0xc9bdc5['setBaseboneConstraintUV'](_0x244e94);else if(_0x13fcee===it['BaseboneConstraintType']['LOCAL_ABSOLUTE']){var _0x1c9bb6=it['UP']['getSignedAngle'](_0x244e94),_0x1fa72c=(_0x3a513a=_0xc9bdc5['getBaseboneConstraintUV']())===null||_0x3a513a===void 0x0?void 0x0:_0x3a513a['clone']()['rotate'](_0x1c9bb6);_0xc9bdc5['setBaseboneRelativeConstraintUV'](_0x1fa72c);}}_0xc9bdc5['useEmbeddedTarget']?console['log']('embed',_0xc9bdc5['solveForEmbeddedTarget']()):_0xc9bdc5['solveForTarget'](_0x16ffa6);}},_0x59e68f['prototype']['setFixedBaseMode']=function(_0x2953fc){this['fixedBaseMode']=_0x2953fc;for(var _0x30fb12=this['numChains'],_0x1b6807;_0x30fb12--;)_0x1b6807=this['chains'][_0x30fb12]['getConnectedChainNumber'](),_0x1b6807===-0x1&&this['chains'][_0x30fb12]['setFixedBaseMode'](this['fixedBaseMode']);},_0x59e68f['prototype']['clear']=function(){var _0x19f9ca;for(_0x19f9ca=this['numChains'];_0x19f9ca--;)this['remove'](_0x19f9ca);this['chains']=[],this['targets']=[];},_0x59e68f['prototype']['add']=function(_0x32119a,_0x5d59b9){this['chains']['push'](_0x32119a),this['numChains']++,_0x5d59b9&&this['targets']['push'](_0x5d59b9);},_0x59e68f['prototype']['remove']=function(_0x47d67c){this['chains'][_0x47d67c]['clear'](),this['chains']['splice'](_0x47d67c,0x1),this['targets']['splice'](_0x47d67c,0x1),this['numChains']--;},_0x59e68f['prototype']['getNumChains']=function(){return this['numChains'];},_0x59e68f['prototype']['getChain']=function(_0x5b5203){return this['chains'][_0x5b5203];},_0x59e68f['prototype']['connectChain']=function(_0x521da3,_0x8991f9,_0x3facce,_0x2f20da){var _0x1b1ba3=_0x8991f9,_0x287fa2=_0x3facce;if(_0x2f20da=_0x2f20da||'end',_0x1b1ba3>this['numChains']){jt['Tools']['error']('Chain\x20does\x20not\x20exist!');return;}if(_0x287fa2>this['chains'][_0x1b1ba3]['numBones']){jt['Tools']['error']('Bone\x20does\x20not\x20exist!');return;}var _0x1955a7=_0x521da3['clone']();_0x1955a7['setBoneConnectionPoint'](_0x2f20da==='end'?it['ConnectionType']['END']:it['ConnectionType']['START']),_0x1955a7['setConnectedChainNumber'](_0x1b1ba3),_0x1955a7['setConnectedBoneNumber'](_0x287fa2);var _0x4a61c4=_0x2f20da==='end'?this['chains'][_0x1b1ba3]['bones'][_0x287fa2]['end']:this['chains'][_0x1b1ba3]['bones'][_0x287fa2]['start'];_0x1955a7['setBaseLocation'](_0x4a61c4),_0x1955a7['setFixedBaseMode'](!0x0);for(var _0x3006d8=0x0;_0x3006d8<_0x1955a7['numBones'];_0x3006d8++)_0x1955a7['bones'][_0x3006d8]['start']['add'](_0x4a61c4),_0x1955a7['bones'][_0x3006d8]['end']['add'](_0x4a61c4);},_0x59e68f['isStructure2D']=!0x0,_0x59e68f;}());zt['Structure2D']=Oi;(function(_0x7f2a98){var _0x10850c=At&&At['__createBinding']||(Object['create']?function(_0x2ef7a2,_0x144bb4,_0x3bec91,_0x59640f){_0x59640f===void 0x0&&(_0x59640f=_0x3bec91);var _0x29977e=Object['getOwnPropertyDescriptor'](_0x144bb4,_0x3bec91);(!_0x29977e||('get'in _0x29977e?!_0x144bb4['__esModule']:_0x29977e['writable']||_0x29977e['configurable']))&&(_0x29977e={'enumerable':!0x0,'get':function(){return _0x144bb4[_0x3bec91];}}),Object['defineProperty'](_0x2ef7a2,_0x59640f,_0x29977e);}:function(_0x2a8718,_0x267fb2,_0xdc99f9,_0x531475){_0x531475===void 0x0&&(_0x531475=_0xdc99f9),_0x2a8718[_0x531475]=_0x267fb2[_0xdc99f9];}),_0x429235=At&&At['__exportStar']||function(_0x125439,_0x979ad4){for(var _0x57f811 in _0x125439)_0x57f811!=='default'&&!Object['prototype']['hasOwnProperty']['call'](_0x979ad4,_0x57f811)&&_0x10850c(_0x979ad4,_0x125439,_0x57f811);};Object['defineProperty'](_0x7f2a98,'__esModule',{'value':!0x0}),_0x7f2a98['Structure2D']=_0x7f2a98['Chain2D']=_0x7f2a98['Bone2D']=_0x7f2a98['Joint2D']=_0x7f2a98['Structure3D']=_0x7f2a98['Chain3D']=_0x7f2a98['Bone3D']=_0x7f2a98['Joint3D']=_0x7f2a98['M3']=_0x7f2a98['V3']=_0x7f2a98['V2']=_0x7f2a98['_Math']=void 0x0;var _0x571277=Ut;Object['defineProperty'](_0x7f2a98,'_Math',{'enumerable':!0x0,'get':function(){return _0x571277['_Math'];}});var _0x1a05a5=st;Object['defineProperty'](_0x7f2a98,'V2',{'enumerable':!0x0,'get':function(){return _0x1a05a5['V2'];}});var _0x302a65=W;Object['defineProperty'](_0x7f2a98,'V3',{'enumerable':!0x0,'get':function(){return _0x302a65['V3'];}});var _0x3cdc4f=at;Object['defineProperty'](_0x7f2a98,'M3',{'enumerable':!0x0,'get':function(){return _0x3cdc4f['M3'];}});var _0x2e3ee4=ct;Object['defineProperty'](_0x7f2a98,'Joint3D',{'enumerable':!0x0,'get':function(){return _0x2e3ee4['Joint3D'];}});var _0x5865f4=mt;Object['defineProperty'](_0x7f2a98,'Bone3D',{'enumerable':!0x0,'get':function(){return _0x5865f4['Bone3D'];}});var _0x4054e8=Rt;Object['defineProperty'](_0x7f2a98,'Chain3D',{'enumerable':!0x0,'get':function(){return _0x4054e8['Chain3D'];}});var _0x2eb16d=Lt;Object['defineProperty'](_0x7f2a98,'Structure3D',{'enumerable':!0x0,'get':function(){return _0x2eb16d['Structure3D'];}});var _0x1e5093=ft;Object['defineProperty'](_0x7f2a98,'Joint2D',{'enumerable':!0x0,'get':function(){return _0x1e5093['Joint2D'];}});var _0x5e3f3e=dt;Object['defineProperty'](_0x7f2a98,'Bone2D',{'enumerable':!0x0,'get':function(){return _0x5e3f3e['Bone2D'];}});var _0x29c8b9=Et;Object['defineProperty'](_0x7f2a98,'Chain2D',{'enumerable':!0x0,'get':function(){return _0x29c8b9['Chain2D'];}});var _0x659182=zt;Object['defineProperty'](_0x7f2a98,'Structure2D',{'enumerable':!0x0,'get':function(){return _0x659182['Structure2D'];}}),_0x429235(J,_0x7f2a98);}(Q));class H extends G{constructor(_0x30a012){super();o(this,'name');o(this,'boneLength');o(this,'boneId');if(this['name']=_0x30a012,this['boneId']=-0x1,this['name']=='root'){this['boneLength']=0.05;const _0x2f8ab3=new H('upperArm');_0x2f8ab3['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x2f8ab3);}else if(this['name']=='upperArm'){this['boneLength']=0.5,this['rotation']=D['makeRotationY'](X['degreesToRadians'](-0x2d));const _0x32b318=new H('middleArm');_0x32b318['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x32b318);}else if(this['name']=='middleArm'){this['boneLength']=0.4,this['rotation']=D['makeRotationZ'](X['degreesToRadians'](0x2d));const _0x53202d=new H('lowerArm');_0x53202d['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x53202d);}else if(this['name']=='lowerArm'){this['boneLength']=0.4,this['rotation']=D['makeRotationZ'](X['degreesToRadians'](0x2d));const _0x5270d6=new H('endEffector');_0x5270d6['position']['set'](0x0,this['boneLength'],0x0),this['add'](_0x5270d6);}else this['name']=='endEffector'?this['boneLength']=0.1:this['boneLength']=0x0;}['createMeshes'](){if(this['name']=='root'){const _0x25f764=new K(0.5,this['boneLength'],0.5);_0x25f764['translateY'](this['boneLength']/0x2),this['add'](_0x25f764);const _0x240c7b=new yt(0.1,0x2);_0x240c7b['scale']['set'](0x1,0.5,0x1),_0x240c7b['translateY'](this['boneLength']),this['add'](_0x240c7b);}else if(this['name']=='upperArm'){const _0x1c3acc=new K(0.05,this['boneLength'],0.05);_0x1c3acc['translateY'](this['boneLength']/0x2),this['add'](_0x1c3acc);const _0x356255=new yt(0.05,0x1);_0x356255['translateY'](this['boneLength']),this['add'](_0x356255);}else if(this['name']=='middleArm'){const _0x579b54=new K(0.05,this['boneLength'],0.05);_0x579b54['translateY'](this['boneLength']/0x2),this['add'](_0x579b54);const _0x49717b=new yt(0.05,0x1);_0x49717b['translateY'](this['boneLength']),this['add'](_0x49717b);}else if(this['name']=='lowerArm'){const _0x3a6021=new K(0.05,this['boneLength'],0.05);_0x3a6021['translateY'](this['boneLength']/0x2),this['add'](_0x3a6021);const _0x2f8bb4=new yt(0.05,0x1);_0x2f8bb4['translateY'](this['boneLength']),this['add'](_0x2f8bb4);}else if(this['name']=='endEffector'){const _0x1ef647=new K(0.025,this['boneLength'],0.025),_0x2bec71=new pt(_0x1ef647);_0x2bec71['rotateY'](X['degreesToRadians'](0x5a)),_0x2bec71['rotateZ'](X['degreesToRadians'](0x2d)),_0x2bec71['translateY'](this['boneLength']/0x2+0.03),this['add'](_0x2bec71);const _0x43ac26=new pt(_0x1ef647);_0x43ac26['translateY'](this['boneLength']/0x2-0.01),_0x43ac26['rotateZ'](X['degreesToRadians'](-0x4b)),_0x43ac26['translateY'](this['boneLength']/0x2-0.01),_0x2bec71['add'](_0x43ac26);const _0x50f6f9=new pt(_0x1ef647);_0x50f6f9['rotateY'](X['degreesToRadians'](0x5a)),_0x50f6f9['rotateZ'](X['degreesToRadians'](-0x2d)),_0x50f6f9['translateY'](this['boneLength']/0x2+0.03),this['add'](_0x50f6f9);const _0x3751b7=new pt(_0x1ef647);_0x3751b7['translateY'](this['boneLength']/0x2-0.01),_0x3751b7['rotateZ'](X['degreesToRadians'](0x4b)),_0x3751b7['translateY'](this['boneLength']/0x2-0.01),_0x50f6f9['add'](_0x3751b7);}this['children']['forEach'](_0x278d7b=>{_0x278d7b instanceof H&&_0x278d7b['createMeshes']();});}['setPose'](_0x504acf,_0x2a65a8){this['name']==_0x504acf?this['rotation']['copy'](_0x2a65a8):this['children']['forEach'](_0x46e6e5=>{_0x46e6e5 instanceof H&&_0x46e6e5['setPose'](_0x504acf,_0x2a65a8);});}['createChain'](_0x9874bc){if(this['name']=='upperArm'){const _0x5c667a=new Q['Bone3D'](new Q['V3'](this['position']['x'],this['position']['y'],this['position']['z']),void 0x0,new Q['V3'](0x0,0x1,0x0),this['boneLength']);_0x9874bc['addBone'](_0x5c667a),this['boneId']=0x0;}else this['name']!='root'&&(_0x9874bc['addConsecutiveBone'](new Q['V3'](0x0,0x1,0x0),this['boneLength']),this['boneId']=_0x9874bc['bones']['length']-0x1);this['children']['forEach'](_0x10abdb=>{_0x10abdb instanceof H&&_0x10abdb['createChain'](_0x9874bc);});}['update'](_0x4bf1e8){if(this['boneId']>=0x0){const _0x5f2286=_0x4bf1e8['bones'][this['boneId']],_0x33413b=new m(_0x5f2286['end']['x']-_0x5f2286['start']['x'],_0x5f2286['end']['y']-_0x5f2286['start']['y'],_0x5f2286['end']['z']-_0x5f2286['start']['z']);this['rotation']['setIdentity'](),this['updateWorldMatrix']();const [_0x461ab6,_0x1f50bc,_0x51f62d]=this['worldMatrix']['decompose']();_0x33413b['rotate'](_0x1f50bc['inverse']()),this['rotation']['lookAt'](m['ZERO'],_0x33413b),this['rotateX'](-Math['PI']/0x2);}this['children']['forEach'](_0x1b117c=>{_0x1b117c instanceof H&&_0x1b117c['update'](_0x4bf1e8);});}}class Vi extends G{constructor(){super();o(this,'root');o(this,'ikSolver');o(this,'ikChain');this['root']=new H('root'),this['add'](this['root']),this['ikChain']=new Q['Chain3D'](),this['root']['createChain'](this['ikChain']),this['ikSolver']=new Q['Structure3D'](),this['ikSolver']['add'](this['ikChain'],new Q['V3']());}['createMeshes'](){this['root']['createMeshes']();}['setPose'](_0x2f0166,_0x572378){this['root']['setPose'](_0x2f0166,_0x572378);}['update'](_0x40b15b){this['ikSolver']['targets'][0x0]['set'](_0x40b15b['x'],_0x40b15b['y'],_0x40b15b['z']),this['ikSolver']['update'](),this['root']['update'](this['ikChain']);}}class Ni extends S{constructor(){super();o(this,'cameraControls');o(this,'target');o(this,'robot');this['cameraControls']=new li(this['camera']),this['target']=new ui(0.2,0.01,0.025),this['robot']=new Vi();}['createScene'](){this['camera']['setPerspectiveCamera'](0x3c,0x780/0x438,0.1,0x14),this['cameraControls']['setTargetPoint'](new m(0x0,0.6,0x0)),this['cameraControls']['setDistance'](1.5),this['renderer']['background']['set'](0x0,0x0,0x0);const _0x4536f8=new ci(new m(0.3,0.3,0.3));this['scene']['add'](_0x4536f8);const _0x49858b=new mi(new m(0.6,0.6,0.6));_0x49858b['position']['set'](0x2,0x1,0x3),this['scene']['add'](_0x49858b);const _0x306a86=0xa,_0x54482f=[];for(let _0x23103b=-_0x306a86/0x2;_0x23103b<=_0x306a86/0x2;_0x23103b++)_0x54482f['push'](-_0x306a86/0x2,0x0,_0x23103b),_0x54482f['push'](_0x306a86/0x2,0x0,_0x23103b),_0x54482f['push'](_0x23103b,0x0,-_0x306a86/0x2),_0x54482f['push'](_0x23103b,0x0,_0x306a86/0x2);const _0x3e3904=new Ht(Ot['LINES']);_0x3e3904['setVertices'](_0x54482f),_0x3e3904['createDefaultVertexColors'](),_0x3e3904['material']['color']['set'](0.5,0.5,0.5),this['scene']['add'](_0x3e3904),this['robot']['createMeshes'](),this['scene']['add'](this['robot']),this['target']['position']['set'](0.5,0.6,-0.5),this['scene']['add'](this['target']);}['update'](_0xf05362){this['target']['update'](_0xf05362),this['target']['isSelected']()?this['cameraControls']['freeze']():this['cameraControls']['update'](_0xf05362),this['robot']['update'](this['target']['position']);}}const Yi=new Ni();Yi['start']();